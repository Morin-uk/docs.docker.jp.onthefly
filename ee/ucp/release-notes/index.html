<!-- Page generated 2019-04-19 11:21:43 +0900 -->
<!-- relative link basehrefs -->

	
	
	
		
			
		
	
		
			
		
	
		
			
			


<!-- Logic for 'edit this button' -->


	

	

	

	

	

	

	

	

	


<!-- End of logic for 'edit this button' -->


<!DOCTYPE html>
<html lang="ja">

<head>
	<base href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<style type="text/css">
		@charset "UTF-8";
		[ng\:cloak],
		[ng-cloak],
		[data-ng-cloak],
		[x-ng-cloak],
		.ng-cloak,
		.x-ng-cloak,
		.ng-hide:not(.ng-hide-animate) {
			display: none !important;
		}

		ng\:form {
			display: block;
		}
	</style>
	<script type="text/javascript">
	  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
	  analytics.load("IWj9D0UpZHZdZUZX9jl98PcpBFWBnBMy");
	  analytics.page();
	  }}();
	</script>
	
	<!-- favicon -->
	<link rel="icon" type="image/x-icon" href="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta name="msapplication-TileImage" content="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico">
	<link rel="apple-touch-icon" type="image/x-icon" href="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta property="og:image" content="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
	<!-- metadata -->
	<meta property="og:type" content="website"/>
	<meta property="og:updated_time" itemprop="dateUpdated" content="2019-04-19T11:21:43+09:00"/>
	<meta property="og:image" itemprop="image primaryImageOfPage" content="https://matsuand.github.io/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:card" content="summary"/>
	<meta name="twitter:domain" content="docs.docker.jp"/>
	<meta name="twitter:site" content="@docker_docs"/>
	<meta name="twitter:url" content="https://twitter.com/docker_docs"/>
	<meta name="twitter:title" itemprop="title name" content="UCP release notes"/>
	<meta name="twitter:description" property="og:description" itemprop="description" content="Here you can learn about new features, bug fixes, breaking changes, and known issues for the latest UCP version. You can then use the upgrade instructions to upgrade your installation..." />
	<meta name="twitter:image:src" content="https://matsuand.github.io/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:image:alt" content="Docker Documentation"/>
	<meta property="article:published_time" itemprop="datePublished" content="2019-04-19T11:21:43+09:00"/>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="keywords" content="UCP, release notes">
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/bootstrap.min.css">
	<link id="pygments" rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/pygments/perldoc.css">
	<link id="pagestyle" rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/style.css">

	<!-- Go get "Open Sans" font from Google -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
	<!-- SEO stuff -->
	<title>UCP release notes | Docker Documentation</title>
<meta property="og:title" content="UCP release notes" />
<meta property="og:locale" content="ja_JP" />
<meta name="description" content="Release notes for Docker Universal Control Plane. Learn more about the changes introduced in the latest versions." />
<meta property="og:description" content="Release notes for Docker Universal Control Plane. Learn more about the changes introduced in the latest versions." />
<link rel="canonical" href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/release-notes/" />
<meta property="og:url" content="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/release-notes/" />
<meta property="og:site_name" content="Docker Documentation" />
<script type="application/ld+json">
{"@context":"http://schema.org","@type":"WebPage","headline":"UCP release notes","description":"Release notes for Docker Universal Control Plane. Learn more about the changes introduced in the latest versions.","url":"https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/release-notes/"}</script>
	<!-- END SEO STUFF -->
	
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v18.09';
	</script>
</head>
<body ng-app="Docker" ng-controller="DockerController" class="colums">
	<header>
		 <nav class="nav-secondary navbar navbar-fixed-top">
    <!-- <div class="fan"></div> -->
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="https://matsuand.github.io/docs.docker.jp.onthefly/"><img class="logo" src="https://matsuand.github.io/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs"></a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="search-form" id="search-div" style="visibility: hidden">
    <form class="search-form form-inline ng-pristine ng-valid" /id="searchForm" action="/docs.docker.jp.onthefly/search/">
        <input class="search-field form-control ds-input" id="st-search-input" value="" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteContainer">
            <div id="autocompleteResults"></div>
        </div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container">
    <div id="tabs">
        <ul class="tabs" id="jsTOCHorizontal">

        </ul>
    </div>
    <div class="ctrl-right hidden-xs hidden-sm">
        <a href="javascript:void(0)" id="menu-toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
        <div class="btn-group" style="visibility: hidden">
  <button type="button" class="btn btn-default dropdown-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Docker v18.09 (current)        <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
    <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/edge/">Docker edge</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.03/">Docker v18.03</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.12/">Docker v17.12</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.09/">Docker v17.09</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.06/">Docker v17.06</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.03/">Docker v17.03</a></li>
  </ul>
</div>

    </div>
</div>

        </div>
    </div>
</nav>

	</header>

	<div class="wrapper right-open">
		<div class="container-fluid">
			<div class="row">
				<div class="col-body">
					<main class="col-content content">
						<section class="section">
							
								
							<h1>UCP release notes</h1>  <span class="reading-time" title="Estimated reading time">
  <span class="reading-time-label">読む時間の目安: </span>
  
  
    73 分
  
</span>

							
							
							<p>Here you can learn about new features, bug fixes, breaking changes, and
known issues for the latest UCP version.
You can then use <a href="admin/install/upgrade.md">the upgrade instructions</a> to
upgrade your installation to the latest release.</p>

<ul>
  <li><a href="#version-31">Version 3.1</a></li>
  <li><a href="#version-30">Version 3.0</a></li>
  <li><a href="#version-22">Version 2.2</a></li>
</ul>

<h1 id="version-31">Version 3.1</h1>

<h2 id="316">3.1.6</h2>
<p>(2019-04-11)</p>

<h3 id="kubernetes">Kubernetes</h3>
<ul>
  <li>Updated Kubernetes to version 1.11.9.</li>
</ul>

<h3 id="networking">Networking</h3>
<ul>
  <li>Updated Calico to version 3.5.3.</li>
</ul>

<h3 id="authentication-and-authorization">Authentication and Authorization</h3>
<ul>
  <li>Accessing the <code class="highlighter-rouge">ListAccount</code> API endpoint now requires an admin user. Accessing the <code class="highlighter-rouge">GetAccount</code> API endpoint now requires an admin user, the actual user, or a member of the organization being inspected. <a href="https://docker.atlassian.net/browse/ENGORC-100">ENGORC-100</a></li>
</ul>

<h3 id="known-issues">Known Issues</h3>
<ul>
  <li>Upgrading from UCP 3.1.4 to 3.1.5 causes missing Swarm placement constraints banner for some Swarm services (ENGORC-2191). This can cause Swarm services to run unexpectedly on Kubernetes nodes. See https://www.docker.com/ddc-41 for more information.
    <ul>
      <li>Workaround: Delete any <code class="highlighter-rouge">ucp-*-s390x</code> Swarm services. For example, <code class="highlighter-rouge">ucp-auth-api-s390x</code>.</li>
    </ul>
  </li>
  <li>There are important changes to the upgrade process that, if not correctly followed, can impact the availability of applications running on the Swarm during uprades. These constraints impact any upgrades coming from any Docker Engine version before 18.09 to version 18.09 or greater. For more information about about upgrading Docker Enterprise to version 2.1, see <a href="../upgrade">Upgrade Docker</a>.</li>
  <li>To deploy Pods with containers using Restricted Parameters, the user must be an admin and a service account must explicitly have a <strong>ClusterRoleBinding</strong> with <code class="highlighter-rouge">cluster-admin</code> as the  <strong>ClusterRole</strong>. Restricted Parameters on Containers include:
    <ul>
      <li>Host Bind Mounts</li>
      <li>Privileged Mode</li>
      <li>Extra Capabilities</li>
      <li>Host Networking</li>
      <li>Host IPC</li>
      <li>Host PID</li>
    </ul>
  </li>
  <li>If you delete the built-in <strong>ClusterRole</strong> or <strong>ClusterRoleBinding</strong> for <code class="highlighter-rouge">cluster-admin</code>, restart the <code class="highlighter-rouge">ucp-kube-apiserver</code> container on any manager node to recreate them. (#14483)</li>
  <li>Pod Security Policies are not supported in this release. (#15105)</li>
  <li>The default Kubelet configuration for UCP Manager nodes is expecting 4GB of free disk space in the <code class="highlighter-rouge">/var</code> partition. See <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/admin/install/system-requirements">System Requirements</a> for details.</li>
</ul>

<h3 id="components">Components</h3>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UCP</td>
      <td>3.1.6</td>
    </tr>
    <tr>
      <td>Kubernetes</td>
      <td>1.11.9</td>
    </tr>
    <tr>
      <td>Calico</td>
      <td>3.5.3</td>
    </tr>
    <tr>
      <td>Interlock (nginx)</td>
      <td>1.14.0</td>
    </tr>
  </tbody>
</table>

<h2 id="315">3.1.5</h2>
<p>2019-03-28</p>

<h3 id="kubernetes-1">Kubernetes</h3>
<ul>
  <li>Updated Kubernetes to version 1.11.8. (ENGORC-2024)</li>
</ul>

<h3 id="networking-1">Networking</h3>
<ul>
  <li>Updated Calico to version 3.5.2. (ENGORC-2045)</li>
</ul>

<h3 id="authentication-and-authorization-1">Authentication and Authorization</h3>
<ul>
  <li>Added LDAP Settings API to the list of publicly documented API endpoints. (ENGORC-98)</li>
  <li>Added a new <code class="highlighter-rouge">exclude_server_identity_headers</code> field to the UCP config. If set to true, the headers are not included in UCP API responses. (docker/orca#16039)</li>
  <li>Hid most of the UCP banners for non-admin users. (docker/orca#14631)</li>
  <li>When LDAP or SAML is enabled, provided admin users an option to disable managed password authentication, which includes login and creation of new users. (ENGORC-1999)</li>
</ul>

<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
  <li>Changed Interlock proxy service default <code class="highlighter-rouge">update-action-failure</code> to rollback. (ENGCORE-117)</li>
  <li>Added validation for service configuration label values. (ENGCORE-114)</li>
  <li>Fixed an issue with continuous interlock reconciliation if <code class="highlighter-rouge">ucp-interlock</code> service image does not match expected version. (ENGORC-2081)</li>
</ul>

<h3 id="known-issues-1">Known Issues</h3>

<ul>
  <li>Upgrading from UCP 3.1.4 to 3.1.5 causes missing Swarm placement constraints banner for some Swarm services (ENGORC-2191). This can cause Swarm services to run unexpectedly on Kubernetes nodes. See https://www.docker.com/ddc-41 for more information.
    <ul>
      <li>Workaround: Delete any <code class="highlighter-rouge">ucp-*-s390x</code> Swarm services. For example, <code class="highlighter-rouge">ucp-auth-api-s390x</code>.</li>
    </ul>
  </li>
  <li>There are important changes to the upgrade process that, if not correctly followed, can impact the availability of applications running on the Swarm during uprades. These constraints impact any upgrades coming from any Docker Engine version before 18.09 to version 18.09 or greater. For more information about about upgrading Docker Enterprise to version 2.1, see <a href="../upgrade">Upgrade Docker</a></li>
  <li>To deploy Pods with containers using Restricted Parameters, the user must be an admin and a service account must explicitly have a <strong>ClusterRoleBinding</strong> with <code class="highlighter-rouge">cluster-admin</code> as the  <strong>ClusterRole</strong>. Restricted Parameters on Containers include:
    <ul>
      <li>Host Bind Mounts</li>
      <li>Privileged Mode</li>
      <li>Extra Capabilities</li>
      <li>Host Networking</li>
      <li>Host IPC</li>
      <li>Host PID</li>
    </ul>
  </li>
  <li>If you delete the built-in <strong>ClusterRole</strong> or <strong>ClusterRoleBinding</strong> for <code class="highlighter-rouge">cluster-admin</code>, restart the <code class="highlighter-rouge">ucp-kube-apiserver</code> container on any manager node to recreate them. (#14483)</li>
  <li>Pod Security Policies are not supported in this release. (#15105)</li>
  <li>The default Kubelet configuration for UCP Manager nodes is expecting 4GB of free disk space in the <code class="highlighter-rouge">/var</code> partition. See <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/admin/install/system-requirements">System Requirements</a> for details.</li>
</ul>

<h3 id="components-1">Components</h3>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UCP</td>
      <td>3.1.5</td>
    </tr>
    <tr>
      <td>Kubernetes</td>
      <td>1.11.8</td>
    </tr>
    <tr>
      <td>Calico</td>
      <td>3.5.2</td>
    </tr>
    <tr>
      <td>Interlock (nginx)</td>
      <td>1.14.0</td>
    </tr>
  </tbody>
</table>

<h2 id="314">3.1.4</h2>

<p>2019-02-28</p>

<h3 id="new-platforms">New platforms</h3>
<ul>
  <li>Added support for SLES 15.</li>
  <li>Added support for Oracle 7.6.</li>
</ul>

<h3 id="kubernetes-2">Kubernetes</h3>
<ul>
  <li>Kubernetes has been updated to version 1.11.7. (docker/orca#16157)</li>
</ul>

<h3 id="bug-fixes-1">Bug Fixes</h3>
<ul>
  <li>Bump the Golang version that is used to build UCP to version 1.10.8. (docker/orca#16068)</li>
  <li>Fixed an issue that caused UCP upgrade failure to upgrade with Interlock deployment. (docker/orca#16009)</li>
  <li>Fixed an issue that caused Windows node ucp-agent(s) to constantly reboot when audit logging is enabled. (docker/orca#16122)</li>
  <li>Fixed an issue to ensure that non-admin user actions (with the RestrictedControl role) against RBAC resources are read-only. (docker/orca#16121)</li>
  <li>Fixed an issue to prevent UCP users from updating services with a port that conflicts with the UCP controller port. (escalation#855)</li>
  <li>Fixed an issue to validate Calico certs expiration dates and update accordingly. (escalation#981)</li>
  <li>Kubelet no longer deletes images, starting with the oldest unused images, after exceeding 85% disk space utilization. This was an issue in air-gapped environments. (docker/orca#16082)</li>
</ul>

<h3 id="enhancements">Enhancements</h3>
<ul>
  <li>Changed packaging and builds for UCP to build bootstrapper last. This avoids the “upgrade available” banner on all UCPs until the entirety of UCP is available.</li>
</ul>

<h3 id="known-issues-2">Known Issues</h3>

<ul>
  <li>Newly added Windows node reports “Awaiting healthy status in classic node inventory”. <a href="https://success.docker.com/article/newly-added-windows-node-reports-awaiting-healthy-status-in-classic-node-inventory">Learn more</a>.</li>
  <li>There are important changes to the upgrade process that, if not correctly followed, can impact the availability of applications running on the Swarm during uprades. These constraints impact any upgrades coming from any Docker Engine version before 18.09 to version 18.09 or greater. For more information about about upgrading Docker Enterprise to version 2.1, see <a href="../upgrade">Upgrade Docker</a></li>
  <li>In the UCP web interface, LDAP settings disappear after submitting them. However, the settings are properly saved. (docker/orca#15503)</li>
  <li>To deploy Pods with containers using Restricted Parameters, the user must be an admin and a service account must explicitly have a <strong>ClusterRoleBinding</strong> with <code class="highlighter-rouge">cluster-admin</code> as the  <strong>ClusterRole</strong>. Restricted Parameters on Containers include:
    <ul>
      <li>Host Bind Mounts</li>
      <li>Privileged Mode</li>
      <li>Extra Capabilities</li>
      <li>Host Networking</li>
      <li>Host IPC</li>
      <li>Host PID</li>
    </ul>
  </li>
  <li>If you delete the built-in <strong>ClusterRole</strong> or <strong>ClusterRoleBinding</strong> for <code class="highlighter-rouge">cluster-admin</code>, restart the <code class="highlighter-rouge">ucp-kube-apiserver</code> container on any manager node to recreate them. (docker/orca#14483)</li>
  <li>Pod Security Policies are not supported in this release. (docker/orca#15105)</li>
  <li>The default Kubelet configuration for UCP Manager nodes is expecting 4GB of free disk space in the <code class="highlighter-rouge">/var</code> partition. See <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/admin/install/system-requirements">System Requirements</a> for details.</li>
</ul>

<h3 id="components-2">Components</h3>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UCP</td>
      <td>3.1.4</td>
    </tr>
    <tr>
      <td>Kubernetes</td>
      <td>1.11.7</td>
    </tr>
    <tr>
      <td>Calico</td>
      <td>3.5.0</td>
    </tr>
    <tr>
      <td>Interlock (nginx)</td>
      <td>1.14.0</td>
    </tr>
  </tbody>
</table>

<h2 id="313">3.1.3</h2>

<p>2019-01-29</p>

<h3 id="new-platforms-1">New platforms</h3>
<ul>
  <li>Added support for Windows Server 2019 and Windows Server 1809. (docker/orca#15810)</li>
  <li>Added support for RHEL 7.6 with Devicemapper and Overlay2 storage drivers. (docker/orca#15535)</li>
  <li>Added support for Oracle Enterprise Linux 7.6 with Overlay2 storage driver. (docker/orca#15791)</li>
</ul>

<h3 id="networking-2">Networking</h3>
<ul>
  <li>Upgraded Calico to version 3.5. (#15884)</li>
</ul>

<h3 id="bug-fixes-2">Bug Fixes</h3>
<ul>
  <li>Fixed system hang following UCP backup and docker daemon shutdown. (docker/escalation#841)</li>
  <li>Non-admin users can no longer create <code class="highlighter-rouge">PersistentVolumes</code> that mount host directories. (docker/orca#15936)</li>
  <li>Added support for the limit arg in <code class="highlighter-rouge">docker ps</code>. (docker/orca#15812)</li>
  <li>Fixed an issue with ucp-proxy health check. (docker/orca#15814, docker/orca#15813, docker/orca#16021, docker/orca#15811)</li>
  <li>Fixed an issue with manual creation of a <strong>ClusterRoleBinding</strong> or <strong>RoleBinding</strong> for <code class="highlighter-rouge">User</code> or <code class="highlighter-rouge">Group</code> subjects requiring the ID of the user, organization, or team. (docker/orca#14935)</li>
  <li>Fixed an issue in which Kube Rolebindings only worked on UCP User ID and not UCP username. (docker/orca#14935)</li>
</ul>

<h3 id="known-issue">Known issue</h3>
<ul>
  <li>By default, Kubelet begins deleting images, starting with the oldest unused images, after exceeding 85% disk space utilization. This causes an issue in an air-gapped environment. (docker/orca#16082)</li>
</ul>

<h3 id="components-3">Components</h3>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UCP</td>
      <td>3.1.3</td>
    </tr>
    <tr>
      <td>Kubernetes</td>
      <td>1.11.5</td>
    </tr>
    <tr>
      <td>Calico</td>
      <td>3.5.0</td>
    </tr>
    <tr>
      <td>Interlock (nginx)</td>
      <td>1.14.0</td>
    </tr>
  </tbody>
</table>

<h2 id="312">3.1.2</h2>

<p>2019-01-09</p>

<h3 id="authentication-and-authorization-2">Authentication and Authorization</h3>
<ul>
  <li>SAML Single Logout is now supported in UCP.</li>
  <li>Identity Provider initiated SAML Single Sign-on is now supported in UCP.  The admin can
enable this feature in Admin Settings -&gt; SAML Settings.</li>
</ul>

<h3 id="audit-logging">Audit Logging</h3>
<ul>
  <li>UCP Audit logging is now controlled through the UCP Configuration file; it is also
now configurable within the UCP web interface. (#15466)</li>
</ul>

<h3 id="bug-fixes-3">Bug Fixes</h3>
<ul>
  <li>Core
    <ul>
      <li>Significantly reduced database load in environments with a lot of concurrent
and repeated API requests by the same user. (docker/escalation#911)</li>
      <li>UCP backend will now complain when a service is created/updated if the
 <code class="highlighter-rouge">com.docker.lb.network</code> label is not correctly specified. (docker/orca#15015)</li>
      <li>LDAP group member attribute is now case insensitive. (docker/escalation#917)</li>
    </ul>
  </li>
  <li>Interlock
    <ul>
      <li>Interlock headers can now be hidden. (escalation#833)</li>
      <li>Now upgrading Interlock will also upgrade interlock proxy and interlock extension as well (escalation/871)</li>
      <li>Added support for ‘VIP’ backend mode, in which the Interlock proxy connects to the backend service’s Virtual IP instead of load-balancing directly to each task IP. (docker/interlock#206) (escalation/920)</li>
    </ul>
  </li>
</ul>

<h3 id="known-issues-3">Known Issues</h3>
<ul>
  <li>In the UCP web interface, LDAP settings disappear after submitting them. However, the settings are properly saved. (docker/orca#15503)</li>
  <li>By default, Kubelet begins deleting images, starting with the oldest unused images, after exceeding 85% disk space utilization. This causes an issue in an air-gapped environment. (docker/orca#16082)</li>
</ul>

<h3 id="components-4">Components</h3>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UCP</td>
      <td>3.1.2</td>
    </tr>
    <tr>
      <td>Kubernetes</td>
      <td>1.11.5</td>
    </tr>
    <tr>
      <td>Calico</td>
      <td>3.2.3</td>
    </tr>
    <tr>
      <td>Interlock (nginx)</td>
      <td>1.14.0</td>
    </tr>
  </tbody>
</table>

<h2 id="311">3.1.1</h2>

<p>(2018-12-04)</p>

<ul>
  <li>To address CVE-2018-1002105, a critical security issue in the Kubernetes API Server, Docker is using Kubernetes 1.11.5 for UCP 3.1.1.</li>
</ul>

<h3 id="components-5">Components</h3>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UCP</td>
      <td>3.1.1</td>
    </tr>
    <tr>
      <td>Kubernetes</td>
      <td>1.11.5</td>
    </tr>
    <tr>
      <td>Calico</td>
      <td>3.2.3</td>
    </tr>
    <tr>
      <td>Interlock (nginx)</td>
      <td>1.13.12</td>
    </tr>
  </tbody>
</table>

<h2 id="310">3.1.0</h2>

<p>2018-11-08</p>

<h3 id="bug-fixes-4">Bug Fixes</h3>

<ul>
  <li>Swarm placement constraint warning banner no longer shows up for <code class="highlighter-rouge">ucp-auth</code> services (#14539)</li>
  <li>“update out of sequence” error messages no longer appear when changing admin settings (#7093)</li>
  <li>Kubernetes namespace status appears in the web interface (#14526)</li>
  <li>UCP Kubernetes compose components always run on managers (#14208)</li>
  <li><code class="highlighter-rouge">docker network ls --filter id=&lt;id&gt;</code> now works with a UCP client bundle (#14840)</li>
  <li>Collection deletes are correctly blocked if there is a node in the collection (#13704)</li>
</ul>

<h3 id="new-features">New Features</h3>

<h3 id="kubernetes-3">Kubernetes</h3>

<ul>
  <li>Kubernetes is updated to version 1.11.2.</li>
  <li>Kubernetes native RBAC feature manages access control for Kubernetes resources. Users can now create roles for Kubernetes APIs using Kubernetes <code class="highlighter-rouge">Role</code> and <code class="highlighter-rouge">ClusterRole</code> objects in the Kubernetes API. They can also grant permissions to users and service accounts with the <code class="highlighter-rouge">RoleBinding</code> and <code class="highlighter-rouge">ClusterRoleBinding</code> objects. The web interface for Kubernetes RBAC reflects these changes. Your old Kubernetes grants and roles will be automatically migrated during the UCP upgrade.</li>
</ul>

<h3 id="logging">Logging</h3>

<p>Admins can now enable audit logging in the UCP config. This logs all incoming user-initiated requests in the <code class="highlighter-rouge">ucp-controller</code> logs. Admins can choose whether to log only metadata for incoming requests or the full request body as well. For more information, see <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/admin/configure/create-audit-logs/">Create UCP audit logs</a>.</p>

<h3 id="authentication">Authentication</h3>

<p>Admins can configure UCP to use a SAML-enabled identity provider for user authentication. If enabled, users who log into the UCP web interface are redirected to the identity provider’s website to log in. Upon login, users are redirected back to the UCP web interface, authenticated as the user chosen. For more information, see <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/admin/configure/enable-saml-authentication/">Enable SAML authentication</a>.</p>

<h3 id="metrics">Metrics</h3>

<ul>
  <li>The <code class="highlighter-rouge">ucp-metrics</code> Prometheus server (used to render charts in the UCP interface) was engineered from a container on manager nodes to a Kubernetes daemonset. This lets admins change the daemonset’s scheduling rules so that it runs on a set of worker nodes instead of manager nodes. Admins can designate certain UCP nodes to be metrics server nodes, freeing up resources on manager nodes. For more information, see <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/admin/configure/collect-cluster-metrics/">Collect UCP cluster metrics with Prometheus</a>.</li>
  <li>The UCP controller has a <code class="highlighter-rouge">/metricsdiscovery</code> endpoint so users can connect their own Prometheus instances to scrape UCP metrics data.</li>
</ul>

<h3 id="ucp-web-interface">UCP web interface</h3>

<ul>
  <li>If you enable single sign-on for a DTR instance with UCP, the UCP web interface shows image vulnerability data for images in that DTR instance. Containers and services that use images from that DTR instance show any vulnerabilities DTR detects.</li>
  <li>The UCP web interface is redesigned to offer larger views for viewing individual resources, with more information for Kubernetes resources.</li>
</ul>

<h3 id="configs">Configs</h3>

<ul>
  <li>UCP now stores its configurations in its internal key-value store instead of in a Swarm configuration so changes can propagate across the cluster more quickly.</li>
  <li>You can now use the <code class="highlighter-rouge">custom_api_server_headers</code> field in the UCP configuration to set arbitrary headers that are included with every UCP response.</li>
</ul>

<h3 id="api-updates">API updates</h3>

<p>There are several backward-incompatible changes in the Kubernetes API that may affect user workloads. They are:</p>

<ul>
  <li>A compatibility issue with the <code class="highlighter-rouge">allowPrivilegeEscalation</code> field that caused policies to start denying pods they previously allowed was fixed. If you defined <code class="highlighter-rouge">PodSecurityPolicy</code> objects using a 1.8.0 client or server and set <code class="highlighter-rouge">allowPrivilegeEscalation</code> to false, these objects must be reapplied after you upgrade.</li>
  <li>These changes are automatically updated for taints. Tolerations for these taints must be updated manually. Specifically, you must:
    <ul>
      <li>Change <code class="highlighter-rouge">node.alpha.kubernetes.io/notReady</code> to <code class="highlighter-rouge">node.kubernetes.io/not-ready</code></li>
      <li>Change <code class="highlighter-rouge">node.alpha.kubernetes.io/unreachable</code> to <code class="highlighter-rouge">node.kubernetes.io/unreachable</code>
  For more information about taints and tolerations, see <a href="https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/">Taints and Tolerations</a>.</li>
    </ul>
  </li>
  <li>JSON configuration used with <code class="highlighter-rouge">kubectl create -f pod.json</code> containing fields with incorrect casing are no longer valid. You must correct these files before upgrading. When specifying keys in JSON resource definitions during direct API server communication, the keys are case-sensitive. A bug introduced in Kubernetes 1.8 caused the API server to accept a request with incorrect case and coerce it to correct case, but this behaviour has been fixed in 1.11 so the API server will again enforce correct casing. During this time, the <code class="highlighter-rouge">kubectl</code> tool continued to enforce case-sensitive keys, so users that strictly manage resources with <code class="highlighter-rouge">kubectl</code> will be unaffected by this change.</li>
  <li>If you have a pod with a subpath volume PVC, there’s a chance that after the upgrade, it will conflict with some other pod; see <a href="https://github.com/kubernetes/kubernetes/pull/61373">this pull request</a>. It’s not clear if this issue will just prevent those pods from starting or if the whole cluster will fail.</li>
</ul>

<h3 id="known-issues-4">Known issues</h3>
<ul>
  <li>There are important changes to the upgrade process that, if not correctly followed, can impact the availability of applications running on the Swarm during uprades. These constraints impact any upgrades coming from any Docker Engine version before 18.09 to version 18.09 or greater. For more information about about upgrading Docker Enterprise to version 2.1, see <a href="../upgrade">Upgrade Docker</a></li>
  <li>In the UCP web interface, LDAP settings disappear after submitting them. However, the settings are properly saved. (#15503)</li>
  <li>You must use the ID of the user, organization, or team if you manually create a <strong>ClusterRoleBinding</strong> or <strong>RoleBinding</strong> for <code class="highlighter-rouge">User</code> or <code class="highlighter-rouge">Group</code> subjects. (#14935)
    <ul>
      <li>For the <code class="highlighter-rouge">User</code> subject Kind, the <code class="highlighter-rouge">Name</code> field contains the ID of the user.</li>
      <li>For the <code class="highlighter-rouge">Group</code> subject Kind, the format depends on whether you are create a Binding for a team or an organization:
        <ul>
          <li>For an organization, the format is <code class="highlighter-rouge">org:{org-id}</code></li>
          <li>For a team, the format is <code class="highlighter-rouge">team:{org-id}:{team-id}</code></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>To deploy Pods with containers using Restricted Parameters, the user must be an admin and a service account must explicitly have a <strong>ClusterRoleBinding</strong> with <code class="highlighter-rouge">cluster-admin</code> as the  <strong>ClusterRole</strong>. Restricted Parameters on Containers include:
    <ul>
      <li>Host Bind Mounts</li>
      <li>Privileged Mode</li>
      <li>Extra Capabilities</li>
      <li>Host Networking</li>
      <li>Host IPC</li>
      <li>Host PID</li>
    </ul>
  </li>
  <li>If you delete the built-in <strong>ClusterRole</strong> or <strong>ClusterRoleBinding</strong> for <code class="highlighter-rouge">cluster-admin</code>, restart the <code class="highlighter-rouge">ucp-kube-apiserver</code> container on any manager node to recreate them. (#14483)</li>
  <li>Pod Security Policies are not supported in this release. (#15105)</li>
  <li>The default Kubelet configuration for UCP Manager nodes is expecting 4GB of free disk space in the <code class="highlighter-rouge">/var</code> partition. See <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/admin/install/system-requirements">System Requirements</a> for details.</li>
</ul>

<h3 id="deprecated-features">Deprecated features</h3>

<p>The following features are deprecated in UCP 3.1.</p>

<ul>
  <li>Collections
    <ul>
      <li>
        <p>The ability to create a nested collection of more than 2 layers deep within the root <code class="highlighter-rouge">/Swarm/</code> collection is now deprecated and will not be included in future versions of the product. However, current nested collections with more than 2 layers are still retained.</p>
      </li>
      <li>
        <p>Docker recommends a maximum of two layers when creating collections within UCP under the shared cluster collection designated as <code class="highlighter-rouge">/Swarm/</code>. For example, if a production collection called <code class="highlighter-rouge">/Swarm/production</code> is created under the shared cluster collection, <code class="highlighter-rouge">/Swarm/</code>, then only one level of nesting should be created: <code class="highlighter-rouge">/Swarm/production/app/</code>. See <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/authorization/group-resources/#nested-collections">Nested Collections</a> for more details.</p>
      </li>
    </ul>
  </li>
  <li>Kubernetes
    <ul>
      <li><strong>PersistentVolumeLabel</strong> admission controller is deprecated in Kubernetes 1.11. This functionality will be migrated to [Cloud Controller Manager](https://kubernetes.io/docs/tasks/administer-cluster/running-cloud-controller/](https://kubernetes.io/docs/tasks/administer-cluster/running-cloud-controller/)</li>
      <li><code class="highlighter-rouge">--cni-install-url</code> is deprecated in favor of <code class="highlighter-rouge">--unmanaged-cni</code></li>
    </ul>
  </li>
</ul>

<h3 id="components-6">Components</h3>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UCP</td>
      <td>3.1.0</td>
    </tr>
    <tr>
      <td>Kubernetes</td>
      <td>1.11.2</td>
    </tr>
    <tr>
      <td>Calico</td>
      <td>3.2.3</td>
    </tr>
    <tr>
      <td>Interlock (nginx)</td>
      <td>1.13.12</td>
    </tr>
  </tbody>
</table>

<h1 id="version-30">Version 3.0</h1>

<h2 id="3010">3.0.10</h2>

<p>2019-02-28</p>

<p><strong>Bug Fixes</strong></p>
<ul>
  <li>Bump the Golang version that is used to build UCP to version 1.10.8.</li>
  <li>Prevent UCP users from updating services with a port that conflicts with the UCP controller port. (escalation#855)</li>
  <li>Fixed an issue that causes UCP fail to upgrade with Interlock deployment. (docker/orca/#16009)</li>
  <li>Validate Calico certs expiration date and update accordingly. (escalation#981)</li>
</ul>

<h2 id="309">3.0.9</h2>

<p>2018-01-29</p>

<h3 id="new-platforms-2">New platforms</h3>
<ul>
  <li>Added support for RHEL 7.6 with Devicemapper and Overlay2 storage drivers. (docker/orca#15996)</li>
</ul>

<h3 id="bug-fixes-5">Bug fixes</h3>
<ul>
  <li>Upgrading Interlock now also upgrades interlock proxy and interlock extension. (docker/escalation/871)</li>
  <li>Non-admin users can no longer create <code class="highlighter-rouge">PersistentVolumes</code> that mount host directories. (#15936)</li>
  <li>Added support for the limit arg in <code class="highlighter-rouge">docker ps</code>. (#15812)</li>
</ul>

<h3 id="known-issue-1">Known issue</h3>
<ul>
  <li>By default, Kubelet begins deleting images, starting with the oldest unused images, after exceeding 85% disk space utilization. This causes an issue in an air-gapped environment.</li>
</ul>

<h3 id="components-7">Components</h3>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UCP</td>
      <td>3.0.9</td>
    </tr>
    <tr>
      <td>Kubernetes</td>
      <td>1.8.15</td>
    </tr>
    <tr>
      <td>Calico</td>
      <td>3.0.8</td>
    </tr>
    <tr>
      <td>Interlock (nginx)</td>
      <td>1.13.12</td>
    </tr>
  </tbody>
</table>

<h2 id="308">3.0.8</h2>

<p>2019-01-09</p>

<h3 id="bug-fixes-6">Bug fixes</h3>
<ul>
  <li>Core
    <ul>
      <li>Significantly reduced database load in environments with a lot of concurrent
and repeated API requests by the same user. (docker/escalation#911)</li>
      <li>Added the ability to set custom HTTP response headers to be returned by the
 UCP Controller API Server. (docker/orca#10733)</li>
      <li>UCP backend will now complain when a service is created/updated if the
 <code class="highlighter-rouge">com.docker.lb.network</code> label is not correctly specified. (docker/orca#15015)</li>
      <li>LDAP group member attribute is now case insensitive. (docker/escalation#917)</li>
      <li>Fixed an issue that caused a system hang after UCP backup and the attempted shutdown of the Docker daemon to perform a swarm backup. /dev/shm is now unmounted when starting the kubelet container. (docker/orca#15672, docker/escalation#841)</li>
    </ul>
  </li>
  <li>Interlock
    <ul>
      <li>Interlock headers can now be hidden. (docker/escalation#833)</li>
      <li>Respect <code class="highlighter-rouge">com.docker.lb.network</code> labels and only attach the specified networks
to the Interlock proxy. (docker/interlock#169)</li>
      <li>Add support for ‘VIP’ backend mode, in which the Interlock proxy connects to the
 backend service’s Virtual IP instead of load-balancing directly to each task IP.
 (docker/interlock#206, escalation/920)</li>
    </ul>
  </li>
</ul>

<h3 id="components-8">Components</h3>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UCP</td>
      <td>3.0.8</td>
    </tr>
    <tr>
      <td>Kubernetes</td>
      <td>1.8.15</td>
    </tr>
    <tr>
      <td>Calico</td>
      <td>3.0.8</td>
    </tr>
    <tr>
      <td>Interlock (nginx)</td>
      <td>1.13.12</td>
    </tr>
  </tbody>
</table>

<h2 id="307">3.0.7</h2>

<p>2018-12-04</p>

<ul>
  <li>To address CVE-2018-1002105, a critical security issue in the Kubernetes API Server, Docker is using a custom build of Kubernetes 1.8.15 for UCP 3.0.7.</li>
</ul>

<h3 id="components-9">Components</h3>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UCP</td>
      <td>3.0.7</td>
    </tr>
    <tr>
      <td>Kubernetes</td>
      <td>1.8.15</td>
    </tr>
    <tr>
      <td>Calico</td>
      <td>3.0.8</td>
    </tr>
    <tr>
      <td>Interlock (nginx)</td>
      <td>1.13.12</td>
    </tr>
  </tbody>
</table>

<h2 id="306">3.0.6</h2>

<p>2018-10-25</p>

<h3 id="bug-fixes-7">Bug fixes</h3>

<ul>
  <li>Core
    <ul>
      <li>Updated Kubernetes to version 1.8.15.</li>
      <li>Resolved an issue where LDAP sync jobs terminated when processing an org admin search result that did not correspond to an existing user. (docker/escalation#784 #docker/escalation#888)</li>
      <li>Fixed an issue that caused RethinkDB client lock contention. (docker/escalation#902 and docker/escalation#906)</li>
      <li>Fixed an issue that caused Azure IPAM to not release addresses. (docker/escalation#815)</li>
      <li>Fixed an issue that caused unsuccessful installation of UCP on Azure. (docker/escalation#863)</li>
      <li>Fixed an issue that caused the Interlock proxy service to keep restarting. (docker/escalation#814)</li>
      <li>Fixed an issue that caused Kubernetes DNS to not work. (#14064, #11981)</li>
      <li>Fixed an issue that caused “Missing swarm placement constraints” warning banner to appear unnecessarily. (docker/orca#14539)</li>
    </ul>
  </li>
  <li>Security
    <ul>
      <li>Fixed <code class="highlighter-rouge">libcurl</code> vulnerability in RethinkDB image. (docker/orca#15169)</li>
    </ul>
  </li>
  <li>UI
    <ul>
      <li>Fixed an issue that prevented “Per User Limit” on Admin Settings from working. (docker/escalation#639)</li>
    </ul>
  </li>
</ul>

<h3 id="components-10">Components</h3>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UCP</td>
      <td>3.0.6</td>
    </tr>
    <tr>
      <td>Kubernetes</td>
      <td>1.8.15</td>
    </tr>
    <tr>
      <td>Calico</td>
      <td>3.0.8</td>
    </tr>
    <tr>
      <td>Interlock (nginx)</td>
      <td>1.13.12</td>
    </tr>
  </tbody>
</table>

<h2 id="305">3.0.5</h2>

<p>2018-08-30</p>

<h3 id="bug-fixes-8">Bug fixes</h3>

<ul>
  <li>Security
    <ul>
      <li>Fixed a critical security issue to prevent UCP from accepting certificates from
the system pool when adding client CAs to the server that requires mutual authentication.</li>
    </ul>
  </li>
</ul>

<h3 id="known-issue-2">Known Issue</h3>

<ul>
  <li>When you are upgrading from UCP 3.0.3 or 3.0.4, you must manually pull
 <code class="highlighter-rouge">docker/ucp-agent:3.0.5</code> in the images section of the web interface before upgrading.
 Alternately, you can just <code class="highlighter-rouge">docker pull docker/ucp-agent:3.0.5</code> on every manager node.
 This issue is fixed in 3.0.5.  Any upgrade from 3.0.5 or above should work without
 manually pulling the images.</li>
</ul>

<h3 id="components-11">Components</h3>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UCP</td>
      <td>3.0.5</td>
    </tr>
    <tr>
      <td>Kubernetes</td>
      <td>1.8.11</td>
    </tr>
    <tr>
      <td>Calico</td>
      <td>3.0.8</td>
    </tr>
    <tr>
      <td>Interlock (nginx)</td>
      <td>1.13.12</td>
    </tr>
  </tbody>
</table>

<h2 id="304">3.0.4</h2>

<p>2018-08-09</p>

<h3 id="bug-fixes-9">Bug fixes</h3>

<ul>
  <li>Security
    <ul>
      <li>Fixed a critical security issue where the LDAP bind username and password
were stored in cleartext on UCP hosts. Please refer to <a href="https://success.docker.com/article/upgrading-to-ucp-2-2-12-ucp-3-0-4/">this KB article</a> for proper implementation of this fix.</li>
    </ul>
  </li>
</ul>

<h3 id="known-issue-3">Known Issue</h3>

<ul>
  <li>You must manually pull <code class="highlighter-rouge">docker/ucp-agent:3.0.4</code> in the images section of the web interface before upgrading. Alternately, you can just pull <code class="highlighter-rouge">docker/ucp-agent:3.0.4</code> on every manager node.</li>
</ul>

<h3 id="components-12">Components</h3>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UCP</td>
      <td>3.0.4</td>
    </tr>
    <tr>
      <td>Kubernetes</td>
      <td>1.8.11</td>
    </tr>
    <tr>
      <td>Calico</td>
      <td>3.0.8</td>
    </tr>
    <tr>
      <td>Interlock (nginx)</td>
      <td>1.13.12</td>
    </tr>
  </tbody>
</table>

<h2 id="303">3.0.3</h2>

<p>2018-07-26</p>

<h3 id="new-platforms-3">New platforms</h3>

<ul>
  <li>UCP now supports running Windows Server 1803 workers
    <ul>
      <li>Server 1803 ingress routing, VIP service discovery, and named pipe mounting are not supported in this release.</li>
      <li>Offline bundles <code class="highlighter-rouge">ucp_images_win_1803_3.0.3.tar.gz</code> have been added.</li>
    </ul>
  </li>
  <li>UCP 3.0.3 now supports IBM Z (s390x) as worker nodes on 3.0.x for SLES 12 SP 3. Interlock is currently not supported for 3.0.x on Z.</li>
</ul>

<h3 id="bug-fixes-10">Bug Fixes</h3>

<ul>
  <li>Core
    <ul>
      <li>Optimize swarm service read api calls through UCP</li>
      <li>Fixes an issue where some UCP Controller API calls may hang indefinitely.</li>
      <li>Default Calico MTU set to 1480</li>
      <li>Calico is upgraded to 3.0.8</li>
      <li>Compose for Kubernetes logging improvements</li>
      <li>Fixes an issue where backups would fail if UCP was not licensed.</li>
      <li>Fixes an issue where DTR admins are missing the Full Control Grant against /Shared Collection even though they have logged in at least once to the web interface.</li>
      <li>Add support for bind mount volumes to kubernetes stacks and fixes sporadic errors in kubernetes stack validator that would incorrectly reject stacks.</li>
    </ul>
  </li>
</ul>

<h3 id="components-13">Components</h3>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UCP</td>
      <td>3.0.3</td>
    </tr>
    <tr>
      <td>Kubernetes</td>
      <td>1.8.11</td>
    </tr>
    <tr>
      <td>Calico</td>
      <td>3.0.8</td>
    </tr>
    <tr>
      <td>Interlock (nginx)</td>
      <td>1.13.12</td>
    </tr>
  </tbody>
</table>

<h2 id="302">3.0.2</h2>

<p>2018-06-21</p>

<h3 id="new-features-1">New Features</h3>

<ul>
  <li>UCP now supports running Windows Server 1709 workers
    <ul>
      <li>Server 1709 provides smaller Windows base image sizes, as detailed <a href="https://docs.microsoft.com/en-us/windows-server/get-started/whats-new-in-windows-server-1709">here</a></li>
      <li>Server 1709 provides relaxed image compatibility requirements, as detailed <a href="https://docs.microsoft.com/en-us/virtualization/windowscontainers/deploy-containers/version-compatibility">here</a></li>
      <li>Server 1709 ingress routing, VIP service discovery, and named pipe mounting are not supported in this release.</li>
      <li>Offline bundle names are changed from <code class="highlighter-rouge">ucp_images_win_3.0.1.tar.gz</code> to <code class="highlighter-rouge">ucp_images_win_2016_3.0.2.tar.gz</code> and <code class="highlighter-rouge">ucp_images_win_1709_3.0.2.tar.gz</code> based on Windows Server versions.</li>
    </ul>
  </li>
  <li>UCP now supports running RHEL 7.5.  Please refer to the <a href="https://success.docker.com/article/compatibility-matrix">compatibility matrix</a>.</li>
  <li>Added support for dynamic volume provisioning in Kubernetes for AWS EBS and
Azure Disk when installing UCP with the <code class="highlighter-rouge">--cloud-provider</code> option.</li>
</ul>

<h3 id="bug-fixes-11">Bug Fixes</h3>
<ul>
  <li>Core
    <ul>
      <li>Fixed an issue for anonymous volumes in Compose for Kubernetes.</li>
      <li>Fixed an issue where a fresh install would have an initial per-user session
 limit of unlimited rather than the expected limit of 10 minutes.</li>
      <li>Added separate resource types for Kubernetes subresources (e.g. pod/log)
 so that users can get separate permissions for those resources, as with the
 built-in Kubernetes RBAC authorizer. If you had a custom role with
 (for instance) Pod Get permissions, you may need to create a new custom
 role with permissions for each new subresource.</li>
      <li>To deploy Pods with Privileged options, users now require a grant with the
 role <code class="highlighter-rouge">Full Control</code> for all namespaces.</li>
      <li>The <code class="highlighter-rouge">/api/ucp/config</code> endpoint now includes default node orchestrator.</li>
      <li>Added <code class="highlighter-rouge">cni_mtu</code> setting to UCP config for controlling MTU size in Calico.</li>
      <li>When a route is not found, interlock now returns a 503 (the expected
behavior) instead of a 404.</li>
    </ul>
  </li>
  <li>UI/UX
    <ul>
      <li>Fixed an issue that causes LDAP configuration UI to not work properly.</li>
    </ul>
  </li>
</ul>

<h3 id="components-14">Components</h3>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UCP</td>
      <td>3.0.2</td>
    </tr>
    <tr>
      <td>Kubernetes</td>
      <td>1.8.11</td>
    </tr>
    <tr>
      <td>Calico</td>
      <td>3.0.1</td>
    </tr>
    <tr>
      <td>Interlock (nginx)</td>
      <td>1.13.8</td>
    </tr>
  </tbody>
</table>

<h2 id="301">3.0.1</h2>

<p>2018-05-17</p>

<h3 id="bug-fixes-12">Bug Fixes</h3>
<ul>
  <li>Core
    <ul>
      <li>Bumped Kubernetes version to 1.8.11.</li>
      <li>Compose for Kubernetes now respects the specified port services are exposed on.
This port must be in the <code class="highlighter-rouge">NodePort</code> range.</li>
      <li>Kubernetes API server port is now configurable via <code class="highlighter-rouge">--kube-apiserver-port</code>
flag at install or <code class="highlighter-rouge">cluster_config.kube_apiserver_port</code> in UCP config.</li>
      <li>Fixed an issue where upgrade fails due to missing <code class="highlighter-rouge">ucp-kv</code> snapshots.</li>
      <li>Fixed an issue where upgrade fails due to layer 7 routing issues.</li>
      <li><code class="highlighter-rouge">ucp-interlock-proxy</code> no longer tries to schedule components on Windows nodes.</li>
      <li>Fixed an issue where a Kubernetes networking failure would not stop UCP from
installing successfully.</li>
      <li>Fixed an issue where encrypted overlay networks could not communicate on
firewalled hosts.</li>
      <li>Fixed an issue where Pod CIDR and Node IP values could conflict at install
Installation no longer fails if an empty <code class="highlighter-rouge">PodCIDR</code> value is set in the UCP
config at install time. Instead, it falls back to default CIDR.</li>
    </ul>
  </li>
  <li>UI/UX</li>
  <li>Fixed an issue where UCP banners redirected to older UCP 2.2 documentation.</li>
</ul>

<h3 id="known-issues-5">Known issues</h3>

<ul>
  <li>Encrypted overlay networks may not work after upgrade from 3.0.0.  Apply the following to
all the nodes after the upgrade.
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  iptables -t nat -D KUBE-MARK-DROP -j MARK --set-xmark 0x8000/0x8000
  iptables -t filter -D KUBE-FIREWALL -m comment --comment "kubernetes firewall for dropping marked packets" -m mark --mark 0x8000/0x8000 -j DROP
</code></pre></div>    </div>
  </li>
  <li><code class="highlighter-rouge">ucp-kube-controller-manager</code> emits a large number of container logs.</li>
  <li>Inter-node networking may break on Kubernetes pods while the <code class="highlighter-rouge">calico-node</code>
  pods are being upgraded on each node. This may cause up to a few minutes of
  networking disruption for pods on each node during the upgrade process,
  depending on how quickly <code class="highlighter-rouge">calico-node</code> gets upgraded on those nodes.</li>
  <li><code class="highlighter-rouge">ucp-interlock-proxy</code> may fail to start when two or more services are
 configured with two or more backend hosts.  <a href="https://success.docker.com/article/how-do-i-ensure-the-ucp-routing-mesh-ucp-interlock-proxy-continues-running-in-the-event-of-a-failed-update">You can use this workaround</a>.</li>
</ul>

<p>### Components</p>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UCP</td>
      <td>3.0.1</td>
    </tr>
    <tr>
      <td>Kubernetes</td>
      <td>1.8.11</td>
    </tr>
    <tr>
      <td>Calico</td>
      <td>3.0.1</td>
    </tr>
    <tr>
      <td>Interlock (nginx)</td>
      <td>1.13.8</td>
    </tr>
  </tbody>
</table>

<h2 id="version-300">Version 3.0.0</h2>

<p>2018-04-17</p>

<p>The UCP system requirements were updated with 3.0.0. Make sure to
<a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/admin/install/system-requirements/">check the system</a>
requirements before upgrading.</p>

<h3 id="orchestration">Orchestration</h3>

<ul>
  <li>UCP now supports Kubernetes as an orchestrator, in addition to the existing
Swarmkit and “classic” Swarm orchestrators. Kubernetes system components are
automatically deployed on all manager and Linux worker nodes managed by UCP.
<a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/ucp-architecture/">Learn more about Kubernetes support</a>.</li>
  <li>Worker nodes running Linux on amd64 architectures can be configured to run
only Swarm workloads, only Kubernetes workloads, or mixed workloads. Manager
nodes are by default Mixed in order to support Swarm and Kubernetes system
components. However, it is not recommended to run Worker nodes as Mixed due to
potential resource contention issues.</li>
  <li>Users can deploy Kubernetes workloads through the web UI, and the CLI using
a UCP client bundle and <code class="highlighter-rouge">kubectl</code>.
<a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/kubernetes/">Learn more</a>.</li>
  <li>Users can now use Compose to deploy Kubernetes workloads from the web UI.
<a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/kubernetes/deploy-with-compose/">Learn more</a>.</li>
</ul>

<h3 id="networking-3">Networking</h3>

<ul>
  <li>UCP includes Calico as the default CNI plugin for networking of Kubernetes
applications. <a href="https://docs.projectcalico.org/v3.1/introduction/">Learn more</a>.
The following Calico features are supported:
    <ul>
      <li>L3 IP-IP Overlay Data Path.</li>
      <li>BGP control plane.</li>
      <li>Calico IPAM.</li>
      <li>Management of Calico CNI plugin lifecycle.</li>
      <li>Kubernetes Network Policy. This is experimental in 3.0.0.</li>
    </ul>
  </li>
  <li>You can now use layer 7 routing in your Kubernetes workloads by using an
NGINX-based ingress controller.
<a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/kubernetes/deploy-ingress-controller/">Learn more</a>.</li>
  <li>Layer 7 routing for Swarmkit applications has been upgraded to use
Interlock backend.
This adds increased performance, stability, and new features including SSL Termination,
Contextual Path-based Routing, Websocket Support, and Canary Application Instance
deployments. Existing Hostname Routing Mesh (HRM) labels (and newly added labels
with the old format) will automatically migrate to the new format. We strongly
recommend you use the new format for new applications in order to take advantage
of the new features. <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/interlock/">Learn more</a>.</li>
</ul>

<h3 id="storage">Storage</h3>

<ul>
  <li>Support for NFS-based Kubernetes persistent volumes. Additional volume plugins
will be available in future releases.</li>
</ul>

<h3 id="security">Security</h3>

<ul>
  <li>Role-based access control now supports Kubernetes resources.
<a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/authorization/migrate-kubernetes-roles/">Learn more</a>.
    <ul>
      <li>In addition to users, teams, organizations, and grants you can now use
Kubernetes Service Accounts as a subject type.
<a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/kubernetes/create-service-account/">Learn more</a>.</li>
      <li>You can now create custom roles with Kubernetes API permissions. Default
roles include Kubernetes API permissions based on their access type.
As an example, View-Only contains Swarm and Kubernetes read-only API permissions.</li>
      <li>In addition to collections, grants can now use Kubernetes Namespaces as
a resource set type.</li>
      <li>Admins can now link a Kubernetes namespace to a collection of nodes in order
to isolate users and workloads between different nodes.</li>
    </ul>
  </li>
  <li>Administrators can now enforce only running trusted images for both swarm and
Kubernetes applications. <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/admin/configure/run-only-the-images-you-trust/">Learn more</a></li>
  <li>API support for registering multiple UCP clusters to a single DTR for the
purposes of signed image enforcement. <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/admin/configure/integrate-with-multiple-registries/">Learn more</a>.</li>
  <li>The <code class="highlighter-rouge">Restricted Control</code> role includes the <code class="highlighter-rouge">User Impersonation</code> Kubernetes action,
which can allow a user to escalate to admin privileges if the role is granted against
<code class="highlighter-rouge">All Kubernetes Namespaces</code>. For this version, we recommend that administrators do not
grant the <code class="highlighter-rouge">Restricted Control</code> role against Kubernetes namespaces, and use custom roles
instead. This issue does not affect any other roles in the system, or any of the grants
using <code class="highlighter-rouge">Restricted Control</code> against collections.</li>
  <li>For increased security UCP now requires clients to use TLS version 1.2.</li>
</ul>

<h3 id="known-issues-6">Known issues</h3>

<ul>
  <li>Platform support
    <ul>
      <li>Kubernetes is not yet supported for Windows-based workloads. Use Swarmkit for
Windows based workloads instead.</li>
      <li>EE 2.0 is not yet supported in IBM Z platforms.</li>
    </ul>
  </li>
  <li>Upgrade
    <ul>
      <li>After upgrading to 3.0, UCP uses the <code class="highlighter-rouge">191.168.0.0/16</code> CIDR to allocate IPs
for Kubernetes Pods. This option is customizable when doing a fresh installation,
but not during an upgrade. As a workaround to configure this option, before
upgrading, <a href="admin/configure/ucp-configuration-file.md">update the UCP configuration</a>
to include <code class="highlighter-rouge">pod_cidr = "&lt;ip&gt;/&lt;mask&gt;"</code> under the <code class="highlighter-rouge">[cluster_config]</code> option.</li>
    </ul>
  </li>
  <li>CLI
    <ul>
      <li>Both Docker and <code class="highlighter-rouge">kubectl</code> CLIs report that UCP is running Kubernetes 1.8.2,
when in fact it is running 1.8.9.</li>
    </ul>
  </li>
  <li>Networking
    <ul>
      <li>Swarm encrypted overlay networks might not work as expected because default
Kubernetes firewall rules are interfering with them. <a href="https://success.docker.com/article/KB000717">Learn more</a>.</li>
      <li>Calico networking for Kubernetes is not supported for Microsoft Azure. UCP
leverages Azure networking and IPAM for control-plane and connectivity.
<a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/admin/install/install-on-azure/">Learn how to deploy EE 2.0 on Azure</a>.</li>
      <li>Azure IPAM will fail if nodes in the cluster are connected to different subnets.
As a workaround ensure network setup avoids multiple subnets. This will be
rectified in an upcoming patch release.</li>
      <li>UCP Calico control-plane supports full-mesh BGP peering only at release-time.
Calico control-plane may cause high CPU on nodes in clusters above 100 nodes.
A route reflector based partial-mesh BGP control-plane will reduce CPU
consumption when scaling past 100 nodes.
Route-reflector configurations will be included in a future release.</li>
      <li>In some deployments the <code class="highlighter-rouge">kube-dns</code> component won’t be able to resolve external
domain names. <a href="https://kubernetes.io/docs/tasks/administer-cluster/dns-custom-nameservers/#configure-stub-domain-and-upstream-dns-servers">Deploy a ConfigMap to work around this</a>.</li>
      <li>If you upgrade from UCP 2.x to UCP 3.x on Azure, Kubernetes networking doesn’t work.
The cluster upgrade completes, and Swarm workloads work, but Kubernetes networking
will be down.</li>
    </ul>
  </li>
  <li>Management
    <ul>
      <li>If upgrading UCP through the web interface, UCP will not check to ensure the manager node
has the minimum memory required of 4 GB. Upgrading through the CLI does check for
this requirement.</li>
      <li>Putting a node in <code class="highlighter-rouge">drain</code> mode currently removes only Swarm workloads, and not
Kubernetes workloads. This will be fixed in a future release.</li>
      <li>Kubernetes base image layer uses Ubuntu 16.04 which contains some known CVE
vulnerabilities. These will be removed when the base image layer is updated.</li>
      <li>Running <code class="highlighter-rouge">docker system prune -a</code> directly on individual worker nodes in the cluster
will potentially delete UCP system images. This behavior will not occur if the
prune command is run using a UCP client bundle.</li>
      <li>Compose for Kubernetes only supports v3 or higher YAML files. Any older
version YAML files will silently fail without errors.</li>
      <li>Linking Kubernetes namespace to a collection of nodes in order to isolate
Kubernetes workloads between different nodes is not working as expected.
<a href="https://success.docker.com/article/workaround-for-link-nodes-in-collection-ucp-300">You can use this workaround</a>.</li>
      <li>Running <code class="highlighter-rouge">kubectl get cs</code> might show some internal UCP components as
unhealthy when that’s not the case.</li>
    </ul>
  </li>
  <li>Storage
    <ul>
      <li>UCP does not yet support dynamic volume provisioning (NFS volumes do not
support this). This will change in future releases when more volume types
are available.</li>
    </ul>
  </li>
</ul>

<h3 id="deprecation-notice">Deprecation notice</h3>

<p>The following functionality has been deprecated with UCP 3.0.0 and will be
unavailable in the next UCP feature release.</p>

<ul>
  <li>The web interface is going to stop supporting users to deploy stacks with basic
containers. You should update your Compose files to version 3, and deploy your
stack as a Swarm service or Kubernetes workload.</li>
  <li>The option to integrate with a remote Syslog system is going to be removed
from the UCP web interface. You can configure Docker Engine for this.</li>
  <li>The option to configure a rescheduling policy for basic containers is
deprecated. Deploy your applications as Swarm services or Kubernetes workloads.</li>
</ul>

<h3 id="components-15">Components</h3>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UCP</td>
      <td>3.0.1</td>
    </tr>
    <tr>
      <td>Kubernetes</td>
      <td>1.8.11</td>
    </tr>
    <tr>
      <td>Calico</td>
      <td>3.0.1</td>
    </tr>
    <tr>
      <td>Interlock (nginx)</td>
      <td>1.13.8</td>
    </tr>
  </tbody>
</table>

<h1 id="version-22">Version 2.2</h1>

<h2 id="version-2217">Version 2.2.17</h2>

<p>2019-02-28</p>

<p><strong>Bug Fixes</strong></p>
<ul>
  <li>Bump the Golang version that is used to build UCP to version 1.10.8.</li>
  <li>Prevent UCP users from updating services with a port that conflicts with the UCP controller port. (escalation#855)</li>
</ul>

<h3 id="known-issues-7">Known issues</h3>

<ul>
  <li>Docker currently has limitations related to overlay networking and services using VIP-based endpoints. These limitations apply to use of the HTTP Routing Mesh (HRM). HRM users should familiarize themselves with these limitations. In particular, HRM may encounter virtual IP exhaustion (as evidenced by <code class="highlighter-rouge">failed to allocate network IP for task</code> Docker log messages). If this happens, and if the HRM service is restarted or rescheduled for any reason, HRM may fail to resume operation automatically. See the Docker EE 17.06-ee5 release notes for details.</li>
  <li>The Swarm admin web interface for UCP versions 2.2.0 and later contain a bug. If used with Docker Engine version 17.06.2-ee5 or earlier, attempting to update “Task History Limit”, “Heartbeat Period” and “Node Certificate Expiry” settings using the UI will cause the cluster to crash on next restart. Using UCP 2.2.X and Docker Engine 17.06-ee6 and later, updating these settings will fail (but not cause the cluster to crash). Users are encouraged to update to Docker Engine version 17.06.2-ee6 and later, and to use the Docker CLI (instead of the UCP UI) to update these settings. Rotating join tokens works with any combination of Docker Engine and UCP versions. Docker Engine versions 17.03 and earlier (which use UCP version 2.1 and earlier) are not affected by this problem.</li>
  <li>Upgrading heterogeneous swarms from CLI may fail because x86 images are used
instead of the correct image for the worker architecture.</li>
  <li>Agent container log is empty even though it’s running correctly.</li>
  <li>Rapid UI settings updates may cause unintended settings changes for logging
 settings and other admin settings.</li>
  <li>Attempting to load an (unsupported) <code class="highlighter-rouge">tar.gz</code> image results in a poor error
 message.</li>
  <li>Searching for images in the UCP images UI doesn’t work.</li>
  <li>Removing a stack may leave orphaned volumes.</li>
  <li>Storage metrics are not available for Windows.</li>
  <li>You can’t create a bridge network from the web interface. As a workaround use
 <code class="highlighter-rouge">&lt;node-name&gt;/&lt;network-name&gt;</code>.</li>
</ul>

<h2 id="version-2216">Version 2.2.16</h2>

<p>2019-01-29</p>

<h3 id="bug-fixes-13">Bug fixes</h3>
<ul>
  <li>Added support for the <code class="highlighter-rouge">limit</code> argument in <code class="highlighter-rouge">docker ps</code>. (#15812)</li>
</ul>

<h3 id="known-issues-8">Known issues</h3>

<ul>
  <li>Docker currently has limitations related to overlay networking and services using VIP-based endpoints. These limitations apply to use of the HTTP Routing Mesh (HRM). HRM users should familiarize themselves with these limitations. In particular, HRM may encounter virtual IP exhaustion (as evidenced by <code class="highlighter-rouge">failed to allocate network IP for task</code> Docker log messages). If this happens, and if the HRM service is restarted or rescheduled for any reason, HRM may fail to resume operation automatically. See the Docker EE 17.06-ee5 release notes for details.</li>
  <li>The Swarm admin web interface for UCP versions 2.2.0 and later contain a bug. If used with Docker Engine version 17.06.2-ee5 or earlier, attempting to update “Task History Limit”, “Heartbeat Period” and “Node Certificate Expiry” settings using the UI will cause the cluster to crash on next restart. Using UCP 2.2.X and Docker Engine 17.06-ee6 and later, updating these settings will fail (but not cause the cluster to crash). Users are encouraged to update to Docker Engine version 17.06.2-ee6 and later, and to use the Docker CLI (instead of the UCP UI) to update these settings. Rotating join tokens works with any combination of Docker Engine and UCP versions. Docker Engine versions 17.03 and earlier (which use UCP version 2.1 and earlier) are not affected by this problem.</li>
  <li>Upgrading heterogeneous swarms from CLI may fail because x86 images are used
instead of the correct image for the worker architecture.</li>
  <li>Agent container log is empty even though it’s running correctly.</li>
  <li>Rapid UI settings updates may cause unintended settings changes for logging
 settings and other admin settings.</li>
  <li>Attempting to load an (unsupported) <code class="highlighter-rouge">tar.gz</code> image results in a poor error
 message.</li>
  <li>Searching for images in the UCP images UI doesn’t work.</li>
  <li>Removing a stack may leave orphaned volumes.</li>
  <li>Storage metrics are not available for Windows.</li>
  <li>You can’t create a bridge network from the web interface. As a workaround use
 <code class="highlighter-rouge">&lt;node-name&gt;/&lt;network-name&gt;</code>.</li>
</ul>

<h2 id="version-2215">Version 2.2.15</h2>

<p>2019-01-09</p>

<h3 id="bug-fixes-14">Bug fixes</h3>
<ul>
  <li>Core
    <ul>
      <li>Significantly reduced database load in environments with a lot of concurrent and repeated API requests by the same user.</li>
      <li>Added the ability to set custom HTTP response headers to be returned by the UCP Controller API Server.</li>
    </ul>
  </li>
  <li>Web interface
    <ul>
      <li>Fixed stack creation for non admin user when UCP uses a custom controller port.</li>
    </ul>
  </li>
</ul>

<h3 id="known-issues-9">Known issues</h3>

<ul>
  <li>Docker currently has limitations related to overlay networking and services using VIP-based endpoints. These limitations apply to use of the HTTP Routing Mesh (HRM). HRM users should familiarize themselves with these limitations. In particular, HRM may encounter virtual IP exhaustion (as evidenced by <code class="highlighter-rouge">failed to allocate network IP for task</code> Docker log messages). If this happens, and if the HRM service is restarted or rescheduled for any reason, HRM may fail to resume operation automatically. See the Docker EE 17.06-ee5 release notes for details.</li>
  <li>The Swarm admin web interface for UCP versions 2.2.0 and later contain a bug. If used with Docker Engine version 17.06.2-ee5 or earlier, attempting to update “Task History Limit”, “Heartbeat Period” and “Node Certificate Expiry” settings using the UI will cause the cluster to crash on next restart. Using UCP 2.2.X and Docker Engine 17.06-ee6 and later, updating these settings will fail (but not cause the cluster to crash). Users are encouraged to update to Docker Engine version 17.06.2-ee6 and later, and to use the Docker CLI (instead of the UCP UI) to update these settings. Rotating join tokens works with any combination of Docker Engine and UCP versions. Docker Engine versions 17.03 and earlier (which use UCP version 2.1 and earlier) are not affected by this problem.</li>
  <li>Upgrading heterogeneous swarms from CLI may fail because x86 images are used
instead of the correct image for the worker architecture.</li>
  <li>Agent container log is empty even though it’s running correctly.</li>
  <li>Rapid UI settings updates may cause unintended settings changes for logging
 settings and other admin settings.</li>
  <li>Attempting to load an (unsupported) <code class="highlighter-rouge">tar.gz</code> image results in a poor error
 message.</li>
  <li>Searching for images in the UCP images UI doesn’t work.</li>
  <li>Removing a stack may leave orphaned volumes.</li>
  <li>Storage metrics are not available for Windows.</li>
  <li>You can’t create a bridge network from the web interface. As a workaround use
 <code class="highlighter-rouge">&lt;node-name&gt;/&lt;network-name&gt;</code>.</li>
</ul>

<h2 id="version-2214">Version 2.2.14</h2>

<p>2018-10-25</p>

<h3 id="bug-fixes-15">Bug fixes</h3>

<ul>
  <li>Core
    <ul>
      <li>Resolved an issue where LDAP sync jobs terminated when processing an org admin search result that did not correspond to an existing user. (docker/escalation#784 #docker/escalation#888)</li>
      <li>Fixed an issue that caused RethinkDB client lock contention. (docker/escalation#902 and docker/escalation#906)</li>
    </ul>
  </li>
  <li>Web Interface
    <ul>
      <li>Fixed an issue that prevented “Per User Limit” on Admin Settings from working. (docker/escalation#639)</li>
    </ul>
  </li>
</ul>

<h3 id="known-issues-10">Known issues</h3>

<ul>
  <li>Docker currently has limitations related to overlay networking and services using VIP-based endpoints. These limitations apply to use of the HTTP Routing Mesh (HRM). HRM users should familiarize themselves with these limitations. In particular, HRM may encounter virtual IP exhaustion (as evidenced by <code class="highlighter-rouge">failed to allocate network IP for task</code> Docker log messages). If this happens, and if the HRM service is restarted or rescheduled for any reason, HRM may fail to resume operation automatically. See the Docker EE 17.06-ee5 release notes for details.</li>
  <li>The Swarm admin web interface for UCP versions 2.2.0 and later contain a bug. If used with Docker Engine version 17.06.2-ee5 or earlier, attempting to update “Task History Limit”, “Heartbeat Period” and “Node Certificate Expiry” settings using the UI will cause the cluster to crash on next restart. Using UCP 2.2.X and Docker Engine 17.06-ee6 and later, updating these settings will fail (but not cause the cluster to crash). Users are encouraged to update to Docker Engine version 17.06.2-ee6 and later, and to use the Docker CLI (instead of the UCP UI) to update these settings. Rotating join tokens works with any combination of Docker Engine and UCP versions. Docker Engine versions 17.03 and earlier (which use UCP version 2.1 and earlier) are not affected by this problem.</li>
  <li>Upgrading heterogeneous swarms from CLI may fail because x86 images are used
instead of the correct image for the worker architecture.</li>
  <li>Agent container log is empty even though it’s running correctly.</li>
  <li>Rapid UI settings updates may cause unintended settings changes for logging
 settings and other admin settings.</li>
  <li>Attempting to load an (unsupported) <code class="highlighter-rouge">tar.gz</code> image results in a poor error
 message.</li>
  <li>Searching for images in the UCP images UI doesn’t work.</li>
  <li>Removing a stack may leave orphaned volumes.</li>
  <li>Storage metrics are not available for Windows.</li>
  <li>You can’t create a bridge network from the web interface. As a workaround use
 <code class="highlighter-rouge">&lt;node-name&gt;/&lt;network-name&gt;</code>.</li>
</ul>

<h2 id="version-2213">Version 2.2.13</h2>

<p>2018-08-30</p>

<h3 id="bug-fixes-16">Bug fixes</h3>

<ul>
  <li>Security
    <ul>
      <li>Fixed a critical security issue to prevent UCP from accepting certificates from
the system pool when adding client CAs to the server that requires mutual authentication.</li>
    </ul>
  </li>
</ul>

<h3 id="known-issues-11">Known issues</h3>

<ul>
  <li>Docker currently has limitations related to overlay networking and services using VIP-based endpoints. These limitations apply to use of the HTTP Routing Mesh (HRM). HRM users should familiarize themselves with these limitations. In particular, HRM may encounter virtual IP exhaustion (as evidenced by <code class="highlighter-rouge">failed to allocate network IP for task</code> Docker log messages). If this happens, and if the HRM service is restarted or rescheduled for any reason, HRM may fail to resume operation automatically. See the Docker EE 17.06-ee5 release notes for details.</li>
  <li>The Swarm admin web interface for UCP versions 2.2.0 and later contain a bug. If used with Docker Engine version 17.06.2-ee5 or earlier, attempting to update “Task History Limit”, “Heartbeat Period” and “Node Certificate Expiry” settings using the UI will cause the cluster to crash on next restart. Using UCP 2.2.X and Docker Engine 17.06-ee6 and later, updating these settings will fail (but not cause the cluster to crash). Users are encouraged to update to Docker Engine version 17.06.2-ee6 and later, and to use the Docker CLI (instead of the UCP UI) to update these settings. Rotating join tokens works with any combination of Docker Engine and UCP versions. Docker Engine versions 17.03 and earlier (which use UCP version 2.1 and earlier) are not affected by this problem.</li>
  <li>Upgrading heterogeneous swarms from CLI may fail because x86 images are used
instead of the correct image for the worker architecture.</li>
  <li>Agent container log is empty even though it’s running correctly.</li>
  <li>Rapid UI settings updates may cause unintended settings changes for logging
 settings and other admin settings.</li>
  <li>Attempting to load an (unsupported) <code class="highlighter-rouge">tar.gz</code> image results in a poor error
 message.</li>
  <li>Searching for images in the UCP images UI doesn’t work.</li>
  <li>Removing a stack may leave orphaned volumes.</li>
  <li>Storage metrics are not available for Windows.</li>
  <li>You can’t create a bridge network from the web interface. As a workaround use
 <code class="highlighter-rouge">&lt;node-name&gt;/&lt;network-name&gt;</code>.</li>
</ul>

<h2 id="version-2212">Version 2.2.12</h2>

<p>2018-08-09</p>

<h3 id="bug-fixes-17">Bug fixes</h3>

<ul>
  <li>Security
    <ul>
      <li>Fixed a critical security issue where the LDAP bind username and password
were stored in cleartext on UCP hosts. Please refer to the following KB article
https://success.docker.com/article/upgrading-to-ucp-2-2-12-ucp-3-0-4/
for proper implementation of this fix.</li>
    </ul>
  </li>
</ul>

<h3 id="known-issues-12">Known issues</h3>

<ul>
  <li>Docker currently has limitations related to overlay networking and services using VIP-based endpoints. These limitations apply to use of the HTTP Routing Mesh (HRM). HRM users should familiarize themselves with these limitations. In particular, HRM may encounter virtual IP exhaustion (as evidenced by <code class="highlighter-rouge">failed to allocate network IP for task</code> Docker log messages). If this happens, and if the HRM service is restarted or rescheduled for any reason, HRM may fail to resume operation automatically. See the Docker EE 17.06-ee5 release notes for details.</li>
  <li>The Swarm admin web interface for UCP versions 2.2.0 and later contain a bug. If used with Docker Engine version 17.06.2-ee5 or earlier, attempting to update “Task History Limit”, “Heartbeat Period” and “Node Certificate Expiry” settings using the UI will cause the cluster to crash on next restart. Using UCP 2.2.X and Docker Engine 17.06-ee6 and later, updating these settings will fail (but not cause the cluster to crash). Users are encouraged to update to Docker Engine version 17.06.2-ee6 and later, and to use the Docker CLI (instead of the UCP UI) to update these settings. Rotating join tokens works with any combination of Docker Engine and UCP versions. Docker Engine versions 17.03 and earlier (which use UCP version 2.1 and earlier) are not affected by this problem.</li>
  <li>Upgrading heterogeneous swarms from CLI may fail because x86 images are used
instead of the correct image for the worker architecture.</li>
  <li>Agent container log is empty even though it’s running correctly.</li>
  <li>Rapid UI settings updates may cause unintended settings changes for logging
 settings and other admin settings.</li>
  <li>Attempting to load an (unsupported) <code class="highlighter-rouge">tar.gz</code> image results in a poor error
 message.</li>
  <li>Searching for images in the UCP images UI doesn’t work.</li>
  <li>Removing a stack may leave orphaned volumes.</li>
  <li>Storage metrics are not available for Windows.</li>
  <li>You can’t create a bridge network from the web interface. As a workaround use
 <code class="highlighter-rouge">&lt;node-name&gt;/&lt;network-name&gt;</code>.</li>
</ul>

<h2 id="version-2211">Version 2.2.11</h2>

<p>2018-07-26</p>

<h3 id="new-platforms-4">New platforms</h3>
<ul>
  <li>UCP 2.2.11 is supported running on RHEL 7.5 and Ubuntu 18.04.</li>
</ul>

<h3 id="bug-fixes-18">Bug fixes</h3>

<ul>
  <li>Security
    <ul>
      <li>Fixed an issue that causes some security headers to not be added to all API responses.</li>
    </ul>
  </li>
  <li>Core
    <ul>
      <li>Optimized swarm service read API calls through UCP.</li>
      <li>Upgraded <code class="highlighter-rouge">RethinkDB</code> image to address potential security vulnerabilities.</li>
      <li>Fixee an issue where removing a worker node from the cluster would cause an etcd member to be removed on a manager node.</li>
      <li>Upgraded <code class="highlighter-rouge">etcd</code> version to 2.3.8.</li>
      <li>Fixed an issue that causes classic Swarm to provide outdated data.</li>
      <li>Fixed an issue that raises <code class="highlighter-rouge">ucp-kv</code> collection error with unnamed volumes.</li>
    </ul>
  </li>
  <li>UI
    <ul>
      <li>Fixed an issue that causes the web interface to not parse volume options correctly.</li>
      <li>Fixed an issue that prevents the user from deploying stacks through the web interface.</li>
    </ul>
  </li>
</ul>

<h3 id="known-issues-13">Known issues</h3>

<ul>
  <li>Docker currently has limitations related to overlay networking and services using VIP-based endpoints. These limitations apply to use of the HTTP Routing Mesh (HRM). HRM users should familiarize themselves with these limitations. In particular, HRM may encounter virtual IP exhaustion (as evidenced by <code class="highlighter-rouge">failed to allocate network IP for task</code> Docker log messages). If this happens, and if the HRM service is restarted or rescheduled for any reason, HRM may fail to resume operation automatically. See the Docker EE 17.06-ee5 release notes for details.</li>
  <li>The Swarm admin web interface for UCP versions 2.2.0 and later contain a bug. If used with Docker Engine version 17.06.2-ee5 or earlier, attempting to update “Task History Limit”, “Heartbeat Period” and “Node Certificate Expiry” settings using the UI will cause the cluster to crash on next restart. Using UCP 2.2.X and Docker Engine 17.06-ee6 and later, updating these settings will fail (but not cause the cluster to crash). Users are encouraged to update to Docker Engine version 17.06.2-ee6 and later, and to use the Docker CLI (instead of the UCP UI) to update these settings. Rotating join tokens works with any combination of Docker Engine and UCP versions. Docker Engine versions 17.03 and earlier (which use UCP version 2.1 and earlier) are not affected by this problem.</li>
  <li>Upgrading heterogeneous swarms from CLI may fail because x86 images are used
instead of the correct image for the worker architecture.</li>
  <li>Agent container log is empty even though it’s running correctly.</li>
  <li>Rapid UI settings updates may cause unintended settings changes for logging
 settings and other admin settings.</li>
  <li>Attempting to load an (unsupported) <code class="highlighter-rouge">tar.gz</code> image results in a poor error
 message.</li>
  <li>Searching for images in the UCP images UI doesn’t work.</li>
  <li>Removing a stack may leave orphaned volumes.</li>
  <li>Storage metrics are not available for Windows.</li>
  <li>You can’t create a bridge network from the web interface. As a workaround use
 <code class="highlighter-rouge">&lt;node-name&gt;/&lt;network-name&gt;</code>.</li>
</ul>

<h2 id="version-2210">Version 2.2.10</h2>

<p>2018-05-17</p>

<h3 id="bug-fixes-19">Bug fixes</h3>

<ul>
  <li>Security
    <ul>
      <li>Security headers are added for PCI compliance to all API responses.</li>
    </ul>
  </li>
  <li>UI
    <ul>
      <li>Users can now set log driver name and options on both create and update
 service screens.</li>
      <li>Fixed an issue that causes legacy collections on services to break the web interface. Now
 legacy collections are properly prepended with “/Shared/Legacy/”.</li>
      <li>Fixed an issue that causes service counts in status summary to be shown
 incorrectly.</li>
    </ul>
  </li>
  <li>Authentication/Authorization
    <ul>
      <li>Private collections are now only created for those users which have
 previously logged in.</li>
      <li>The logic which reconciles collection labels is now skipped if the
 node already has an access label.</li>
      <li>Fixed an issue where LDAP syncs would always search against the last server
 in the list of additional domains if the search base DN matched any of those
 domains.</li>
    </ul>
  </li>
  <li>Core
    <ul>
      <li>UCP can now be displayed in an iframe for pages hosted on the same domain.</li>
      <li>Fixed an issue that prevents non-admin users to do <code class="highlighter-rouge">docker build</code> on UCP.</li>
      <li>Fixed an issue where a node’s status may be reported incorrectly in node
 listings.</li>
      <li>UCP can now be installed on a system with more than 127 logical CPU cores.</li>
      <li>Improved the performance of UCP’s local and global health checks.</li>
    </ul>
  </li>
</ul>

<h3 id="known-issues-14">Known issues</h3>

<ul>
  <li>Excessive delay is seen when sending <code class="highlighter-rouge">docker service ls</code> through a UCP client
 bundle on a cluster that is running thousands of services.</li>
  <li>Docker currently has limitations related to overlay networking and services using VIP-based endpoints. These limitations apply to use of the HTTP Routing Mesh (HRM). HRM users should familiarize themselves with these limitations. In particular, HRM may encounter virtual IP exhaustion (as evidenced by <code class="highlighter-rouge">failed to allocate network IP for task</code> Docker log messages). If this happens, and if the HRM service is restarted or rescheduled for any reason, HRM may fail to resume operation automatically. See the Docker EE 17.06-ee5 release notes for details.</li>
  <li>The Swarm admin web interface for UCP versions 2.2.0 and later contain a bug. If used with Docker Engine version 17.06.2-ee5 or earlier, attempting to update “Task History Limit”, “Heartbeat Period” and “Node Certificate Expiry” settings using the UI will cause the cluster to crash on next restart. Using UCP 2.2.X and Docker Engine 17.06-ee6 and later, updating these settings will fail (but not cause the cluster to crash). Users are encouraged to update to Docker Engine version 17.06.2-ee6 and later, and to use the Docker CLI (instead of the UCP UI) to update these settings. Rotating join tokens works with any combination of Docker Engine and UCP versions. Docker Engine versions 17.03 and earlier (which use UCP version 2.1 and earlier) are not affected by this problem.</li>
  <li>Upgrading heterogeneous swarms from CLI may fail because x86 images are used
 instead of the correct image for the worker architecture.</li>
  <li>Agent container log is empty even though it’s running correctly.</li>
  <li>Rapid UI settings updates may cause unintended settings changes for logging
 settings and other admin settings.</li>
  <li>Attempting to load an (unsupported) <code class="highlighter-rouge">tar.gz</code> image results in a poor error
 message.</li>
  <li>Searching for images in the UCP images UI doesn’t work.</li>
  <li>Removing a stack may leave orphaned volumes.</li>
  <li>Storage metrics are not available for Windows.</li>
  <li>You can’t create a bridge network from the web interface. As a workaround use
 <code class="highlighter-rouge">&lt;node-name&gt;/&lt;network-name&gt;</code>.</li>
</ul>

<h2 id="version-229">Version 2.2.9</h2>

<p>2018-04-17</p>

<h3 id="bug-fixes-20">Bug fixes</h3>

<ul>
  <li>Security
    <ul>
      <li>Fixed an issue that allows users to incorrectly interact with local volumes.</li>
      <li>Fixed an issue where setting minimum TLS version causes <code class="highlighter-rouge">ucp-agent</code> to
 keep restarting on worker nodes.</li>
    </ul>
  </li>
  <li>Core
    <ul>
      <li>Fixed an issue that causes container fail to start with <code class="highlighter-rouge">container ID not found</code>
 during high concurrent API calls to create and start containers.</li>
    </ul>
  </li>
</ul>

<h3 id="known-issues-15">Known issues</h3>

<ul>
  <li>RethinkDB can only run with up to 127 CPU cores.</li>
  <li>When integrating with LDAP and using multiple domain servers, if the
default server configuration is not chosen, then the last server configuration
is always used, regardless of which one is actually the best match.</li>
  <li>Docker currently has limitations related to overlay networking and services using VIP-based endpoints. These limitations apply to use of the HTTP Routing Mesh (HRM). HRM users should familiarize themselves with these limitations. In particular, HRM may encounter virtual IP exhaustion (as evidenced by <code class="highlighter-rouge">failed to allocate network IP for task</code> Docker log messages). If this happens, and if the HRM service is restarted or rescheduled for any reason, HRM may fail to resume operation automatically. See the Docker EE 17.06-ee5 release notes for details.</li>
  <li>The Swarm admin web interface for UCP versions 2.2.0 and later contain a bug. If used with Docker Engine version 17.06.2-ee5 or earlier, attempting to update “Task History Limit”, “Heartbeat Period” and “Node Certificate Expiry” settings using the UI will cause the cluster to crash on next restart. Using UCP 2.2.X and Docker Engine 17.06-ee6 and later, updating these settings will fail (but not cause the cluster to crash). Users are encouraged to update to Docker Engine version 17.06.2-ee6 and later, and to use the Docker CLI (instead of the UCP UI) to update these settings. Rotating join tokens works with any combination of Docker Engine and UCP versions. Docker Engine versions 17.03 and earlier (which use UCP version 2.1 and earlier) are not affected by this problem.</li>
  <li>Upgrading heterogeneous swarms from CLI may fail because x86 images are used
 instead of the correct image for the worker architecture.</li>
  <li>Agent container log is empty even though it’s running correctly.</li>
  <li>Rapid UI settings updates may cause unintended settings changes for logging
 settings and other admin settings.</li>
  <li>Attempting to load an (unsupported) <code class="highlighter-rouge">tar.gz</code> image results in a poor error
 message.</li>
  <li>Searching for images in the UCP images UI doesn’t work.</li>
  <li>Removing a stack may leave orphaned volumes.</li>
  <li>Storage metrics are not available for Windows.</li>
  <li>You can’t create a bridge network from the web interface. As a workaround use
 <code class="highlighter-rouge">&lt;node-name&gt;/&lt;network-name&gt;</code>.</li>
</ul>

<h2 id="version-227">Version 2.2.7</h2>

<p>2018-03-26</p>

<h3 id="bug-fixes-21">Bug fixes</h3>

<ul>
  <li>Fixed an issue where the minimum TLS version setting is not correctly handled,
leading to non-default values causing <code class="highlighter-rouge">ucp-controller</code> and <code class="highlighter-rouge">ucp-agent</code> to keep
restarting.</li>
</ul>

<h3 id="known-issues-16">Known issues</h3>

<ul>
  <li>RethinkDB can only run with up to 127 CPU cores.</li>
  <li>When integrating with LDAP and using multiple domain servers, if the
default server configuration is not chosen, then the last server configuration
is always used, regardless of which one is actually the best match.</li>
  <li>Docker currently has limitations related to overlay networking and services using VIP-based endpoints. These limitations apply to use of the HTTP Routing Mesh (HRM). HRM users should familiarize themselves with these limitations. In particular, HRM may encounter virtual IP exhaustion (as evidenced by <code class="highlighter-rouge">failed to allocate network IP for task</code> Docker log messages). If this happens, and if the HRM service is restarted or rescheduled for any reason, HRM may fail to resume operation automatically. See the Docker EE 17.06-ee5 release notes for details.</li>
  <li>The Swarm admin web interface for UCP versions 2.2.0 and later contain a bug. If used with Docker Engine version 17.06.2-ee5 or earlier, attempting to update “Task History Limit”, “Heartbeat Period” and “Node Certificate Expiry” settings using the UI will cause the cluster to crash on next restart. Using UCP 2.2.X and Docker Engine 17.06-ee6 and later, updating these settings will fail (but not cause the cluster to crash). Users are encouraged to update to Docker Engine version 17.06.2-ee6 and later, and to use the Docker CLI (instead of the UCP UI) to update these settings. Rotating join tokens works with any combination of Docker Engine and UCP versions. Docker Engine versions 17.03 and earlier (which use UCP version 2.1 and earlier) are not affected by this problem.</li>
  <li>Upgrading heterogeneous swarms from CLI may fail because x86 images are used
 instead of the correct image for the worker architecture.</li>
  <li>Agent container log is empty even though it’s running correctly.</li>
  <li>Rapid UI settings updates may cause unintended settings changes for logging
 settings and other admin settings.</li>
  <li>Attempting to load an (unsupported) <code class="highlighter-rouge">tar.gz</code> image results in a poor error
 message.</li>
  <li>Searching for images in the UCP images UI doesn’t work.</li>
  <li>Removing a stack may leave orphaned volumes.</li>
  <li>Storage metrics are not available for Windows.</li>
  <li>You can’t create a bridge network from the web interface. As a workaround use
 <code class="highlighter-rouge">&lt;node-name&gt;/&lt;network-name&gt;</code>.</li>
</ul>

<h2 id="version-226">Version 2.2.6</h2>

<p>2018-03-19</p>

<h3 id="new-features-2">New features</h3>

<ul>
  <li>Security
    <ul>
      <li>Default TLS connections to TLS 1.2, and allows users to configure the minimum
TLS version used by the UCP controller.</li>
    </ul>
  </li>
  <li>Support and troubleshoot
    <ul>
      <li>The support dump now includes the output of <code class="highlighter-rouge">dmesg</code>.</li>
      <li>Added more information to the telemetry data: kernel version, graph driver, and
logging driver.</li>
      <li>The <code class="highlighter-rouge">dsinfo</code> image used for support dumps is now smaller.</li>
    </ul>
  </li>
</ul>

<p><strong>Bug fixes</strong></p>

<ul>
  <li>Core
    <ul>
      <li>The HRM service is no longer deployed with constraints that might prevent
the service from ever getting scheduled.</li>
      <li>Fixed a problem causing the HRM service to be restarted multiple times.</li>
      <li>The <code class="highlighter-rouge">ucp-agent</code> service is now deployed without adding extra collection labels.
This doesn’t change the behavior of the service.</li>
      <li>Fixed problem causing a healthy <code class="highlighter-rouge">ucp-auth-store</code> component to be reported as
unhealthy.</li>
      <li>Fixed a race condition causing the labels for the UCP controller container
to be reset.</li>
      <li>Fixed an issue causing the <code class="highlighter-rouge">ucp-agent</code> service to be deployed with the wrong
architecture on Windows nodes.</li>
    </ul>
  </li>
  <li>RBAC
    <ul>
      <li>Role-based access control can now be enforced for third-party volume plugins,
fixing a known issue from UCP 2.2.5.</li>
      <li>Admins can now clean up volumes and networks that had inconsistent collection
labels across different nodes in the cluster. Previously, they would have had
to go onto each node and clean up those resources directly.</li>
      <li>When upgrading from UCP 2.1, inactive user accounts are no longer migrated
to the new RBAC model.</li>
      <li>Fixed an issue preventing users from seeing a collection when they have
permissions to deploy services on a child collection.</li>
      <li>Grants are now deleted when deleting an organization whose teams have grants.</li>
    </ul>
  </li>
  <li>UI
    <ul>
      <li>Fixed a problem in the Settings page that would cause Docker to stop when
you made changes to UCP settings and a new manager node is promoted to leader.</li>
      <li>Fixed bug causing the Grants list page not to render after deleting an
organization mentioned used on a grant.</li>
      <li>Fixed a problem that would intermittently cause settings not to be persisted.</li>
      <li>Fixed an issue that prevented users from being able to change LDAP settings.</li>
    </ul>
  </li>
</ul>

<h3 id="known-issues-17">Known issues</h3>

<ul>
  <li>RethinkDB can only run with up to 127 CPU cores.</li>
  <li>When integrating with LDAP and using multiple domain servers, if the
default server configuration is not chosen, then the last server configuration
is always used, regardless of which one is actually the best match.</li>
  <li>Docker currently has limitations related to overlay networking and services using VIP-based endpoints. These limitations apply to use of the HTTP Routing Mesh (HRM). HRM users should familiarize themselves with these limitations. In particular, HRM may encounter virtual IP exhaustion (as evidenced by <code class="highlighter-rouge">failed to allocate network IP for task</code> Docker log messages). If this happens, and if the HRM service is restarted or rescheduled for any reason, HRM may fail to resume operation automatically. See the Docker EE 17.06-ee5 release notes for details.</li>
  <li>The Swarm admin web interface for UCP versions 2.2.0 and later contain a bug. If used with Docker Engine version 17.06.2-ee5 or earlier, attempting to update “Task History Limit”, “Heartbeat Period” and “Node Certificate Expiry” settings using the UI will cause the cluster to crash on next restart. Using UCP 2.2.X and Docker Engine 17.06-ee6 and later, updating these settings will fail (but not cause the cluster to crash). Users are encouraged to update to Docker Engine version 17.06.2-ee6 and later, and to use the Docker CLI (instead of the UCP UI) to update these settings. Rotating join tokens works with any combination of Docker Engine and UCP versions. Docker Engine versions 17.03 and earlier (which use UCP version 2.1 and earlier) are not affected by this problem.</li>
  <li>Upgrading heterogeneous swarms from CLI may fail because x86 images are used
 instead of the correct image for the worker architecture.</li>
  <li>Agent container log is empty even though it’s running correctly.</li>
  <li>Rapid UI settings updates may cause unintended settings changes for logging
 settings and other admin settings.</li>
  <li>Attempting to load an (unsupported) <code class="highlighter-rouge">tar.gz</code> image results in a poor error
 message.</li>
  <li>Searching for images in the UCP images UI doesn’t work.</li>
  <li>Removing a stack may leave orphaned volumes.</li>
  <li>Storage metrics are not available for Windows.</li>
  <li>You can’t create a bridge network from the web interface. As a workaround use
 <code class="highlighter-rouge">&lt;node-name&gt;/&lt;network-name&gt;</code>.</li>
</ul>

<h2 id="version-225">Version 2.2.5</h2>

<p>2018-01-16</p>

<h3 id="bug-fixes-22">Bug fixes</h3>

<ul>
  <li>Role-based access control is now enforced for volumes managed by
third-party volume plugins. This is a critical security fix for customers that
use third-party volume drivers and rely on Docker Universal Control Plane for
tenant isolation of workloads and data.
<strong>Caution</strong> is advised when applying this update because users or automated
workflows may have come to rely on lack of access control enforcement when
manipulating volumes created with 3rd party volume plugins.</li>
</ul>

<h3 id="known-issues-18">Known issues</h3>

<ul>
  <li>UCP role-based access control is not compatible with all third-party volume
plugins. If you’re using certain third-party volume plugins (such as Netapp)
and are planning on upgrading UCP, you can skip 2.2.5 and wait for the upcoming
2.2.6 release, which will provide an alternative way to turn on RBAC enforcement
for volumes.</li>
  <li>Docker currently has limitations related to overlay networking and services using VIP-based endpoints. These limitations apply to use of the HTTP Routing Mesh (HRM). HRM users should familiarize themselves with these limitations. In particular, HRM may encounter virtual IP exhaustion (as evidenced by <code class="highlighter-rouge">failed to allocate network IP for task</code> Docker log messages). If this happens, and if the HRM service is restarted or rescheduled for any reason, HRM may fail to resume operation automatically. See the Docker EE 17.06-ee5 release notes for details.</li>
  <li>The Swarm admin web interface for UCP versions 2.2.0 and later contain a bug. If used with Docker Engine version 17.06.2-ee5 or earlier, attempting to update “Task History Limit”, “Heartbeat Period” and “Node Certificate Expiry” settings using the UI will cause the cluster to crash on next restart. Using UCP 2.2.X and Docker Engine 17.06-ee6 and later, updating these settings will fail (but not cause the cluster to crash). Users are encouraged to update to Docker Engine version 17.06.2-ee6 and later, and to use the Docker CLI (instead of the UCP UI) to update these settings. Rotating join tokens works with any combination of Docker Engine and UCP versions. Docker Engine versions 17.03 and earlier (which use UCP version 2.1 and earlier) are not affected by this problem.</li>
  <li>Upgrading heterogeneous swarms from CLI may fail because x86 images are used
 instead of the correct image for the worker architecture.</li>
  <li>Agent container log is empty even though it’s running correctly.</li>
  <li>Rapid UI settings updates may cause unintended settings changes for logging
 settings and other admin settings.</li>
  <li>Attempting to load an (unsupported) <code class="highlighter-rouge">tar.gz</code> image results in a poor error
 message.</li>
  <li>Searching for images in the UCP images UI doesn’t work.</li>
  <li>Removing a stack may leave orphaned volumes.</li>
  <li>Storage metrics are not available for Windows.</li>
  <li>You can’t create a bridge network from the web interface. As a workaround use
 <code class="highlighter-rouge">&lt;node-name&gt;/&lt;network-name&gt;</code>.</li>
</ul>

<h2 id="version-224">Version 2.2.4</h2>

<p>2017-11-02</p>

<h3 id="news">News</h3>

<ul>
  <li>Docker Universal Control Plane now supports running managers on IBM Z on RHEL, SLES and Ubuntu. Previously, only workers were supported on IBM Z.</li>
</ul>

<h3 id="bug-fixes-23">Bug fixes</h3>

<ul>
  <li>Core
    <ul>
      <li><code class="highlighter-rouge">ucp-etcd</code> system images are now hidden. Previously, these system images were erroneously displayed in the images list.</li>
      <li><code class="highlighter-rouge">disable_usageinfo</code> will now disable usage metrics. A regression caused this setting to not be respected.</li>
      <li>UCP now outputs “Initializing...” log messages during setup so that administrators can establish that setup or install has begun.</li>
      <li>Windows worker promotion is now blocked. Previously, Windows workers could be promoted using the CLI, which would fail.</li>
      <li>Loading gzipped images with the Docker CLI is now supported. This would previously cause a panic.</li>
      <li>Permissions are now checked when filtering nodes by container. Previously, permissions were not considered.</li>
      <li>An LDAP sync is now triggered as soon as an LDAP user is lazy-provisioned. Previously, lazy-provisioned users would not immediately be added to teams and orgs.</li>
    </ul>
  </li>
  <li>UI/UX
    <ul>
      <li>License page now shows all capabilities. Previously it was not clear if a license supported Docker image scanning or not.</li>
      <li>Additional translations added for internationalization.</li>
      <li>UI for adding users to teams simplified.</li>
      <li>The grant list can now sorted and pagination in the grants view has been improved. The grants view previously had glitches on systems with many grants.</li>
      <li>Fixed problem where the web interface would hang when pulling images.</li>
      <li>“Max failure ratio” and “Failure action” re-introduced in service definitions. These settings were not available in UCP 2.2, but were available in previous UCP versions.</li>
      <li>Collection labels are no longer applied to UCP system services. UCP previously auto-applied labels, which was confusing.</li>
    </ul>
  </li>
</ul>

<h3 id="known-issues-19">Known issues</h3>

<ul>
  <li>Docker currently has limitations related to overlay networking and services using VIP-based endpoints. These limitations apply to use of the HTTP Routing Mesh (HRM). HRM users should familiarize themselves with these limitations. In particular, HRM may encounter virtual IP exhaustion (as evidenced by <code class="highlighter-rouge">failed to allocate network IP for task</code> Docker log messages). If this happens, and if the HRM service is restarted or rescheduled for any reason, HRM may fail to resume operation automatically. See the Docker EE 17.06-ee5 release notes for details.</li>
  <li>The Swarm admin web interface for UCP versions 2.2.0 and later contain a bug. If used with Docker Engine version 17.06.2-ee5 or earlier, attempting to update “Task History Limit”, “Heartbeat Period” and “Node Certificate Expiry” settings using the UI will cause the cluster to crash on next restart. Using UCP 2.2.X and Docker Engine 17.06-ee6 and later, updating these settings will fail (but not cause the cluster to crash). Users are encouraged to update to Docker Engine version 17.06.2-ee6 and later, and to use the Docker CLI (instead of the UCP UI) to update these settings. Rotating join tokens works with any combination of Docker Engine and UCP versions. Docker Engine versions 17.03 and earlier (which use UCP version 2.1 and earlier) are not affected by this problem.</li>
  <li>Upgrading heterogeneous swarms from CLI may fail because x86 images are used
 instead of the correct image for the worker architecture.</li>
  <li>Agent container log is empty even though it’s running correctly.</li>
  <li>Rapid UI settings updates may cause unintended settings changes for logging
 settings and other admin settings.</li>
  <li>Attempting to load an (unsupported) <code class="highlighter-rouge">tar.gz</code> image results in a poor error
 message.</li>
  <li>Searching for images in the UCP images UI doesn’t work.</li>
  <li>Removing a stack may leave orphaned volumes.</li>
  <li>Storage metrics are not available for Windows.</li>
  <li>You can’t create a bridge network from the web interface. As a workaround use
 <code class="highlighter-rouge">&lt;node-name&gt;/&lt;network-name&gt;</code>.</li>
</ul>

<h2 id="version-223">Version 2.2.3</h2>

<p>2017-09-13</p>

<h3 id="bug-fixes-24">Bug fixes</h3>

<ul>
  <li>Core
    <ul>
      <li>Node list will no longer show duplicated worker node entries.</li>
      <li>Volume mount options are no longer dropped when creating volumes.</li>
      <li><code class="highlighter-rouge">docker stack deploy</code> with secrets specified in docker-compose file now works.</li>
    </ul>
  </li>
  <li>UI/UX
    <ul>
      <li>Upgrade button is now greyed out and deacticated after initiating upgrade.</li>
      <li>If an error is encountered while creating a service, the UI no longer freezes.</li>
      <li>Upgrade notification fixed to have working link.</li>
      <li>“Default Role For All Private Collections” can now be updated. Updating this
role in the UI previously had no effect.</li>
      <li>Added notification to UI to show that an upgrade is in progress.</li>
      <li>Client bundle can now be downloaded with Safari browser.</li>
      <li>Windows nodes are no longer displayed in the DTR install UI.</li>
      <li>DTR settings state in UCP is now preserved when switching tabs. Previously,
un-saved state was lost when switching tabs.</li>
      <li>Fixed problem where first manager node may have IP address <code class="highlighter-rouge">0.0.0.0</code>,
causing dashboard to not update.</li>
      <li>UI for adding Windows nodes improved to include full join instructions.</li>
      <li>Node Task UI fixed. Displaying tasks for a node previously did not work.</li>
      <li>LDAP settings UI improved. Sync interval setting is now validated, a
never-ending update spinner been fixed and it’s UI action sequencing bugs have
been fixed so that it’s now possible to disable LDAP.</li>
      <li>Uploading Docker images in the UI now has better error messages and improved
validation.</li>
      <li>Containers removed in UI are now force-removed. Previously removing
containers would fail.</li>
      <li>DTR install instructions <code class="highlighter-rouge">--ucp-url</code> parameter fixed to have valid value.</li>
      <li>Deleting multiple users in succession fixed. Previously, an error would
result when deleting more than one user at a time.</li>
      <li>Added validation when adding DTR URL in UCP admin settings.</li>
      <li>Left-nav now shows resource counts, addressing an UI regression from UCP 2.1.</li>
    </ul>
  </li>
</ul>

<h3 id="known-issues-20">Known issues</h3>

<ul>
  <li>Upgrading heterogeneous swarms from CLI may fail because x86 images are used
 instead of the correct image for the worker architecture.</li>
  <li>Agent container log is empty even though it’s running correctly.</li>
  <li>Rapid UI settings updates may cause unintended settings changes for logging
 settings and other admin settings.</li>
  <li>Attempting to load an (unsupported) <code class="highlighter-rouge">tar.gz</code> image results in a poor error
 message.</li>
  <li>Searching for images in the UCP images UI doesn’t work.</li>
  <li>Removing a stack may leave orphaned volumes.</li>
  <li>Storage metrics are not available for Windows.</li>
  <li>You can’t create a bridge network from the web interface. As a workaround use
 <code class="highlighter-rouge">&lt;node-name&gt;/&lt;network-name&gt;</code>.</li>
</ul>

<h2 id="version-222">version 2.2.2</h2>

<p>2017-08-30</p>

<h3 id="bug-fixes-25">Bug fixes</h3>

<ul>
  <li>Core
    <ul>
      <li>Fixed an issue that caused timeouts during install, preventing UCP 2.2.1 from
being released.</li>
      <li>Fixed a number of issues in which access control labels and roles could not
be upgraded to their new format, when upgrading UCP.
<a href="https://success.docker.com/KBase/Auth_system_migration_errors">Learn more</a>.</li>
      <li>Fixed an issue that caused an upgrade with multiple manager nodes to fail
with RethinkDB startup errors.</li>
      <li>Fixed an issue that caused upgrades to fail due to UCP being unable to
remove and replace older UCP containers.</li>
      <li>Fixed an issue in which upgrade timed out due to lack of available disk space.</li>
      <li>Fixed an issue in which rescheduling of containers not belonging in services
could fail due to a request for a duplicate IP address.</li>
      <li>DTR containers are no longer omitted from <code class="highlighter-rouge">docker ps</code> commands.</li>
    </ul>
  </li>
  <li>UI/UX
    <ul>
      <li>Fixed known issue from 2.2.0 where config changes (including LDAP/AD) take
an extended period to update after making changes in the UI settings.</li>
      <li>Fixed an issue where the <code class="highlighter-rouge">/apidocs</code> url redirected to the login page.</li>
      <li>Fixed an issue in which the UI does not redirect to a bad URL immediately
after an upgrade.</li>
      <li>Config and API docs now show the correct LDAP sync cron schedule format.</li>
    </ul>
  </li>
  <li>docker/ucp image
    <ul>
      <li>Support dump now contains information about access control migrations.</li>
      <li>The <code class="highlighter-rouge">ucp-auth-store</code> and <code class="highlighter-rouge">ucp-auth-api</code> containers now report health checks.</li>
    </ul>
  </li>
</ul>

<h3 id="known-issues-21">Known issues</h3>

<ul>
  <li>UI issues:
    <ul>
      <li>Cannot currently remove nodes using UCP web interface. Workaround is to remove from CLI
instead.</li>
      <li>Search does not function correctly for images.</li>
      <li>Cannot view label constraints from a collection’s details pages. Workaround
is to view by editing the collection.</li>
      <li>Certain config changes to UCP make take several minutes to update after making
changes in the web interface. In particular this affects LDAP/AD configuration changes.</li>
      <li>Turning <code class="highlighter-rouge">LDAP Enabled</code> from “Yes” to “No” disables the save button. Workaround
is to do a page refresh which completes the configuration change.</li>
      <li>Removing stacks from the UI may cause certain resources to not be deleted,
including networks or volumes. Workaround is to delete the resources directly.</li>
      <li>When you create a network and check ‘Enable hostname based routing’, the web
interface doesn’t apply the HRM labels to the network. As a workaround,
<a href="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/ucp/2.2/guides/user/services/use-domain-names-to-access-services/#service-labels">create the network using the CLI</a>.</li>
      <li>The web interface does not currently persist changes to session timeout settings.
As a workaround you can update the settings from the CLI, by <a href="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/ucp/2.2/guides/admin/configure/external-auth/enable-ldap-config-file/">adapting these instructions for the
session timeout</a>.</li>
    </ul>
  </li>
  <li>docker/ucp
    <ul>
      <li>The <code class="highlighter-rouge">support</code> command does not currently produce a valid support dump. As a
workaround you can download a support dumps from the web interface.</li>
    </ul>
  </li>
  <li>Compose
    <ul>
      <li>When deploying compose files that use secrets, the secret definition must include <code class="highlighter-rouge">external: true</code>, otherwise the deployment fails with the error.
<code class="highlighter-rouge">unable to inspect secret</code>.</li>
    </ul>
  </li>
  <li>Windows issues
    <ul>
      <li>Disk related metrics do not display for Windows worker nodes.</li>
      <li>If upgrading from an existing deployment, ensure that HRM is using a non-encrypted
network prior to attaching Windows services.</li>
    </ul>
  </li>
</ul>

<h2 id="version-220">Version 2.2.0</h2>

<p>2017-08-16</p>

<h3 id="new-features-3">New features</h3>

<ul>
  <li>The role-based access control system has been overhauled for additional
granularity and customization. Admins now define access control through Grants,
a 1:1:1 mapping of a Subject, a Role, and a Collection:
    <ul>
      <li>Subject: A user, team, or organization.</li>
      <li>Role: A set of permissions. In addition to the existing predefined roles,
admins can now create custom roles with their choice of permissions taken
from the full Docker API.</li>
      <li>Collection: A group of containers or container-based resources (for example, volumes,
networks, secrets). Collections have a hierarchical directory-like structure
and replace the old access control labels from the previous system (though they
still use labels in the CLI).</li>
      <li><a href="access-control/index.md#transition-from-ucp-21-access-control">Read the documentation</a>
 for more information and examples of the new system and how your old access
 control settings are migrated during an upgrade.</li>
    </ul>
  </li>
  <li>UCP now provides access control for nodes, where an admin can enforce
physical isolation between users on different nodes in the cluster. This means two
different teams can only view and deploy on the nodes to which they have access.
This is only available with an EE Advanced license.</li>
  <li>Enhancements to the user management system:
    <ul>
      <li>UCP now supports the user concept of organizations, which are groups of teams.</li>
      <li>Users can now specify a default collection which automatically applies
access control labels to all CLI deploy commands when no label is specified by
the user.</li>
    </ul>
  </li>
  <li>Support for UCP workers running Windows Server 2016, and the ability to deploy
Windows-based containerized applications on the cluster.
    <ul>
      <li><a href="admin/configure/join-windows-worker-nodes/index.md">Read the documentation</a>
for instructions on how to join Windows nodes, and current limitations when
deploying Windows applications.</li>
    </ul>
  </li>
  <li>Support for UCP workers running on IBM Z systems with RHEL 7.3, Ubuntu 16.04,
and SLES 12.</li>
  <li>UCP now provides a public, stable API for cluster configuration and access control,
and the API is fully interactive within the UCP web interface.</li>
  <li>Support for using services with macvlan networks and configuring network scope in UI.</li>
  <li>The UCP web interface has been redesigned for ease-of-use and data management:
    <ul>
      <li>Redesigned dashboard with time-series historical graphs for usage metrics.</li>
      <li>Compact layout to more easily view resource information at a glance.</li>
      <li>Detail panels for resources no longer slide out and cover the main panel.</li>
      <li>Filtering mechanism to display related items (e.g. resources in a collection or stack).</li>
    </ul>
  </li>
</ul>

<h3 id="known-issues-22">Known issues</h3>

<ul>
  <li>UI issues:
    <ul>
      <li>Cannot currently remove nodes using UCP web interface. Workaround is to remove from CLI
instead.</li>
      <li>Search does not function correctly for images.</li>
      <li>Cannot view label constraints from a collection’s details pages. Workaround
is to view by editing the collection.</li>
      <li>Certain config changes to UCP make take several minutes to update after making
changes in the web interface. In particular this affects LDAP/AD configuration changes.</li>
      <li>Turning <code class="highlighter-rouge">LDAP Enabled</code> from “Yes” to “No” disables the save button. Workaround
is to do a page refresh which completes the configuration change.</li>
      <li>Removing stacks from the UI may cause certain resources to not be deleted,
including networks or volumes. Workaround is to delete the resources directly.</li>
      <li>When you create a network and check ‘Enable hostname based routing’, the web
interface doesn’t apply the HRM labels to the network. As a workaround,
<a href="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/ucp/2.2/guides/user/services/use-domain-names-to-access-services/#service-labels">create the network using the CLI</a>.</li>
      <li>The web interface does not currently persist changes to session timeout settings.
As a workaround you can update the settings from the CLI, by <a href="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/ucp/2.2/guides/admin/configure/external-auth/enable-ldap-config-file/">adapting these instructions for the
session timeout</a>.</li>
    </ul>
  </li>
  <li>docker/ucp
    <ul>
      <li>The <code class="highlighter-rouge">support</code> command does not currently produce a valid support dump. As a
workaround you can download a support dumps from the web interface.</li>
    </ul>
  </li>
  <li>Windows issues
    <ul>
      <li>Disk related metrics do not display for Windows worker nodes.</li>
      <li>If upgrading from an existing deployment, ensure that HRM is using a non-encrypted
network prior to attaching Windows services.</li>
    </ul>
  </li>
</ul>

<h2 id="release-notes-for-earlier-versions">Release notes for earlier versions</h2>

<ul>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/ucp/2.1/guides/release-notes/index.md">UCP 2.1 release notes</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/ucp/2.0/guides/release-notes.md">UCP 2.0 release notes</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/ucp/1.1/release_notes.md">UCP 1.1 release notes</a></li>
</ul>

							<!-- tags -->
							
							
							
							<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=UCP">UCP</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=release notes">release notes</a></span>
							
							<!-- link corrections -->
              <script language="JavaScript">
							var x = document.links.length;
							var baseHref = document.getElementsByTagName('base')[0].href
							for (i = 0; i < x; i++) {
							  var munged = false;
							  var thisHREF = document.links[i].href;
							  var originalURL = "/ee/ucp/release-notes/";
							  if (thisHREF.indexOf(baseHref + "#") > -1) {
							    // hash fix
							    //console.log('BEFORE: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							    thisHREF = originalURL + thisHREF.replace(baseHref, "");
							    //console.log('AFTER: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							  }
							  if ((thisHREF.indexOf(window.location.hostname) > -1 || thisHREF.indexOf('http') == -1) && document.links[i].className.indexOf("nomunge") < 0) {
							    munged = true;
							    thisHREF = thisHREF.replace(".md", "/").replace("/index/", "/");
							    document.links[i].setAttribute('href', thisHREF);
							  }
							}
							</script>
							
						  <div id="ratings-div" style="color:#b9c2cc; text-align: center; margin-top: 150px; visibility: hidden">
								<div id="pd_rating_holder_8453675"></div>
								<script type="text/javascript">
									PDRTJS_settings_8453675 = {
										"id": "8453675",
										"unique_id": "ee/ucp/release-notes.md",
										"title": "UCP release notes",
										"permalink": "https://github.com/docker/docker.github.io/blob/master/ee/ucp/release-notes.md"
									};
									(function(d, c, j) {
										if (!document.getElementById(j)) {
											var pd = d.createElement(c),
												s;
											pd.id = j;
											pd.src = ('https:' == document.location.protocol) ? 'https://polldaddy.com/js/rating/rating.js' : 'http://i0.poll.fm/js/rating/rating.js';
											s = document.getElementsByTagName(c)[0];
											s.parentNode.insertBefore(pd, s);
										}
									}(document, 'script', 'pd-rating-js'));
								</script>
							</div>
							
						</section>
					</main>
					<nav class="col-nav">
						<div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
						<div id="navbar" class="nav-sidebar">
    <ul class="nav" id="jsTOCLeftNav">
    </ul>
</div>

						</div>
					</nav>
					<div class="col-toc">
							<div class="sidebar hidden-xs hidden-sm">
							<div class="toc-nav">
								<div class="feedback-links">
									<ul>
										
										<li style="visibility: hidden"><a href="https://github.com/matsuand/docs.docker.jp/edit/v18.09.local/ee/ucp/release-notes.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> このページの編集</a></li>
										<li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/issues/new?body=File: [ee/ucp/release-notes.md](https://matsuand.github.io/docs.docker.jp.onthefly/ee/ucp/release-notes/)"
															class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 文書変更のリクエスト</a></li>
										<li><a href="https://success.docker.com/support"><i class="fa fa-question" aria-hidden="true"></i> サポート依頼</a></li>
										<!-- toggle mode -->
										<li>
											<div class="toggle-mode">
												<div class="icon">
													<i class="fa fa-sun-o" aria-hidden="true"></i>
												</div>
												<div class="toggle-switch">
													<label class="switch">
														<input type="checkbox" id="switch-style">
														<div class="slider round"></div>
												</label>
												</div>
												<div class="icon">
													<i class="fa fa-moon-o" aria-hidden="true"></i>
												</div>
											</div>
										</li>
									</ul>
								</div>
								   
									<div id="side-toc-title">本ページ内</div>
									
<ul id="my_toc" class="inline_toc">
  <li><a href="#version-31" class="nomunge">Version 3.1</a>
    <ul>
      <li><a href="#316" class="nomunge">3.1.6</a></li>
      <li><a href="#315" class="nomunge">3.1.5</a></li>
      <li><a href="#314" class="nomunge">3.1.4</a></li>
      <li><a href="#313" class="nomunge">3.1.3</a></li>
      <li><a href="#312" class="nomunge">3.1.2</a></li>
      <li><a href="#311" class="nomunge">3.1.1</a></li>
      <li><a href="#310" class="nomunge">3.1.0</a></li>
    </ul>
  </li>
  <li><a href="#version-30" class="nomunge">Version 3.0</a>
    <ul>
      <li><a href="#3010" class="nomunge">3.0.10</a></li>
      <li><a href="#309" class="nomunge">3.0.9</a></li>
      <li><a href="#308" class="nomunge">3.0.8</a></li>
      <li><a href="#307" class="nomunge">3.0.7</a></li>
      <li><a href="#306" class="nomunge">3.0.6</a></li>
      <li><a href="#305" class="nomunge">3.0.5</a></li>
      <li><a href="#304" class="nomunge">3.0.4</a></li>
      <li><a href="#303" class="nomunge">3.0.3</a></li>
      <li><a href="#302" class="nomunge">3.0.2</a></li>
      <li><a href="#301" class="nomunge">3.0.1</a></li>
      <li><a href="#version-300" class="nomunge">Version 3.0.0</a></li>
    </ul>
  </li>
  <li><a href="#version-22" class="nomunge">Version 2.2</a>
    <ul>
      <li><a href="#version-2217" class="nomunge">Version 2.2.17</a></li>
      <li><a href="#version-2216" class="nomunge">Version 2.2.16</a></li>
      <li><a href="#version-2215" class="nomunge">Version 2.2.15</a></li>
      <li><a href="#version-2214" class="nomunge">Version 2.2.14</a></li>
      <li><a href="#version-2213" class="nomunge">Version 2.2.13</a></li>
      <li><a href="#version-2212" class="nomunge">Version 2.2.12</a></li>
      <li><a href="#version-2211" class="nomunge">Version 2.2.11</a></li>
      <li><a href="#version-2210" class="nomunge">Version 2.2.10</a></li>
      <li><a href="#version-229" class="nomunge">Version 2.2.9</a></li>
      <li><a href="#version-227" class="nomunge">Version 2.2.7</a></li>
      <li><a href="#version-226" class="nomunge">Version 2.2.6</a></li>
      <li><a href="#version-225" class="nomunge">Version 2.2.5</a></li>
      <li><a href="#version-224" class="nomunge">Version 2.2.4</a></li>
      <li><a href="#version-223" class="nomunge">Version 2.2.3</a></li>
      <li><a href="#version-222" class="nomunge">version 2.2.2</a></li>
      <li><a href="#version-220" class="nomunge">Version 2.2.0</a></li>
      <li><a href="#release-notes-for-earlier-versions" class="nomunge">Release notes for earlier versions</a></li>
    </ul>
  </li>
</ul>


								</div>
								
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	
	<footer class="footer">
		  
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/what-docker">What is Docker</a></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container</a></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners/partner-program">Partners</a></li>
                        <li class="break"><a href="https://www.docker.com/industry-government">For Government</a></li>
                        <li><a href="https://www.docker.com/company">About Docker</a></li>
                        <li><a href="https://www.docker.com/company/management">Management</a></li>
                        <li><a href="https://www.docker.com/company/news-and-press">Press &amp; News</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/products/overview">Product</a></li>
                        <li><a href="https://www.docker.com/pricing">Pricing</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community Edition</a></li>
                        <li class="break"><a href="https://www.docker.com/enterprise">Enterprise Edition </a></li>
                        <li><a href="https://www.docker.com/products/docker-datacenter">Docker Datacenter</a></li>
                        <li><a href="https://hub.docker.com/">Docker Hub</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/">Documentation</a></li>
                        <li><a href="https://www.docker.com/docker">Learn</a></li>
                        <li><a href="https://blog.docker.com" target="_blank">Blog</a></li>
                        <li><a href="https://engineering.docker.com" target="_blank">Engineering Blog</a></li>
                        <li><a href="https://training.docker.com/" target="_blank">Training</a></li>
                        <li><a href="https://success.docker.com/support">Support</a></li>
                        <li><a href="https://success.docker.com/kbase">Knowledge Base</a></li>
                        <li><a href="https://www.docker.com/products/resources">Resources</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/technologies/overview">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/events">Events</a></li>
                        <li><a href="https://forums.docker.com/" target="_blank">Forums</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                        <li><a href="https://www.docker.com/docker-community/scholarships">Scholarships</a></li>
                        <li><a href="https://blog.docker.com/curated/">Community News</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/docker-security">Security</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2019 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-google-plus"><a href="https://plus.google.com/u/0/communities/108146856671494713993">Google</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker/docker">Github</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-reddit"><a href="http://www.reddit.com/r/docker">Reddit</a></li>
                    <li class="fa fa-slideshare"><a href="http://www.slideshare.net/docker">Slideshare</a></li>
                </ul>
            </div>
        </div>
    </div>

	</footer>
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/github.css">
	
	<!-- <script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/anchorlinks.js"></script> -->
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/menu.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/jquery.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
	<!-- Always include the archive.js, but it doesn't do much unless we are an archive -->
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v18.09';
	// In archives, we need to know the page root and we get it from JEKYLL_ENV in the jekyll build command
	var jekyllEnv = 'development';
	// If unset (in non-archive branches), defaults to "development". In that case, reset it to empty
	if (jekyllEnv == 'development') {
		jekyllEnv = '';
	}
	var pageURL = jekyllEnv + '/ee/ucp/release-notes/';
	</script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/archive.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/stickyfill.min.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/metadata.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/glossary.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/collections_tocs.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/docs.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/toc.js"></script>
	<script language="javascript">
	jQuery(document).ready(function(){
				hookupTOCEvents();
			});
	</script>
</body>

</html>
