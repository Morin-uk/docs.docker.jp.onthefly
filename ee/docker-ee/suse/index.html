<!-- Page generated 2020-05-31 22:34:01 +0900 -->
<!-- Logic for 'edit this button'


    

    

    

    

    

    

    

    

-->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <style type="text/css">
      @charset "UTF-8";
      [ng\:cloak],
      [ng-cloak],
      [data-ng-cloak],
      [x-ng-cloak],
      .ng-cloak,
      .x-ng-cloak,
      .ng-hide:not(.ng-hide-animate) {
          display: none !important;
      }

      ng\:form {
          display: block;
      }
  </style>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WL2QLG5');</script>

  
  <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <meta name="msapplication-TileImage" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico">
  <link rel="apple-touch-icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <meta property="og:image" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
  <!-- metadata -->
  <meta property="og:type" content="website"/>
  <meta property="og:updated_time" itemprop="dateUpdated" content="2020-05-31T22:34:01+09:00"/>
  <meta property="og:image" itemprop="image primaryImageOfPage" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:domain" content="docs.docker.com"/>
  <meta name="twitter:site" content="@docker_docs"/>
  <meta name="twitter:url" content="https://twitter.com/docker_docs"/>
  <meta name="twitter:title" itemprop="title name" content="Get Docker Engine - Enterprise for SLES"/>
  <meta name="twitter:description" property="og:description" itemprop="description" content="This topic applies to Docker Enterprise. The Docker Enterprise platform business, including products, customers, and employees, has been acquired by Mirantis, inc., effective 13-November-2019. For more information on the acquisition..." />
  <meta name="twitter:image:src" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta name="twitter:image:alt" content="Docker Documentation"/>
  <meta property="article:published_time" itemprop="datePublished" content="2020-05-31T22:34:01+09:00"/>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="requirements, apt, installation, suse, opensuse, sles, rpm, install, uninstall, upgrade, update">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/font-awesome.min.css">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/bootstrap.min.css">
  <link id="pygments" rel="stylesheet" href="/docs.docker.jp.onthefly/css/pygments/perldoc.css">
  <link id="pagestyle" rel="stylesheet" href="/docs.docker.jp.onthefly/css/style.css">

  <!-- Go get "Open Sans" font from Google -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
  <!-- SEO stuff -->
  <title>Get Docker Engine - Enterprise for SLES | Docker Documentation</title>
  <meta property="og:title" content="Get Docker Engine - Enterprise for SLES" />
  <meta property="og:locale" content="ja_JP" />
  <meta name="description" content="Instructions for installing Docker Engine - Enterprise on SLES" />
  <meta property="og:description" content="Instructions for installing Docker Engine - Enterprise on SLES" />
  <link rel="canonical" href="/ee/docker-ee/suse/" />
  <meta property="og:url" content="https://docs.docker.com/ee/docker-ee/suse/" />
  <meta property="og:site_name" content="Docker ドキュメント" />
  <script type="application/ld+json">{"@context":"http://schema.org","@type":"WebPage","headline":"Get Docker Engine - Enterprise for SLES","description":"Instructions for installing Docker Engine - Enterprise on SLES","url":"https://docs.docker.com/ee/docker-ee/suse/"}</script>
  <!-- END SEO STUFF -->
  
  <script>
  // Default to assuming this is an archive and hiding some stuff
  // See js/archive.js and js/docs.js for logic relating to this
  var isArchive = true;
  var dockerVersion = 'v19.03';
  </script>
</head>


    <body ng-app="Docker" ng-controller="DockerController" class="colums">
    <header>
        <nav class="nav-secondary navbar navbar-fixed-top">
    <!-- <div class="fan"></div> -->
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="/docs.docker.jp.onthefly/">
                <img class="logo" src="/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs">
            </a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="logo-mobile">
    <a href="/docs.docker.jp.onthefly/">
        <img src="/docs.docker.jp.onthefly/images/docker-icon.svg" alt="Docker Docs" title="Docker Docs">
    </a>
</div>
<div class="search-form" id="search-div" style="visibility: hidden">
    <form class="search-form form-inline ng-pristine ng-valid" id="searchForm" action="https://matsuand.github.io/docs.docker.jp.onthefly/search/">
        <input class="search-field form-control ds-input" id="st-search-input" value="" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteContainer">
            <div id="autocompleteResults"></div>
        </div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container hidden-sm hidden-xs">
    <div id="tabs">
        <ul class="tabs jsTOCHorizontal">

        </ul>
    </div>
    <div class="ctrl-right">
        <a href="javascript:void(0)" id="menu-toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
        <div class="btn-group" style="visibility: hidden">
  <button type="button" class="btn btn-default dropdown-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Docker v19.03 (最新)     <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
    <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.09/">Docker v18.09</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.03/">Docker v18.03</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.06/">Docker v17.06</a></li>
  </ul>
</div>

    </div>
</div>

        </div>
    </div>
</nav>

    </header>
    <div class="wrapper right-open">
        <div class="container-fluid">
            <div class="row">
                <div class="col-body">
                    <main class="col-content content">
                        <section class="section">
                            
                            
                            <h1>Get Docker Engine - Enterprise for SLES</h1> 
                            <span class="reading-time" title="Estimated reading time">
  <span class="reading-time-label">読む時間の目安: </span>
  
  
    13 分
  
</span>

                            
                            
                            <blockquote>
  <!-- This text will be included on all Docker pages that document Enterprise products, features, and technologies that are transitioning to Mirantis. -->
  <p>This topic applies to Docker Enterprise.</p>

  <p>The Docker Enterprise platform business, including products, customers, and employees, has been acquired by Mirantis, inc., effective 13-November-2019. For more information on the acquisition and how it may affect you and your business, refer to the <a href="https://www.docker.com/faq-for-docker-enterprise-customers-and-partners">Docker Enterprise Customer FAQ</a>.</p>
</blockquote>

<p>To get started with Docker on SUSE Linux Enterprise Server (SLES), make sure you
<a href="#prerequisites">meet the prerequisites</a>, then
<a href="#install-docker-ee">install Docker</a>.</p>

<h2 id="prerequisites">Prerequisites</h2>

<h3 id="docker-engine---enterprise-url">Docker Engine - Enterprise URL</h3>

<p>To install Docker Engine - Enterprise, you need to know the Docker Engine -
Enterprise repository URL associated with your trial or subscription. These
instructions work for Docker on SLES and for Docker on Linux, which includes
access to Docker Engine - Enterprise for all Linux distributions. To get this
information, do the following:</p>

<ul>
  <li>Go to <a href="https://hub.docker.com/my-content">https://hub.docker.com/my-content</a>.</li>
  <li>Each subscription or trial you have access to is listed. Click the <strong>Setup</strong>
button for <strong>Docker Enterprise Edition for SUSE Linux Enterprise Server</strong>.</li>
  <li>Copy the URL from the field labeled
<strong>Copy and paste this URL to download your Edition</strong>.</li>
</ul>

<p>Use this URL when you see the placeholder text <code class="highlighter-rouge">&lt;DOCKER-EE-URL&gt;</code>.</p>

<p>To learn more about Docker Enterprise, see
<a href="https://www.docker.com/enterprise-edition/" target="_blank" class="_">Docker Enterprise Edition</a>.</p>

<p>Docker Engine - Community is not supported on SLES.</p>

<h3 id="os-requirements">OS requirements</h3>

<p>To install Docker Engine - Enterprise, you need the 64-bit version of SLES 12.x,
running on the <code class="highlighter-rouge">x86_64</code> architecture. Docker Engine - Enterprise is not
supported on OpenSUSE.</p>

<p>The only supported storage driver for Docker Engine - Enterprise on SLES is
<code class="highlighter-rouge">Btrfs</code>, which is used by default if the underlying filesystem hosting
<code class="highlighter-rouge">/var/lib/docker/</code> is a BTRFS filesystem.</p>

<blockquote>
  <p><strong>Note:</strong>
IBM Z (<code class="highlighter-rouge">s390x</code>) is supported for Docker Engine - Enterprise 17.06.xx only.</p>
</blockquote>

<h4 id="firewall-configuration">Firewall configuration</h4>

<p>Docker creates a <code class="highlighter-rouge">DOCKER</code> iptables chain when it starts. The SUSE firewall may
block access to this chain, which can prevent you from running
containers with published ports. You may see errors such as the following:</p>

<pre><code class="language-none">WARNING: IPv4 forwarding is disabled. Networking will not work.
docker: Error response from daemon: driver failed programming external
        connectivity on endpoint adoring_ptolemy
        (0bb5fa80bc476f8a0d343973929bb3b7c039fc6d7cd30817e837bc2a511fce97):
        (iptables failed: iptables --wait -t nat -A DOCKER -p tcp -d 0/0 --dport 80 -j DNAT --to-destination 172.17.0.2:80 ! -i docker0: iptables: No chain/target/match by that name.
 (exit status 1)).
</code></pre>

<p>If you see errors like this, adjust the start-up script order so that the
firewall is started before Docker, and Docker stops before the firewall stops.
See the
<a href="https://www.suse.com/documentation/sled11/book_sle_admin/data/sec_boot_init.html">SLES documentation on init script order</a>.</p>

<h3 id="uninstall-old-versions">Uninstall old versions</h3>

<p>Older versions of Docker were called <code class="highlighter-rouge">docker</code> or <code class="highlighter-rouge">docker-engine</code>. If you use OS
images from a cloud provider, you may need to remove the <code class="highlighter-rouge">runc</code> package, which
conflicts with Docker. If these are installed, uninstall them, along with
associated dependencies.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>zypper rm docker docker-engine runc
</code></pre></div></div>

<p>If removal of the <code class="highlighter-rouge">docker-engine</code> package fails, use the following command
instead:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>rpm <span class="nt">-e</span> docker-engine
</code></pre></div></div>

<p>It’s OK if <code class="highlighter-rouge">zypper</code> reports that none of these packages are installed.</p>

<p>The contents of <code class="highlighter-rouge">/var/lib/docker/</code>, including images, containers, volumes, and
networks, are preserved. The Docker Engine - Enterprise package is now called
<code class="highlighter-rouge">docker-ee</code>.</p>

<h2 id="configure-the-btrfs-filesystem">Configure the Btrfs filesystem</h2>

<p>By default, SLES formats the <code class="highlighter-rouge">/</code> filesystem using Btrfs, so <strong>most people do not
not need to do the steps in this section</strong>. If you use OS images from a cloud
provider, you may need to do this step. If the filesystem that
hosts <code class="highlighter-rouge">/var/lib/docker/</code> is <strong>not</strong> a BTRFS filesystem, you must configure a
BTRFS filesystem and mount it on <code class="highlighter-rouge">/var/lib/docker/</code>.</p>

<ol>
  <li>
    <p>Check whether <code class="highlighter-rouge">/</code> (or <code class="highlighter-rouge">/var/</code> or <code class="highlighter-rouge">/var/lib/</code> or <code class="highlighter-rouge">/var/lib/docker/</code> if they
are separate mount points) are formatted using Btrfs. If you do not have
separate mount points for any of these, a duplicate result for <code class="highlighter-rouge">/</code> is
returned.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>df <span class="nt">-T</span> / /var /var/lib /var/lib/docker
</code></pre></div>    </div>

    <p>You need to complete the rest of these steps <strong>only if one of the</strong>
<strong>following is true</strong>:</p>

    <ul>
      <li>You have a separate <code class="highlighter-rouge">/var/</code> filesystem that is not formatted with Btrfs</li>
      <li>You do not have a separate <code class="highlighter-rouge">/var/</code> or <code class="highlighter-rouge">/var/lib/</code> or <code class="highlighter-rouge">/var/lib/docker/</code>
filesystem and <code class="highlighter-rouge">/</code> is not formatted with Btrfs</li>
    </ul>

    <p>If <code class="highlighter-rouge">/var/lib/docker</code> is already a separate mount point and is not formatted
with Btrfs, back up its contents so that you can restore them after step
3.</p>
  </li>
  <li>
    <p>Format your dedicated block device or devices as a Btrfs filesystem. This
example assumes that you are using two block devices called <code class="highlighter-rouge">/dev/xvdf</code> and
<code class="highlighter-rouge">/dev/xvdg</code>. <strong>Make sure you are using the right device names.</strong></p>

    <blockquote class="warning">
      <p>Double-check the block device names because this is a
destructive operation.</p>
    </blockquote>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>mkfs.btrfs <span class="nt">-f</span> /dev/xvdf /dev/xvdg
</code></pre></div>    </div>

    <p>There are many more options for Btrfs, including striping and RAID. See the
<a href="https://btrfs.wiki.kernel.org/index.php/Using_Btrfs_with_Multiple_Devices">Btrfs documentation</a>.</p>
  </li>
  <li>
    <p>Mount the new Btrfs filesystem on the <code class="highlighter-rouge">/var/lib/docker/</code> mount point. You
can specify any of the block devices used to create the Btrfs filesystem.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>mount <span class="nt">-t</span> btrfs /dev/xvdf /var/lib/docker
</code></pre></div>    </div>

    <p>Don’t forget to make the change permanent across reboots by adding an
entry to <code class="highlighter-rouge">/etc/fstab</code>.</p>
  </li>
  <li>
    <p>If <code class="highlighter-rouge">/var/lib/docker</code> previously existed and you backed up its contents
during step 1, restore them onto <code class="highlighter-rouge">/var/lib/docker</code>.</p>
  </li>
</ol>

<h2 id="install-docker-engine---enterprise">Install Docker Engine - Enterprise</h2>

<p>You can install Docker Engine - Enterprise in different ways, depending on your
needs.</p>

<ul>
  <li>
    <p>Most users
<a href="#install-using-the-repository">set up Docker’s repositories</a> and install
from them, for ease of installation and upgrade tasks. This is the
recommended approach.</p>
  </li>
  <li>
    <p>Some users download the RPM package and install it manually and manage
upgrades completely manually. This is useful in situations such as installing
Docker on air-gapped systems with no access to the internet.</p>
  </li>
</ul>

<h3 id="install-using-the-repository">Install using the repository</h3>

<p>Before you install Docker Engine - Enterprise for the first time on a new host
machine, you need to set up the Docker repository. Afterward, you can install
and update Docker from the repository.</p>

<blockquote>
  <p><strong>Note:</strong> If you need to run Docker Enterprise 2.0, please see the
following instructions:</p>
  <ul>
    <li><a href="https://docs.docker.com/v18.03/ee/supported-platforms/">18.03</a> - Older
Docker Engine - Enterprise only release</li>
    <li><a href="https://docs.docker.com/v17.06/engine/installation/">17.06</a> - Docker
Enterprise Edition 2.0 (Docker Engine, UCP, and DTR).</li>
  </ul>
</blockquote>

<h4 id="set-up-the-repository">Set up the repository</h4>

<ol>
  <li>
    <p>Temporarily add the <code class="highlighter-rouge">$DOCKER_EE_BASE_URL</code> and <code class="highlighter-rouge">$DOCKER_EE_URL</code> variables
into your environment. This only persists until you log out of the session.
Replace <code class="highlighter-rouge">&lt;DOCKER-EE-URL&gt;</code> listed below with the URL you noted down in the
<a href="#prerequisites">prerequisites</a>.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ DOCKER_EE_BASE_URL</span><span class="o">=</span><span class="s2">"&lt;DOCKER-EE-URL&gt;"</span>
<span class="nv">$ DOCKER_EE_URL</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">DOCKER_EE_BASE_URL</span><span class="k">}</span><span class="s2">/sles/&lt;SLES_VERSION&gt;/&lt;ARCH&gt;/stable-&lt;DOCKER_VERSION&gt;"</span>
</code></pre></div>    </div>

    <p>And substitute the following:</p>
    <ul>
      <li><code class="highlighter-rouge">DOCKER-EE-URL</code> is the URL from your Docker Hub subscription.</li>
      <li><code class="highlighter-rouge">SLES_VERSION</code> is <code class="highlighter-rouge">15</code> or <code class="highlighter-rouge">12.3</code>.</li>
      <li><code class="highlighter-rouge">ARCH</code> is <code class="highlighter-rouge">x86_64</code>.</li>
      <li><code class="highlighter-rouge">DOCKER_VERSION</code> is <code class="highlighter-rouge">19.03</code> or one of the older releases (<code class="highlighter-rouge">18.09</code>,
<code class="highlighter-rouge">18.03</code>, <code class="highlighter-rouge">17.06</code> etc.)</li>
    </ul>

    <p>As an example, your command should look like:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">DOCKER_EE_BASE_URL</span><span class="o">=</span><span class="s2">"https://storebits.docker.com/ee/sles/sub-555-55-555"</span>
<span class="nv">DOCKER_EE_URL</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">DOCKER_EE_BASE_URL</span><span class="k">}</span><span class="s2">/sles/15/x86_64/stable-19.03"</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Use the following command to set up the <strong>stable</strong> repository. Use the
command as-is. It works because of the variable you set in the previous
step.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>zypper addrepo <span class="nv">$DOCKER_EE_URL</span> docker-ee-stable
</code></pre></div>    </div>
  </li>
  <li>
    <p>Import the GPG key from the repository. Replace <code class="highlighter-rouge">&lt;DOCKER-EE-URL&gt;</code>
with the URL you noted down in the <a href="#prerequisites">prerequisites</a>.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>rpm <span class="nt">--import</span> <span class="s2">"</span><span class="k">${</span><span class="nv">DOCKER_EE_BASE_URL</span><span class="k">}</span><span class="s2">/sles/gpg"</span>
</code></pre></div>    </div>
  </li>
</ol>

<h4 id="install-docker-engine---enterprise-1">Install Docker Engine - Enterprise</h4>

<ol>
  <li>
    <p>Update the <code class="highlighter-rouge">zypper</code> package index.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>zypper refresh
</code></pre></div>    </div>

    <p>If this is the first time you have refreshed the package index since adding
the Docker repositories, you are prompted to accept the GPG key, and
the key’s fingerprint is shown. Verify that the fingerprint matches
<code class="highlighter-rouge">77FE DA13 1A83 1D29 A418  D3E8 99E5 FF2E 7668 2BC9</code> and if so, accept the
key.</p>
  </li>
  <li>
    <p>Install the latest version of Docker Engine - Enterprise and containerd, or
go to the next step to install a specific version.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>zypper install docker-ee docker-ee-cli containerd.io
</code></pre></div>    </div>

    <p>Start Docker.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>service docker start
</code></pre></div>    </div>
  </li>
  <li>
    <p>On production systems, you should install a specific version of Docker
Engine - Enterprise instead of always using the latest. List the available
versions. The following example only lists binary packages and is truncated.
To also list source packages, omit the <code class="highlighter-rouge">-t package</code> flag from the command.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>zypper search <span class="nt">-s</span> <span class="nt">--match-exact</span> <span class="nt">-t</span> package docker-ee

  Loading repository data...
  Reading installed packages...

  S | Name          | Type    | Version                               | Arch   | Repository
  <span class="nt">--</span>+---------------+---------+---------------------------------------+--------+---------------
    | docker-ee     | package | 19.03-1                 | x86_64 | docker-ee-stable
</code></pre></div>    </div>

    <p>The contents of the list depend upon which repositories you have enabled.
Choose a specific version to install. The third column is the version
string. The fifth column is the repository name, which indicates which
repository the package is from and by extension its stability level. To
install a specific version, append the version string to the package name
and separate them by a hyphen (<code class="highlighter-rouge">-</code>):</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>zypper install docker-ee-&lt;VERSION_STRING&gt; docker-ee-cli-&lt;VERSION_STRING&gt; containerd.io
</code></pre></div>    </div>

    <p>Docker is installed but not started. The <code class="highlighter-rouge">docker</code> group is created, but no
users are added to the group.</p>
  </li>
  <li>
    <p>Configure Docker to use the Btrfs filesystem. <strong>This is only required if</strong>
<strong>the <code class="highlighter-rouge">/</code> filesystem is not using BTRFS.</strong> However, explicitly specifying
the <code class="highlighter-rouge">storage-driver</code> has no harmful side effects.</p>

    <p>Edit the file <code class="highlighter-rouge">/etc/docker/daemon.json</code> (create it if it does not exist) and
add the following contents:</p>

    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"storage-driver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btrfs"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>    </div>

    <p>Save and close the file.</p>
  </li>
  <li>
    <p>Start Docker.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>service docker start
</code></pre></div>    </div>
  </li>
  <li>
    <p>Verify that Docker is installed correctly by running the <code class="highlighter-rouge">hello-world</code>
image.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>docker run hello-world
</code></pre></div>    </div>

    <p>This command downloads a test image and runs it in a container. When the
container runs, it prints an informational message and exits.</p>
  </li>
</ol>

<p>Docker Engine - Enterprise is installed and running. You need to use <code class="highlighter-rouge">sudo</code> to
run Docker commands. Continue to <a href="/docs.docker.jp.onthefly/engine/install/linux-postinstall/">Linux postinstall</a>
to configure the graph storage driver, allow non-privileged users to run Docker
commands, and for other optional configuration steps.</p>

<blockquote>
  <p><strong>Important:</strong> Be sure Docker is configured to start after the system
firewall. See <a href="#firewall-configuration">Firewall configuration</a>.</p>
</blockquote>

<h4 id="upgrade-docker-engine---enterprise">Upgrade Docker Engine - Enterprise</h4>

<p>To upgrade Docker Engine - Enterprise, follow the steps below:</p>

<ol>
  <li>
    <p>If upgrading to a new major Docker Engine - Enterprise version (such as when
going from Docker 18.03.x to Docker 18.09.x),
<a href="#set-up-the-repository" target="_blank" class="_">add the new repository</a>.</p>
  </li>
  <li>
    <p>Run <code class="highlighter-rouge">sudo zypper refresh</code>.</p>
  </li>
  <li>
    <p>Follow the
<a href="#install-docker-ee">installation instructions</a>, choosing the new version
you want to install.</p>
  </li>
</ol>

<h3 id="install-from-a-package">Install from a package</h3>

<p>If you cannot use the official Docker repository to install Docker Engine -
Enterprise, you can download the <code class="highlighter-rouge">.rpm</code> file for your release and install it
manually. You need to download a new file each time you want to upgrade Docker.</p>

<ol>
  <li>
    <p>Go to the Docker Engine - Enterprise repository URL associated with your
trial or subscription in your browser. Go to <code class="highlighter-rouge">sles/12.3/</code> choose the
directory corresponding to your architecture and desired Docker Engine -
Enterprise version. Download the <code class="highlighter-rouge">.rpm</code> file from the <code class="highlighter-rouge">Packages</code> directory.</p>
  </li>
  <li>
    <p>Import Docker’s official GPG key.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>rpm <span class="nt">--import</span> &lt;DOCKER-EE-URL&gt;/sles/gpg
</code></pre></div>    </div>
  </li>
  <li>
    <p>Install Docker, changing the path below to the path where you downloaded the
Docker package.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>zypper install /path/to/package.rpm
</code></pre></div>    </div>

    <p>Docker is installed but not started. The <code class="highlighter-rouge">docker</code> group is created, but no
users are added to the group.</p>
  </li>
  <li>
    <p>Configure Docker to use the Btrfs filesystem. <strong>This is only required if</strong>
<strong>the <code class="highlighter-rouge">/</code> filesystem is not using Btrfs.</strong> However, explicitly specifying
the <code class="highlighter-rouge">storage-driver</code> has no harmful side effects.</p>

    <p>Edit the file <code class="highlighter-rouge">/etc/docker/daemon.json</code> (create it if it does not exist) and
add the following contents:</p>

    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"storage-driver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btrfs"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>    </div>

    <p>Save and close the file.</p>
  </li>
  <li>
    <p>Start Docker.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>service docker start
</code></pre></div>    </div>
  </li>
  <li>
    <p>Verify that Docker is installed correctly by running the <code class="highlighter-rouge">hello-world</code>
image.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>docker run hello-world
</code></pre></div>    </div>

    <p>This command downloads a test image and runs it in a container. When the
container runs, it prints an informational message and exits.</p>
  </li>
</ol>

<p>Docker Engine - Enterprise is installed and running. You need to use <code class="highlighter-rouge">sudo</code> to
run Docker commands. Continue to <a href="/engine/install/linux-postinstall.md">Post-installation steps for Linux</a>
to allow non-privileged users to run Docker commands and for other optional
configuration steps.</p>

<blockquote>
  <p><strong>Important:</strong> Be sure Docker is configured to start after the system
firewall. See <a href="#firewall-configuration">Firewall configuration</a>.</p>
</blockquote>

<h4 id="upgrade-docker-engine---enterprise-1">Upgrade Docker Engine - Enterprise</h4>

<p>To upgrade Docker Engine - Enterprise, download the newer package file and
repeat the <a href="#install-from-a-package">installation procedure</a>, using
<code class="highlighter-rouge">zypper update</code> instead of <code class="highlighter-rouge">zypper install</code>, and pointing to the new file.</p>

<h2 id="uninstall-docker-engine---enterprise">Uninstall Docker Engine - Enterprise</h2>

<ol>
  <li>
    <p>Uninstall the Docker Engine - Enterprise package using the command below.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>zypper rm docker-ee
</code></pre></div>    </div>
  </li>
  <li>
    <p>Images, containers, volumes, or customized configuration files on your host
are not automatically removed. To delete all images, containers, and
volumes.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>rm <span class="nt">-rf</span> /var/lib/docker/<span class="k">*</span>
</code></pre></div>    </div>

    <p>If you used a separate BTRFS filesystem to host the contents of
<code class="highlighter-rouge">/var/lib/docker/</code>, you can unmount and format the Btrfs filesystem.</p>
  </li>
</ol>

<p>You must delete any edited configuration files manually.</p>

<h2 id="next-steps">Next steps</h2>

<ul>
  <li>
    <p>Continue to <a href="/docs.docker.jp.onthefly/engine/install/linux-postinstall/">Post-installation steps for Linux</a></p>
  </li>
  <li>
    <p>Continue with the <a href="/engine/userguide/">User Guide</a>.</p>
  </li>
</ul>

                            <!-- tags -->
                            
                            <span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span
                                style="vertical-align: 2px"><a
                                    href="https://docs.docker.com/search/?q=requirements">requirements</a>, <a
                                    href="https://docs.docker.com/search/?q=apt">apt</a>, <a
                                    href="https://docs.docker.com/search/?q=installation">installation</a>, <a
                                    href="https://docs.docker.com/search/?q=suse">suse</a>, <a
                                    href="https://docs.docker.com/search/?q=opensuse">opensuse</a>, <a
                                    href="https://docs.docker.com/search/?q=sles">sles</a>, <a
                                    href="https://docs.docker.com/search/?q=rpm">rpm</a>, <a
                                    href="https://docs.docker.com/search/?q=install">install</a>, <a
                                    href="https://docs.docker.com/search/?q=uninstall">uninstall</a>, <a
                                    href="https://docs.docker.com/search/?q=upgrade">upgrade</a>, <a
                                    href="https://docs.docker.com/search/?q=update">update</a></span>
                            
                            
                            <div id="ratings-div"
                                style="color:#b9c2cc; text-align: center; margin-top: 150px; visibility: hidden">
                                <div id="pd_rating_holder_8453675"></div>
                                <script type="text/javascript">
                                    PDRTJS_settings_8453675 = {
                                        "id": "8453675",
                                        "unique_id": "ee/docker-ee/suse.md",
                                        "title": "Get Docker Engine - Enterprise for SLES",
                                        "permalink": "https://github.com/docker/docker.github.io/blob/master/ee/docker-ee/suse.md"
                                    };
                                    (function (d, c, j) {
                                        if (!document.getElementById(j)) {
                                            var pd = d.createElement(c),
                                                s;
                                            pd.id = j;
                                            pd.src = ('https:' == document.location.protocol) ? 'https://polldaddy.com/js/rating/rating.js' : 'http://i0.poll.fm/js/rating/rating.js';
                                            s = document.getElementsByTagName(c)[0];
                                            s.parentNode.insertBefore(pd, s);
                                        }
                                    }(document, 'script', 'pd-rating-js'));
                                </script>
                            </div>
                            
                        </section>
                    </main>
                    <nav class="col-nav">
                        <div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
                            <div id="navbar" class="nav-sidebar">
    <ul class="nav jsTOCHorizontal hidden-md hidden-lg">
    </ul>
    <div class="divider hidden-md hidden-lg"></div>
    <ul class="nav" id="jsTOCLeftNav">
    </ul>
</div>

                        </div>
                    </nav>
                    <div class="col-toc">
                        <div class="sidebar hidden-xs hidden-sm">
                            <div class="toc-nav">
                                <div class="feedback-links">
                                    <ul>
                                        
                                        <li style="visibility: hidden"><a href="https://github.com/matsuand/docs.docker.jp/edit/v19.03.local/ee/docker-ee/suse.md"><i
                                                    class="fa fa-pencil-square-o" aria-hidden="true"></i> このページの編集</a></li>
                                        <li><a href="https://github.com/matsuand/docs.docker.jp/issues/new?body=ファイル: [ee/docker-ee/suse.md](https://matsuand.github.io/docs.docker.jp.onthefly/ee/docker-ee/suse/)"
                                                class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 文書変更のリクエスト</a></li>
                                        <!-- toggle mode -->
                                        <li>
                                            <div class="toggle-mode">
                                                <div class="icon">
                                                    <i class="fa fa-sun-o" aria-hidden="true"></i>
                                                </div>
                                                <div class="toggle-switch">
                                                    <label class="switch">
                                                        <input type="checkbox" id="switch-style">
                                                        <div class="slider round"></div>
                                                    </label>
                                                </div>
                                                <div class="icon">
                                                    <i class="fa fa-moon-o" aria-hidden="true"></i>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                
                                
                                
                                
                                <div id="side-toc-title">本ページ内:</div>
                                
<ul id="my_toc" class="inline_toc">
  <li><a href="#prerequisites" class="nomunge">Prerequisites</a>
    <ul>
      <li><a href="#docker-engine---enterprise-url" class="nomunge">Docker Engine - Enterprise URL</a></li>
      <li><a href="#os-requirements" class="nomunge">OS requirements</a>
        <ul>
          <li><a href="#firewall-configuration" class="nomunge">Firewall configuration</a></li>
        </ul>
      </li>
      <li><a href="#uninstall-old-versions" class="nomunge">Uninstall old versions</a></li>
    </ul>
  </li>
  <li><a href="#configure-the-btrfs-filesystem" class="nomunge">Configure the Btrfs filesystem</a></li>
  <li><a href="#install-docker-engine---enterprise" class="nomunge">Install Docker Engine - Enterprise</a>
    <ul>
      <li><a href="#install-using-the-repository" class="nomunge">Install using the repository</a>
        <ul>
          <li><a href="#set-up-the-repository" class="nomunge">Set up the repository</a></li>
          <li><a href="#install-docker-engine---enterprise-1" class="nomunge">Install Docker Engine - Enterprise</a></li>
          <li><a href="#upgrade-docker-engine---enterprise" class="nomunge">Upgrade Docker Engine - Enterprise</a></li>
        </ul>
      </li>
      <li><a href="#install-from-a-package" class="nomunge">Install from a package</a>
        <ul>
          <li><a href="#upgrade-docker-engine---enterprise-1" class="nomunge">Upgrade Docker Engine - Enterprise</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#uninstall-docker-engine---enterprise" class="nomunge">Uninstall Docker Engine - Enterprise</a></li>
  <li><a href="#next-steps" class="nomunge">Next steps</a></li>
</ul>


                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    
    <footer class="footer">
          
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/why-docker">Why Docker</a></b></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/overview">Products</a></b></li>
                        <li><a href="https://www.docker.com/products/docker-desktop">Docker Desktop</a></li>
                        <li><a href="https://www.docker.com/products/docker-hub">Docker Hub</a></li>
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Features</a></b></li>
                        <li><a href="https://www.docker.com/products/container-runtime">Container Runtime</a></li>
                        <li><a href="https://www.docker.com/products/developer-tools">Developer Tools</a></li>
                        <li><a href="https://www.docker.com/products/kubernetes">Kubernetes</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Developers</a></b></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/play-with-docker">Play with Docker</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/open-source">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/company" target="_blank">Company</a></b></li>
                        <li><a href="https://www.docker.com/company">About Us</a></li>
                        <li><a href="https://www.docker.com/blog/" target="_blank">Blog</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners">Partners</a></li>
                        <li><a href="https://www.docker.com/company/newsroom">Newsroom</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/docker-security">Security</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2013-2020 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-slideshare"><a href="https://www.slideshare.net/docker">Slideshare</a></li>
                    <li class="fa fa-reddit"><a href="https://www.reddit.com/r/docker">Reddit</a></li>
                </ul>
            </div>
        </div>
    </div>

    </footer>
    <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/github.css">
    
    <script defer src="/docs.docker.jp.onthefly/js/anchorlinks.js"></script>
    <script defer src="/docs.docker.jp.onthefly/js/menu.js"></script>
    <script src="/docs.docker.jp.onthefly/js/jquery.js"></script>
    <script src="/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
    <!-- Always include the archive.js, but it doesn't do much unless we are an archive -->
    <script>
        // Default to assuming this is an archive and hiding some stuff
        // See js/archive.js and js/docs.js for logic relating to this
        var isArchive = true;
        var dockerVersion = 'v19.03';
        // In archives, we need to know the page root and we get it from JEKYLL_ENV in the jekyll build command
        var jekyllEnv = 'development';
        // If unset (in non-archive branches), defaults to "development". In that case, reset it to empty
        if (jekyllEnv === 'development') {
            jekyllEnv = '';
        }
        var pageURL = jekyllEnv + '/ee/docker-ee/suse/';
    </script>
    <script src="/docs.docker.jp.onthefly/js/archive.js"></script>
    <script src="/docs.docker.jp.onthefly/js/stickyfill.min.js"></script>
    <script defer src="/docs.docker.jp.onthefly/js/metadata.js"></script>
    <script src="/docs.docker.jp.onthefly/js/glossary.js"></script>
    <script defer src="/docs.docker.jp.onthefly/js/docs.js"></script>
    <script defer src="/docs.docker.jp.onthefly/js/toc.js"></script>
    <script defer src="/js/search.js"></script>
</body>


</html>
