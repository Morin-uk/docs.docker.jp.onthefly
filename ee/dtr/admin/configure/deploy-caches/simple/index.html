<!-- Page generated 2020-02-06 19:03:53 +0900 -->
<!-- relative link basehrefs -->

	
	
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
			


<!-- Logic for 'edit this button' -->


	

	

	

	

	

	

	

	

	


<!-- End of logic for 'edit this button' -->


<!DOCTYPE html>
<html lang="ja">

<head>
	<base href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/configure/deploy-caches/" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<style type="text/css">
		@charset "UTF-8";
		[ng\:cloak],
		[ng-cloak],
		[data-ng-cloak],
		[x-ng-cloak],
		.ng-cloak,
		.x-ng-cloak,
		.ng-hide:not(.ng-hide-animate) {
			display: none !important;
		}

		ng\:form {
			display: block;
		}
	</style>
	<!-- Google Tag Manager -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-WL2QLG5');</script>
	<!-- End Google Tag Manager -->
	
	<!-- favicon -->
	<link rel="icon" type="image/x-icon" href="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta name="msapplication-TileImage" content="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico">
	<link rel="apple-touch-icon" type="image/x-icon" href="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta property="og:image" content="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
	<!-- metadata -->
	<meta property="og:type" content="website"/>
	<meta property="og:updated_time" itemprop="dateUpdated" content="2020-02-06T19:03:53+09:00"/>
	<meta property="og:image" itemprop="image primaryImageOfPage" content="https://matsuand.github.io/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:card" content="summary"/>
	<meta name="twitter:domain" content="docs.docker.jp"/>
	<meta name="twitter:site" content="@docker_docs"/>
	<meta name="twitter:url" content="https://twitter.com/docker_docs"/>
	<meta name="twitter:title" itemprop="title name" content="Deploy a DTR cache with Swarm"/>
	<meta name="twitter:description" property="og:description" itemprop="description" content="This topic applies to Docker Enterprise. The Docker Enterprise platform business, including products, customers, and employees, has been acquired by Mirantis, inc., effective 13-November-2019. For more information on the acquisition..." />
	<meta name="twitter:image:src" content="https://matsuand.github.io/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:image:alt" content="Docker ドキュメント"/>
	<meta property="article:published_time" itemprop="datePublished" content="2020-02-06T19:03:53+09:00"/>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="keywords" content="DTR, cache">
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/bootstrap.min.css">
	<link id="pygments" rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/pygments/perldoc.css">
	<link id="pagestyle" rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/style.css">

	<!-- Go get "Open Sans" font from Google -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
	<!-- SEO stuff -->
	<title>Deploy a DTR cache with Swarm | Docker ドキュメント</title>
<meta property="og:title" content="Deploy a DTR cache with Swarm" />
<meta property="og:locale" content="ja_JP" />
<meta name="description" content="Deploy a DTR cache to make users in remove geographical locations pull images faster." />
<meta property="og:description" content="Deploy a DTR cache to make users in remove geographical locations pull images faster." />
<link rel="canonical" href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/configure/deploy-caches/simple/" />
<meta property="og:url" content="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/configure/deploy-caches/simple/" />
<meta property="og:site_name" content="Docker ドキュメント" />
<script type="application/ld+json">
{"@context":"http://schema.org","@type":"WebPage","headline":"Deploy a DTR cache with Swarm","description":"Deploy a DTR cache to make users in remove geographical locations pull images faster.","url":"https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/configure/deploy-caches/simple/"}</script>
	<!-- END SEO STUFF -->
	
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v19.03';
	</script>
</head>
<body ng-app="Docker" ng-controller="DockerController" class="colums">
	<header>
		 <nav class="nav-secondary navbar navbar-fixed-top">
    <!-- <div class="fan"></div> -->
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="https://matsuand.github.io/docs.docker.jp.onthefly/"><img class="logo" src="https://matsuand.github.io/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs"></a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="search-form" id="search-div" style="visibility: hidden">
    <form class="search-form form-inline ng-pristine ng-valid" id="searchForm" action="https://matsuand.github.io/docs.docker.jp.onthefly/search/">
        <input class="search-field form-control ds-input" id="st-search-input" value="" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteContainer">
            <div id="autocompleteResults"></div>
        </div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container">
    <div id="tabs">
        <ul class="tabs" id="jsTOCHorizontal">

        </ul>
    </div>
    <div class="ctrl-right hidden-xs hidden-sm">
        <a href="javascript:void(0)" id="menu-toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
        <div class="btn-group" style="visibility: hidden">
  <button type="button" class="btn btn-default dropdown-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Docker v19.03 (current)         <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
    <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/edge/">Docker edge</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.09/">Docker v18.09</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.03/">Docker v18.03</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.12/">Docker v17.12</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.09/">Docker v17.09</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.06/">Docker v17.06</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.03/">Docker v17.03</a></li>
  </ul>
</div>

    </div>
</div>

        </div>
    </div>
</nav>

	</header>

	<div class="wrapper right-open">
		<div class="container-fluid">
			<div class="row">
				<div class="col-body">
					<main class="col-content content">
						<section class="section">
							
								
							<h1>Deploy a DTR cache with Swarm</h1>  <span class="reading-time" title="Estimated reading time">
  <span class="reading-time-label">読む時間の目安: </span>
  
  
    6 分
  
</span>

							
							
							<blockquote>
  <!-- This text will be included on all Docker pages that document Enterprise products, features, and technologies that are transitioning to Mirantis. -->
  <p>This topic applies to Docker Enterprise.</p>

  <p>The Docker Enterprise platform business, including products, customers, and employees, has been acquired by Mirantis, inc., effective 13-November-2019. For more information on the acquisition and how it may affect you and your business, refer to the <a href="https://www.docker.com/faq-for-docker-enterprise-customers-and-partners">Docker Enterprise Customer FAQ</a>.</p>
</blockquote>

<p>This example guides you in deploying a DTR cache, assuming that you’ve got
a DTR deployment up and running. It also assumes that you’ve provisioned
<a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/configure/deploy-caches/strategy/#system-requirements">multiple nodes and joined them into a swarm</a>.</p>

<p><img src="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/images/deploy-caches-simple-1.svg" alt="Cache for Asia" /></p>

<p>The DTR cache is going to be deployed as a Docker service, so that Docker
automatically takes care of scheduling and restarting the service if
something goes wrong.</p>

<p>We’ll manage the cache configuration using a Docker configuration, and the TLS
certificates using Docker secrets. This allows you to manage the configurations
securely and independently of the node where the cache is actually running.</p>

<h2 id="dedicate-a-node-for-the-cache">Dedicate a node for the cache</h2>

<p>To make sure the DTR cache is performant, it should be deployed on a node
dedicated just for it. Start by labelling the node where you want
to deploy the cache, so that you target the deployment to that node.</p>

<p>Use SSH to log in to a manager node of the swarm where you want to deploy
the DTR cache. If you’re using UCP to manage that swarm, use a client bundle to
configure your Docker CLI client to connect to the swarm.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker node update --label-add dtr.cache=true &lt;node-hostname&gt;
</code></pre></div></div>

<p><a href="https://matsuand.github.io/docs.docker.jp.onthefly/engine/swarm/manage-nodes.md#add-or-remove-label-metadata">Learn more about labelling nodes</a>.</p>

<h2 id="prepare-the-cache-deployment">Prepare the cache deployment</h2>

<p>Create a file structure that looks like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>├── docker-stack.yml    # Stack file to deploy cache with a single command
├── config.yml          # The cache configuration file
└── certs
    ├── cache.cert.pem  # The cache public key certificate
    ├── cache.key.pem   # The cache private key
    └── dtr.cert.pem    # DTR CA certificate
</code></pre></div></div>

<p>Then add the following content to each of the files:</p>

<ul class="nav nav-tabs">
  <li class="active"><a data-toggle="tab" data-target="#tab1">docker-stack.yml</a></li>
  <li><a data-toggle="tab" data-target="#tab2">config.yml</a></li>
  <li><a data-toggle="tab" data-target="#tab3">cache.cert.pem</a></li>
  <li><a data-toggle="tab" data-target="#tab4">cache.key.pem</a></li>
  <li><a data-toggle="tab" data-target="#tab5">dtr.cert.pem</a></li>
</ul>
<div class="tab-content">
  <div id="tab1" class="tab-pane fade in active">
    <div class="highlight highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
      
version: "3.3"
services:
  cache:
    image: docker/dtr-content-cache:2.7.5
    entrypoint:
      - /start.sh
      - "/config.yml"
    ports:
      - 443:443
    deploy:
      replicas: 1
      placement:
        constraints: [node.labels.dtr.cache == true]
      restart_policy:
        condition: on-failure
    configs:
      - config.yml
    secrets:
      - dtr.cert.pem
      - cache.cert.pem
      - cache.key.pem
configs:
  config.yml:
    file: ./config.yml
secrets:
  dtr.cert.pem:
    file: ./certs/dtr.cert.pem
  cache.cert.pem:
    file: ./certs/cache.cert.pem
  cache.key.pem:
    file: ./certs/cache.key.pem
    
  </code></pre></div>    </div>
    <hr />
  </div>
  <div id="tab2" class="tab-pane fade">
    <div class="highlight highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
      
version: 0.1
log:
  level: info
storage:
  delete:
    enabled: true
  filesystem:
    rootdirectory: /var/lib/registry
http:
  addr: 0.0.0.0:443
  secret: generate-random-secret
  host: https://&lt;cache-url&gt;
  tls:
    certificate: /run/secrets/cache.cert.pem
    key: /run/secrets/cache.key.pem
middleware:
  registry:
      - name: downstream
        options:
          blobttl: 24h
          upstreams:
            - https://&lt;dtr-url&gt;:&lt;dtr-port&gt;
          cas:
            - /run/secrets/dtr.cert.pem
    
  </code></pre></div>    </div>
    <hr />
  </div>
  <div id="tab3" class="tab-pane fade">

    <p>Add the public key certificate for the cache here. If the certificate has been
signed by an intermediate certificate authority, append it’s public key
certificate at the end of the file.</p>

    <hr />

  </div>
  <div id="tab4" class="tab-pane fade">

    <p>Add the unencrypted private key for the cache here.</p>

    <hr />

  </div>
  <div id="tab5" class="tab-pane fade">

    <p>The cache communicates with DTR using TLS. If you’ve customized DTR
to use TLS certificates issued by a globally trusted certificate authority,
the cache automatically trusts DTR.</p>

    <p>But if you’re using the default DTR configuration, or DTR is using TLS
certificates signed by your own certificate authority, you need to configure
the cache to trust DTR.</p>

    <p>Add the DTR CA certificate to the <code class="highlighter-rouge">certs/dtr.cert.pem</code> file. You can
do this by running:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -sk https://&lt;dtr-url&gt;/ca &gt; certs/dtr.cert.pem
</code></pre></div>    </div>

    <hr />

  </div>
</div>

<p>With this configuration, the cache fetches image layers from DTR and keeps
a local copy for 24 hours. After that, if a user requests that image layer,
the cache fetches it again from DTR.</p>

<p>The cache is configured to persist data inside its container.
If something goes wrong with the cache service, Docker automatically redeploys a
new container, but previously cached data is not persisted.
You can <a href="https://matsuand.github.io/docs.docker.jp.onthefly/registry/configuration.md#storage">customize the storage parameters</a>,
if you want to store the image layers using a persistent storage backend.</p>

<p>Also, the cache is configured to use port 443. If you’re already using that
port in the swarm, update the deployment and configuration files to use another
port. Don’t forget to create firewall rules for the port you choose.</p>

<h2 id="deploy-the-cache">Deploy the cache</h2>

<p>Now that everything is set up, you can deploy the cache by running:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker stack deploy --compose-file docker-stack.yml dtr-cache
</code></pre></div></div>

<p>You can check if the cache has been successfully deployed by running:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker stack ps dtr-cache
</code></pre></div></div>

<p>Docker should show the dtr-cache stack is running.</p>

<h2 id="register-the-cache-with-dtr">Register the cache with DTR</h2>

<p>Now that you’ve deployed a cache, you need to configure DTR to know about it.
This is done using the <code class="highlighter-rouge">POST /api/v0/content_caches</code> API. You can use the
DTR interactive API documentation to use this API.</p>

<p>In the DTR web UI, click the top-right menu, and choose <strong>API docs</strong>.</p>

<p><img src="../../../images/deploy-caches-simple-2.png" alt="" class="with-border" /></p>

<p>Navigate to the <code class="highlighter-rouge">POST /api/v0/content_caches</code> line and click it to expand.
In the <strong>body</strong> field include:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "name": "region-asia",
  "host": "https://&lt;cache-url&gt;:&lt;cache-port&gt;"
}
</code></pre></div></div>

<p>Click the <strong>Try it out!</strong> button to make the API call.</p>

<p><img src="../../../images/deploy-caches-simple-3.png" alt="" class="with-border" /></p>

<h2 id="configure-your-user-account">Configure your user account</h2>

<p>Now that you’ve registered the cache with DTR, users can configure
their user profile to pull images from DTR or the cache.</p>

<p>In the DTR web UI, navigate to your <strong>Account</strong>, click the <strong>Settings</strong>
tab, and change the <strong>Content Cache</strong> settings to use the cache you deployed.</p>

<p><img src="../../../images/deploy-caches-simple-4.png" alt="" class="with-border" /></p>

<p>If you need to set this for multiple users at the same time, use the
<code class="highlighter-rouge">/api/v0/accounts/{username}/settings</code> API endpoint.</p>

<p>Now when you pull images, you’ll be using the cache.</p>

<h2 id="test-that-the-cache-is-working">Test that the cache is working</h2>

<p>To validate that the cache is working as expected:</p>

<ol>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/user/manage-images/pull-and-push-images/">Push an image to DTR</a>.</li>
  <li>Make sure your user account is configured to use the cache.</li>
  <li>Delete the image from your local system.</li>
  <li>Pull the image from DTR.</li>
</ol>

<p>To validate that the cache is actually serving your request, and to
troubleshoot misconfigurations, check the logs for the cache service
by running:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker service logs --follow dtr-cache_cache
</code></pre></div></div>

<p>The most common causes of configuration are due to TLS authentication:</p>
<ul>
  <li>DTR not trusting the cache TLS certificates.</li>
  <li>The cache not trusting DTR TLS certificates.</li>
  <li>Your machine not trusting DTR or the cache.</li>
</ul>

<p>When this happens, check the cache logs to troubleshoot the
misconfiguration.</p>

<h2 id="clean-up-sensitive-files">Clean up sensitive files</h2>

<p>The certificates and private keys are now managed by Docker in a secure way.
Don’t forget to delete sensitive files you’ve created on disk, like the
private keys for the cache:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rm -rf certs
</code></pre></div></div>

							<!-- tags -->
							
							
							
							<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="https://matsuand.github.io/docs.docker.jp.onthefly/search/?q=DTR">DTR</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/search/?q=cache">cache</a></span>
							
							<!-- link corrections -->
              <script language="JavaScript">
							var x = document.links.length;
							var baseHref = document.getElementsByTagName('base')[0].href
							for (i = 0; i < x; i++) {
							  var munged = false;
							  var thisHREF = document.links[i].href;
							  var originalURL = "/ee/dtr/admin/configure/deploy-caches/simple/";
							  if (thisHREF.indexOf(baseHref + "#") > -1) {
							    // hash fix
							    //console.log('BEFORE: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							    thisHREF = originalURL + thisHREF.replace(baseHref, "");
							    //console.log('AFTER: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							  }
							  if ((thisHREF.indexOf(window.location.hostname) > -1 || thisHREF.indexOf('http') == -1) && document.links[i].className.indexOf("nomunge") < 0) {
							    munged = true;
							    thisHREF = thisHREF.replace(".md", "/").replace("/index/", "/");
							    document.links[i].setAttribute('href', thisHREF);
							  }
							}
							</script>
							
						  <div id="ratings-div" style="color:#b9c2cc; text-align: center; margin-top: 150px; visibility: hidden">
								<div id="pd_rating_holder_8453675"></div>
								<script type="text/javascript">
									PDRTJS_settings_8453675 = {
										"id": "8453675",
										"unique_id": "ee/dtr/admin/configure/deploy-caches/simple.md",
										"title": "Deploy a DTR cache with Swarm",
										"permalink": "https://github.com/docker/docker.github.io/blob/master/ee/dtr/admin/configure/deploy-caches/simple.md"
									};
									(function(d, c, j) {
										if (!document.getElementById(j)) {
											var pd = d.createElement(c),
												s;
											pd.id = j;
											pd.src = ('https:' == document.location.protocol) ? 'https://polldaddy.com/js/rating/rating.js' : 'http://i0.poll.fm/js/rating/rating.js';
											s = document.getElementsByTagName(c)[0];
											s.parentNode.insertBefore(pd, s);
										}
									}(document, 'script', 'pd-rating-js'));
								</script>
							</div>
							
						</section>
					</main>
					<nav class="col-nav">
						<div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
						<div id="navbar" class="nav-sidebar">
    <ul class="nav" id="jsTOCLeftNav">
    </ul>
</div>

						</div>
					</nav>
					<div class="col-toc">
							<div class="sidebar hidden-xs hidden-sm">
							<div class="toc-nav">
								<div class="feedback-links">
									<ul>
										
										<li style="visibility: hidden"><a href="https://github.com/matsuand/docs.docker.jp/edit/v19.03.local/ee/dtr/admin/configure/deploy-caches/simple.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> このページの編集</a></li>
										<li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/issues/new?body=File: [ee/dtr/admin/configure/deploy-caches/simple.md](https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/configure/deploy-caches/simple/)"
															class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 文書変更のリクエスト</a></li>
										<li><a href="https://success.docker.com/support"><i class="fa fa-question" aria-hidden="true"></i> サポート依頼</a></li>
										<!-- toggle mode -->
										<li>
											<div class="toggle-mode">
												<div class="icon">
													<i class="fa fa-sun-o" aria-hidden="true"></i>
												</div>
												<div class="toggle-switch">
													<label class="switch">
														<input type="checkbox" id="switch-style">
														<div class="slider round"></div>
												</label>
												</div>
												<div class="icon">
													<i class="fa fa-moon-o" aria-hidden="true"></i>
												</div>
											</div>
										</li>
									</ul>
								</div>
								   
									<div id="side-toc-title">本ページ内</div>
									
<ul id="my_toc" class="inline_toc">
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/simple.md#dedicate-a-node-for-the-cache" class="nomunge">Dedicate a node for the cache</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/simple.md#prepare-the-cache-deployment" class="nomunge">Prepare the cache deployment</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/simple.md#deploy-the-cache" class="nomunge">Deploy the cache</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/simple.md#register-the-cache-with-dtr" class="nomunge">Register the cache with DTR</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/simple.md#configure-your-user-account" class="nomunge">Configure your user account</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/simple.md#test-that-the-cache-is-working" class="nomunge">Test that the cache is working</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/simple.md#clean-up-sensitive-files" class="nomunge">Clean up sensitive files</a></li>
</ul>


								</div>
								
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	
	<footer class="footer">
		  
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/what-docker">What is Docker</a></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container</a></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners/partner-program">Partners</a></li>
                        <li class="break"><a href="https://www.docker.com/industry-government">For Government</a></li>
                        <li><a href="https://www.docker.com/company">About Docker</a></li>
                        <li><a href="https://www.docker.com/company/management">Management</a></li>
                        <li><a href="https://www.docker.com/company/news-and-press">Press &amp; News</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/products/overview">Product</a></li>
                        <li><a href="https://www.docker.com/pricing">Pricing</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community Edition</a></li>
                        <li class="break"><a href="https://www.docker.com/enterprise">Enterprise Edition </a></li>
                        <li><a href="https://www.docker.com/products/docker-datacenter">Docker Datacenter</a></li>
                        <li><a href="https://hub.docker.com/">Docker Hub</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/">Documentation</a></li>
                        <li><a href="https://www.docker.com/docker">Learn</a></li>
                        <li><a href="https://blog.docker.com" target="_blank">Blog</a></li>
                        <li><a href="https://engineering.docker.com" target="_blank">Engineering Blog</a></li>
                        <li><a href="https://training.docker.com/" target="_blank">Training</a></li>
                        <li><a href="https://success.docker.com/support">Support</a></li>
                        <li><a href="https://success.docker.com/kbase">Knowledge Base</a></li>
                        <li><a href="https://www.docker.com/products/resources">Resources</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/technologies/overview">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/events">Events</a></li>
                        <li><a href="https://forums.docker.com/" target="_blank">Forums</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                        <li><a href="https://www.docker.com/docker-community/scholarships">Scholarships</a></li>
                        <li><a href="https://blog.docker.com/curated/">Community News</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/docker-security">Security</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2019 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-reddit"><a href="http://www.reddit.com/r/docker">Reddit</a></li>
                    <li class="fa fa-slideshare"><a href="http://www.slideshare.net/docker">Slideshare</a></li>
                </ul>
            </div>
        </div>
    </div>

	</footer>
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/github.css">
	
	<!-- <script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/anchorlinks.js"></script> -->
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/menu.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/jquery.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
	<!-- Always include the archive.js, but it doesn't do much unless we are an archive -->
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v19.03';
	// In archives, we need to know the page root and we get it from JEKYLL_ENV in the jekyll build command
	var jekyllEnv = 'development';
	// If unset (in non-archive branches), defaults to "development". In that case, reset it to empty
	if (jekyllEnv == 'development') {
		jekyllEnv = '';
	}
	var pageURL = jekyllEnv + '/ee/dtr/admin/configure/deploy-caches/simple/';
	</script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/archive.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/stickyfill.min.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/metadata.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/glossary.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/docs.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/toc.js"></script>
	<script language="javascript">
	jQuery(document).ready(function(){
				hookupTOCEvents();
			});
	</script>
</body>

</html>
