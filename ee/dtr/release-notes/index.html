<!-- Page generated 2019-04-19 17:06:54 +0900 -->
<!-- relative link basehrefs -->

	
	
	
		
			
		
	
		
			
		
	
		
			
			


<!-- Logic for 'edit this button' -->


	

	

	

	

	

	

	

	

	


<!-- End of logic for 'edit this button' -->


<!DOCTYPE html>
<html lang="ja">

<head>
	<base href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<style type="text/css">
		@charset "UTF-8";
		[ng\:cloak],
		[ng-cloak],
		[data-ng-cloak],
		[x-ng-cloak],
		.ng-cloak,
		.x-ng-cloak,
		.ng-hide:not(.ng-hide-animate) {
			display: none !important;
		}

		ng\:form {
			display: block;
		}
	</style>
	<script type="text/javascript">
	  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
	  analytics.load("IWj9D0UpZHZdZUZX9jl98PcpBFWBnBMy");
	  analytics.page();
	  }}();
	</script>
	
	<!-- favicon -->
	<link rel="icon" type="image/x-icon" href="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta name="msapplication-TileImage" content="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico">
	<link rel="apple-touch-icon" type="image/x-icon" href="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta property="og:image" content="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
	<!-- metadata -->
	<meta property="og:type" content="website"/>
	<meta property="og:updated_time" itemprop="dateUpdated" content="2019-04-19T17:06:54+09:00"/>
	<meta property="og:image" itemprop="image primaryImageOfPage" content="https://matsuand.github.io/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:card" content="summary"/>
	<meta name="twitter:domain" content="docs.docker.jp"/>
	<meta name="twitter:site" content="@docker_docs"/>
	<meta name="twitter:url" content="https://twitter.com/docker_docs"/>
	<meta name="twitter:title" itemprop="title name" content="DTR release notes"/>
	<meta name="twitter:description" property="og:description" itemprop="description" content="Here you can learn about new features, bug fixes, breaking changes, and known issues for each DTR version. You can then use the upgrade instructions, to upgrade your installation to..." />
	<meta name="twitter:image:src" content="https://matsuand.github.io/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:image:alt" content="Docker Documentation"/>
	<meta property="article:published_time" itemprop="datePublished" content="2019-04-19T17:06:54+09:00"/>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="keywords" content="docker trusted registry, whats new, release notes">
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/bootstrap.min.css">
	<link id="pygments" rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/pygments/perldoc.css">
	<link id="pagestyle" rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/style.css">

	<!-- Go get "Open Sans" font from Google -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
	<!-- SEO stuff -->
	<title>DTR release notes | Docker Documentation</title>
<meta property="og:title" content="DTR release notes" />
<meta property="og:locale" content="ja_JP" />
<meta name="description" content="Learn about the new features, bug fixes, and breaking changes for Docker Trusted Registry" />
<meta property="og:description" content="Learn about the new features, bug fixes, and breaking changes for Docker Trusted Registry" />
<link rel="canonical" href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/release-notes/" />
<meta property="og:url" content="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/release-notes/" />
<meta property="og:site_name" content="Docker Documentation" />
<script type="application/ld+json">
{"@context":"http://schema.org","@type":"WebPage","headline":"DTR release notes","description":"Learn about the new features, bug fixes, and breaking changes for Docker Trusted Registry","url":"https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/release-notes/"}</script>
	<!-- END SEO STUFF -->
	
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v18.09';
	</script>
</head>
<body ng-app="Docker" ng-controller="DockerController" class="colums">
	<header>
		 <nav class="nav-secondary navbar navbar-fixed-top">
    <!-- <div class="fan"></div> -->
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="https://matsuand.github.io/docs.docker.jp.onthefly/"><img class="logo" src="https://matsuand.github.io/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs"></a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="search-form" id="search-div" style="visibility: hidden">
    <form class="search-form form-inline ng-pristine ng-valid" /id="searchForm" action="/docs.docker.jp.onthefly/search/">
        <input class="search-field form-control ds-input" id="st-search-input" value="" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteContainer">
            <div id="autocompleteResults"></div>
        </div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container">
    <div id="tabs">
        <ul class="tabs" id="jsTOCHorizontal">

        </ul>
    </div>
    <div class="ctrl-right hidden-xs hidden-sm">
        <a href="javascript:void(0)" id="menu-toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
        <div class="btn-group" style="visibility: hidden">
  <button type="button" class="btn btn-default dropdown-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Docker v18.09 (current)        <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
    <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/edge/">Docker edge</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.03/">Docker v18.03</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.12/">Docker v17.12</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.09/">Docker v17.09</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.06/">Docker v17.06</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.03/">Docker v17.03</a></li>
  </ul>
</div>

    </div>
</div>

        </div>
    </div>
</nav>

	</header>

	<div class="wrapper right-open">
		<div class="container-fluid">
			<div class="row">
				<div class="col-body">
					<main class="col-content content">
						<section class="section">
							
								
							<h1>DTR release notes</h1>  <span class="reading-time" title="Estimated reading time">
  <span class="reading-time-label">読む時間の目安: </span>
  
  
    41 分
  
</span>

							
							
							<p>Here you can learn about new features, bug fixes, breaking changes, and
known issues for each DTR version.</p>

<p>You can then use <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/upgrade/">the upgrade instructions</a>,
to upgrade your installation to the latest release.</p>

<ul>
  <li><a href="#version-26">Version 2.6</a></li>
  <li><a href="#version-25">Version 2.5</a></li>
  <li><a href="#version-24">Version 2.4</a></li>
</ul>

<h1 id="version-26">Version 2.6</h1>

<h2 id="265">2.6.5</h2>
<p>(2019-4-11)</p>

<h3 id="bug-fixes">Bug Fixes</h3>
<ul>
  <li>Fixed a bug where the web interface was not rendering for non-admin users.</li>
  <li>Removed <code class="highlighter-rouge">Users</code> tab from the side navigation <a href="https://github.com/docker/dhe-deploy/pull/10222">#10222</a></li>
</ul>

<h3 id="known-issues">Known issues</h3>

<ul>
  <li>Docker Engine Enterprise Edition (Docker EE) Upgrade
    <ul>
      <li>There are <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/upgrade">important changes to the upgrade process</a> that, if not correctly followed, can have impact on the availability of applications running on the Swarm during upgrades. These constraints impact any upgrades coming from any version before <code class="highlighter-rouge">18.09</code> to version <code class="highlighter-rouge">18.09</code> or greater. For DTR-specific changes, see <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/upgrade/#25-to-26-upgrade">2.5 to 2.6 upgrade</a>.</li>
    </ul>
  </li>
  <li>Web Interface
    <ul>
      <li>Poll mirroring for Docker plugins such as <code class="highlighter-rouge">docker/imagefs</code> is currently broken. (docker/dhe-deploy #9490)</li>
      <li>When viewing the details of a scanned image tag, the header may display a different vulnerability count from the layer details. (docker/dhe-deploy #9474)</li>
      <li>In order to set a tag limit for pruning purposes, immutability must be turned off for a repository. This limitation is not clear in the <strong>Repository Settings</strong> view. (docker/dhe-deploy #9554)</li>
    </ul>
  </li>
  <li>Webhooks
    <ul>
      <li>When configured for “Image promoted from repository” events, a webhook notification is triggered twice during an image promotion when scanning is enabled on a repository. (docker/dhe-deploy #9685)</li>
      <li>HTTPS webhooks do not go through HTTPS proxy when configured. (docker/dhe-deploy #9492)</li>
    </ul>
  </li>
  <li>System
    <ul>
      <li>When upgrading from <code class="highlighter-rouge">2.5</code> to <code class="highlighter-rouge">2.6</code>, the system will run a <code class="highlighter-rouge">metadatastoremigration</code> job after a successful upgrade. This is necessary for online garbage collection. If the three system attempts fail, you will have to retrigger the <code class="highlighter-rouge">metadatastoremigration</code> job manually. <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/upgrade/#25-to-26-upgrade">Learn about manual metadata store migration</a>.</li>
    </ul>
  </li>
</ul>

<h2 id="264">2.6.4</h2>
<p>(2019-3-28)</p>

<h3 id="enhancements">Enhancements</h3>

<ul>
  <li>Added <code class="highlighter-rouge">--storage-migrated</code> option to reconfigure with migrated content when moving content to a new NFS URL. (ENGDTR-794)</li>
  <li>Added a job log status filter which allows users to exclude jobs that are not currently <strong><em>running</em></strong>. (docker/dhe-deploy #10077)</li>
</ul>

<h3 id="bug-fixes-1">Bug Fixes</h3>

<ul>
  <li>If you have a repository in DTR 2.4 with manifest lists enabled, <code class="highlighter-rouge">docker pull</code> would fail on images that have been pushed to the repository after you upgrade to 2.5 and opt into garbage collection. This also applied when upgrading from 2.5 to 2.6. The issue has been fixed in DTR 2.6.4. (ENGDTR-330 and docker/dhe-deploy #10105)</li>
</ul>

<h3 id="known-issues-1">Known issues</h3>

<ul>
  <li>Docker Engine Enterprise Edition (Docker EE) Upgrade
    <ul>
      <li>There are <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/upgrade">important changes to the upgrade process</a> that, if not correctly followed, can have impact on the availability of applications running on the Swarm during upgrades. These constraints impact any upgrades coming from any version before <code class="highlighter-rouge">18.09</code> to version <code class="highlighter-rouge">18.09</code> or greater. For DTR-specific changes, see <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/upgrade/#25-to-26-upgrade">2.5 to 2.6 upgrade</a>.</li>
    </ul>
  </li>
  <li>Web Interface
    <ul>
      <li>Poll mirroring for Docker plugins such as <code class="highlighter-rouge">docker/imagefs</code> is currently broken. (docker/dhe-deploy #9490)</li>
      <li>When viewing the details of a scanned image tag, the header may display a different vulnerability count from the layer details. (docker/dhe-deploy #9474)</li>
      <li>In order to set a tag limit for pruning purposes, immutability must be turned off for a repository. This limitation is not clear in the <strong>Repository Settings</strong> view. (docker/dhe-deploy #9554)</li>
    </ul>
  </li>
  <li>Webhooks
    <ul>
      <li>When configured for “Image promoted from repository” events, a webhook notification is triggered twice during an image promotion when scanning is enabled on a repository. (docker/dhe-deploy #9685)</li>
      <li>HTTPS webhooks do not go through HTTPS proxy when configured. (docker/dhe-deploy #9492)</li>
    </ul>
  </li>
  <li>System
    <ul>
      <li>When upgrading from <code class="highlighter-rouge">2.5</code> to <code class="highlighter-rouge">2.6</code>, the system will run a <code class="highlighter-rouge">metadatastoremigration</code> job after a successful upgrade. This is necessary for online garbage collection. If the three system attempts fail, you will have to retrigger the <code class="highlighter-rouge">metadatastoremigration</code> job manually. <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/upgrade/#25-to-26-upgrade">Learn about manual metadata store migration</a>.</li>
    </ul>
  </li>
</ul>

<h2 id="263">2.6.3</h2>

<p>(2019-2-28)</p>

<h3 id="changelog">Changelog</h3>

<ul>
  <li>Bump the Golang version that is used to build DTR to version 1.11.5. (docker/dhe-deploy#10060)</li>
</ul>

<h3 id="bug-fixes-2">Bug Fixes</h3>

<ul>
  <li>Users with read-only permissions can no longer see the README edit button for a repository. (docker/dhe-deploy#10056)</li>
</ul>

<h3 id="known-issues-2">Known issues</h3>

<ul>
  <li>Docker Engine Enterprise Edition (Docker EE) Upgrade
    <ul>
      <li>There are <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/upgrade">important changes to the upgrade process</a> that, if not correctly followed, can have impact on the availability of applications running on the Swarm during upgrades. These constraints impact any upgrades coming from any version before <code class="highlighter-rouge">18.09</code> to version <code class="highlighter-rouge">18.09</code> or greater. For DTR-specific changes, see <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/upgrade/#25-to-26-upgrade">2.5 to 2.6 upgrade</a>.</li>
    </ul>
  </li>
  <li>Web Interface
    <ul>
      <li>Poll mirroring for Docker plugins such as <code class="highlighter-rouge">docker/imagefs</code> is currently broken. (docker/dhe-deploy #9490)</li>
      <li>When viewing the details of a scanned image tag, the header may display a different vulnerability count from the layer details. (docker/dhe-deploy #9474)</li>
      <li>In order to set a tag limit for pruning purposes, immutability must be turned off for a repository. This limitation is not clear in the <strong>Repository Settings</strong> view. (docker/dhe-deploy #9554)</li>
      <li>Changing your S3 settings through the web interface will lead to erased metadata (ENGDTR-793). See <a href="https://success.docker.com/article/dtr-26-lost-tags-after-reconfiguring-storage#restoretocloudstorage">Restore to Cloud Storage</a> for Docker’s recommended recovery strategy.</li>
    </ul>
  </li>
  <li>CLI
    <ul>
      <li>When reconfiguring and restoring DTR, specifying <code class="highlighter-rouge">--nfs-storage-url</code> will assume you are switching to a fresh storage backend and will wipe your existing tags (ENGDTR-794). See <a href="https://success.docker.com/article/dtr-26-lost-tags-after-reconfiguring-storage#reconfigureusingalocalnfsvolume">Reconfigure Using a Local NFS Volume</a> and <a href="https://success.docker.com/article/dtr-26-lost-tags-after-reconfiguring-storage#restoretoalocalnfsvolume">Restore to a Local NFS Volume</a> for Docker’s recommended recovery strategies.</li>
    </ul>
  </li>
  <li>Webhooks
    <ul>
      <li>When configured for “Image promoted from repository” events, a webhook notification is triggered twice during an image promotion when scanning is enabled on a repository. (docker/dhe-deploy #9685)</li>
      <li>HTTPS webhooks do not go through HTTPS proxy when configured. (docker/dhe-deploy #9492)</li>
    </ul>
  </li>
  <li>System
    <ul>
      <li>When upgrading from <code class="highlighter-rouge">2.5</code> to <code class="highlighter-rouge">2.6</code>, the system will run a <code class="highlighter-rouge">metadatastoremigration</code> job after a successful upgrade. This is necessary for online garbage collection. If the three system attempts fail, you will have to retrigger the <code class="highlighter-rouge">metadatastoremigration</code> job manually. <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/upgrade/#25-to-26-upgrade">Learn about manual metadata store migration</a>.</li>
    </ul>
  </li>
</ul>

<h2 id="262">2.6.2</h2>

<p>(2019-1-29)</p>

<h3 id="bug-fixes-3">Bug Fixes</h3>

<ul>
  <li>Fixed a bug where scanning Windows images were stuck in Pending state. (docker/dhe-deploy #9969)</li>
</ul>

<h3 id="known-issues-3">Known issues</h3>

<ul>
  <li>Docker Engine Enterprise Edition (Docker EE) Upgrade
    <ul>
      <li>There are <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/upgrade">important changes to the upgrade process</a> that, if not correctly followed, can have impact on the availability of applications running on the Swarm during upgrades. These constraints impact any upgrades coming from any version before <code class="highlighter-rouge">18.09</code> to version <code class="highlighter-rouge">18.09</code> or greater. For DTR-specific changes, see <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/upgrade/#25-to-26-upgrade">2.5 to 2.6 upgrade</a>.</li>
    </ul>
  </li>
  <li>Web Interface
    <ul>
      <li>Users with read-only permissions to a repository can edit the repository README but their changes will not be saved. Only repository admins should have the ability to <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/manage-users/permission-levels/#team-permission-levels">edit the description</a> of a repository. (docker/dhe-deploy #9677)</li>
      <li>Poll mirroring for Docker plugins such as <code class="highlighter-rouge">docker/imagefs</code> is currently broken. (docker/dhe-deploy #9490)</li>
      <li>When viewing the details of a scanned image tag, the header may display a different vulnerability count from the layer details. (docker/dhe-deploy #9474)</li>
      <li>In order to set a tag limit for pruning purposes, immutability must be turned off for a repository. This limitation is not clear in the <strong>Repository Settings</strong> view. (docker/dhe-deploy #9554)</li>
      <li>Changing your S3 settings through the web interface will lead to erased metadata (ENGDTR-793). See <a href="https://success.docker.com/article/dtr-26-lost-tags-after-reconfiguring-storage#restoretocloudstorage">Restore to Cloud Storage</a> for Docker’s recommended recovery strategy.</li>
    </ul>
  </li>
  <li>CLI
    <ul>
      <li>When reconfiguring and restoring DTR, specifying <code class="highlighter-rouge">--nfs-storage-url</code> will assume you are switching to a fresh storage backend and will wipe your existing tags (ENGDTR-794). See <a href="https://success.docker.com/article/dtr-26-lost-tags-after-reconfiguring-storage#reconfigureusingalocalnfsvolume">Reconfigure Using a Local NFS Volume</a> and <a href="https://success.docker.com/article/dtr-26-lost-tags-after-reconfiguring-storage#restoretoalocalnfsvolume">Restore to a Local NFS Volume</a> for Docker’s recommended recovery strategies.</li>
    </ul>
  </li>
  <li>Webhooks
    <ul>
      <li>When configured for “Image promoted from repository” events, a webhook notification is triggered twice during an image promotion when scanning is enabled on a repository. (docker/dhe-deploy #9685)</li>
      <li>HTTPS webhooks do not go through HTTPS proxy when configured. (docker/dhe-deploy #9492)</li>
    </ul>
  </li>
  <li>System
    <ul>
      <li>When upgrading from <code class="highlighter-rouge">2.5</code> to <code class="highlighter-rouge">2.6</code>, the system will run a <code class="highlighter-rouge">metadatastoremigration</code> job after a successful upgrade. This is necessary for online garbage collection. If the three system attempts fail, you will have to retrigger the <code class="highlighter-rouge">metadatastoremigration</code> job manually. <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/upgrade/#25-to-26-upgrade">Learn about manual metadata store migration</a>.</li>
    </ul>
  </li>
</ul>

<h2 id="261">2.6.1</h2>

<p>(2019-01-09)</p>

<h3 id="bug-fixes-4">Bug Fixes</h3>

<ul>
  <li>Fixed a bug where notary signing data was not being backed up properly (docker/dhe-deploy #9862)</li>
  <li>Allow a cluster to go from 2 replicas to 1 without forcing removal (docker/dhe-deploy #9840)</li>
  <li>Fixed a race condition in initialization of the scan vulnerability database (docker/dhe-deploy #9907)</li>
</ul>

<h3 id="changelog-1">Changelog</h3>
<ul>
  <li>GoLang version bump to 1.11.4.</li>
</ul>

<h3 id="known-issues-4">Known issues</h3>

<ul>
  <li>Docker Engine Enterprise Edition (Docker EE) Upgrade
    <ul>
      <li>There are <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/upgrade">important changes to the upgrade process</a> that, if not correctly followed, can have impact on the availability of applications running on the Swarm during upgrades. These constraints impact any upgrades coming from any version before <code class="highlighter-rouge">18.09</code> to version <code class="highlighter-rouge">18.09</code> or greater. For DTR-specific changes, see <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/upgrade/#25-to-26-upgrade">2.5 to 2.6 upgrade</a>.</li>
    </ul>
  </li>
  <li>Web Interface
    <ul>
      <li>Users with read-only permissions to a repository can edit the repository README but their changes will not be saved. Only repository admins should have the ability to <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/manage-users/permission-levels/#team-permission-levels">edit the description</a> of a repository. (docker/dhe-deploy #9677)</li>
      <li>Poll mirroring for Docker plugins such as <code class="highlighter-rouge">docker/imagefs</code> is currently broken. (docker/dhe-deploy #9490)</li>
      <li>When viewing the details of a scanned image tag, the header may display a different vulnerability count from the layer details. (docker/dhe-deploy #9474)</li>
      <li>In order to set a tag limit for pruning purposes, immutability must be turned off for a repository. This limitation is not clear in the <strong>Repository Settings</strong> view. (docker/dhe-deploy #9554)</li>
      <li>Changing your S3 settings through the web interface will lead to erased metadata (ENGDTR-793). See <a href="https://success.docker.com/article/dtr-26-lost-tags-after-reconfiguring-storage#restoretocloudstorage">Restore to Cloud Storage</a> for Docker’s recommended recovery strategy.</li>
    </ul>
  </li>
  <li>CLI
    <ul>
      <li>When reconfiguring and restoring DTR, specifying <code class="highlighter-rouge">--nfs-storage-url</code> will assume you are switching to a fresh storage backend and will wipe your existing tags (ENGDTR-794). See <a href="https://success.docker.com/article/dtr-26-lost-tags-after-reconfiguring-storage#reconfigureusingalocalnfsvolume">Reconfigure Using a Local NFS Volume</a> and <a href="https://success.docker.com/article/dtr-26-lost-tags-after-reconfiguring-storage#restoretoalocalnfsvolume">Restore to a Local NFS Volume</a> for  Docker’s recommended recovery strategies.</li>
    </ul>
  </li>
  <li>Webhooks
    <ul>
      <li>When configured for “Image promoted from repository” events, a webhook notification is triggered twice during an image promotion when scanning is enabled on a repository. (docker/dhe-deploy #9685)</li>
      <li>HTTPS webhooks do not go through HTTPS proxy when configured. (docker/dhe-deploy #9492)</li>
    </ul>
  </li>
  <li>System
    <ul>
      <li>When upgrading from <code class="highlighter-rouge">2.5</code> to <code class="highlighter-rouge">2.6</code>, the system will run a <code class="highlighter-rouge">metadatastoremigration</code> job after a successful upgrade. This is necessary for online garbage collection. If the three system attempts fail, you will have to retrigger the <code class="highlighter-rouge">metadatastoremigration</code> job manually. <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/upgrade/#25-to-26-upgrade">Learn about manual metadata store migration</a>.</li>
    </ul>
  </li>
</ul>

<h2 id="260">2.6.0</h2>

<p>(2018-11-08)</p>

<h3 id="new-features">New Features</h3>

<ul>
  <li>Web Interface
    <ul>
      <li>Online garbage collection is no longer an experimental feature. Users can now write to DTR and push images during garbage collection. <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/configure/garbage-collection/">Learn about garbage collection</a>.</li>
      <li>Repository admins can now enable tag pruning for every repository that they manage by adding a pruning policy or setting a tag limit. <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/user/tag-pruning">Learn about tag pruning</a>.</li>
      <li>Users can now review and audit repository events on the web interface with the addition of the <strong>Activity</strong> tab on each repository. <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/user/audit-repository-events/">Learn about repository event audits</a>.</li>
      <li>DTR admins can now enable auto-deletion of repository events based on specified conditions. <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/configure/auto-delete-repo-events/">Learn about repository event auto-deletion</a>.</li>
      <li>DTR admins can now review and audit jobs on the web interface with the addition of <strong>Job Logs</strong> within System settings. <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/manage-jobs/audit-jobs-via-ui/">Learn about job audits on the web interface</a>.</li>
      <li>DTR admins can now enable auto-deletion of job logs based on specified conditions. <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/manage-jobs/auto-delete-job-logs/">Learn about job log auto-deletion</a>.</li>
      <li>Users can now mirror images from another Docker Trusted or Docker Hub registry using the web interface. <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/user/promotion-policies/pull-mirror">Learn about pull mirroring</a>.</li>
    </ul>
  </li>
  <li>CLI
    <ul>
      <li>To support NFS v4, users can now pass additional options such as <code class="highlighter-rouge">--async-nfs</code> and <code class="highlighter-rouge">--nfs-options</code> when installing or reconfiguring NFS for external storage. See <a href="https://matsuand.github.io/docs.docker.jp.onthefly/reference/dtr/2.6/cli/install">docker/dtr install</a> and <a href="https://matsuand.github.io/docs.docker.jp.onthefly/reference/dtr/2.6/cli/reconfigure">docker/dtr reconfigure</a> for more details.</li>
      <li>When installing and restoring DTR from an existing backup, users are now required to specify a storage flag: <code class="highlighter-rouge">--dtr-use-default-storage</code>, <code class="highlighter-rouge">--dtr-storage-volume</code>, or <code class="highlighter-rouge">--nfs-storage-url</code>. This ensures recovery of the configured storage setting when the backup was created. See <a href="https://matsuand.github.io/docs.docker.jp.onthefly/reference/dtr/2.6/cli/restore">docker/dtr restore</a> for more details.</li>
    </ul>
  </li>
  <li>API
    <ul>
      <li>Security admins can now export vulnerability scans to CSV via the <code class="highlighter-rouge">GET /api/v0/imagescan/scansummary/repositories/{namespace}/{reponame}/{tag}/export</code> endpoint. Specify <code class="highlighter-rouge">text/csv</code> as an Accept request HTTP header.</li>
      <li>Repository admins can now interact with repository pruning policies using the following endpoints:</li>
      <li><code class="highlighter-rouge">GET /api/v0/repositories/{namespace}/{reponame}/pruningPolicies</code></li>
      <li><code class="highlighter-rouge">POST /api/v0/repositories/{namespace}/{reponame}/pruningPolicies</code></li>
      <li><code class="highlighter-rouge">GET /api/v0/repositories/{namespace}/{reponame}/pruningPolicies/test</code></li>
      <li><code class="highlighter-rouge">GET /api/v0/repositories/{namespace}/{reponame}/pruningPolicies/{pruningpolicyid}</code></li>
      <li><code class="highlighter-rouge">GET /api/v0/repositories/{namespace}/{reponame}/pruningPolicies/{pruningpolicyid}</code></li>
      <li><code class="highlighter-rouge">PUT /api/v0/repositories/{namespace}/{reponame}/pruningPolicies/{pruningpolicyid}</code></li>
      <li><code class="highlighter-rouge">DELETE /api/v0/repositories/{namespace}/{reponame}/pruningPolicies/{pruningpolicyid}</code></li>
    </ul>

    <p>See <a href="../../reference/dtr/2.6/api/">Docker Trusted Registry API</a> for endpoint details and example usage. Alternatively, you can log in to the DTR web interface and select <strong>API</strong> from the bottom left navigation pane.</p>
  </li>
</ul>

<h3 id="known-issues-5">Known issues</h3>

<ul>
  <li>Docker Engine Enterprise Edition (Docker EE) Upgrade
    <ul>
      <li>There are <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/upgrade">important changes to the upgrade process</a> that, if not correctly followed, can have impact on the availability of applications running on the Swarm during upgrades. These constraints impact any upgrades coming from any version before <code class="highlighter-rouge">18.09</code> to version <code class="highlighter-rouge">18.09</code> or greater. For DTR-specific changes, see <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/upgrade/#25-to-26-upgrade">2.5 to 2.6 upgrade</a>.</li>
    </ul>
  </li>
  <li>Web Interface
    <ul>
      <li>Users with read-only permissions to a repository can edit the repository README but their changes will not be saved. Only repository admins should have the ability to <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/manage-users/permission-levels/#team-permission-levels">edit the description</a> of a repository. (docker/dhe-deploy #9677)</li>
      <li>Poll mirroring for Docker plugins such as <code class="highlighter-rouge">docker/imagefs</code> is currently broken. (docker/dhe-deploy #9490)</li>
      <li>When viewing the details of a scanned image tag, the header may display a different vulnerability count from the layer details. (docker/dhe-deploy #9474)</li>
      <li>In order to set a tag limit for pruning purposes, immutability must be turned off for a repository. This limitation is not clear in the <strong>Repository Settings</strong> view. (docker/dhe-deploy #9554)</li>
      <li>Changing your S3 settings through the web interface will lead to erased metadata (ENGDTR-793). See <a href="https://success.docker.com/article/dtr-26-lost-tags-after-reconfiguring-storage#restoretocloudstorage">Restore to Cloud Storage</a> for Docker’s recommended recovery strategy.</li>
    </ul>
  </li>
  <li>CLI
    <ul>
      <li>When reconfiguring and restoring DTR, specifying <code class="highlighter-rouge">--nfs-storage-url</code> will assume you are switching to a fresh storage backend and will wipe your existing tags (ENGDTR-794). See <a href="https://success.docker.com/article/dtr-26-lost-tags-after-reconfiguring-storage#reconfigureusingalocalnfsvolume">Reconfigure Using a Local NFS Volume</a> and <a href="https://success.docker.com/article/dtr-26-lost-tags-after-reconfiguring-storage#restoretoalocalnfsvolume">Restore to a Local NFS Volume</a> for Docker’s recommended recovery strategies.</li>
    </ul>
  </li>
  <li>Webhooks
    <ul>
      <li>When configured for “Image promoted from repository” events, a webhook notification is triggered twice during an image promotion when scanning is enabled on a repository. (docker/dhe-deploy #9685)</li>
      <li>HTTPS webhooks do not go through HTTPS proxy when configured. (docker/dhe-deploy #9492)</li>
    </ul>
  </li>
  <li>System
    <ul>
      <li>When upgrading from <code class="highlighter-rouge">2.5</code> to <code class="highlighter-rouge">2.6</code>, the system will run a <code class="highlighter-rouge">metadatastoremigration</code> job after a successful upgrade. This is necessary for online garbage collection. If the three system attempts fail, you will have to retrigger the <code class="highlighter-rouge">metadatastoremigration</code> job manually. <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/admin/upgrade/#25-to-26-upgrade">Learn about manual metadata store migration</a>.</li>
    </ul>
  </li>
</ul>

<h3 id="deprecations">Deprecations</h3>

<ul>
  <li>API
    <ul>
      <li><code class="highlighter-rouge">GET /api/v0/imagescan/repositories/{namespace}/{reponame}/{tag}</code> is deprecated in favor of <code class="highlighter-rouge">GET /api/v0/imagescan/scansummary/repositories/{namespace}/{reponame}/{tag}</code>.</li>
      <li>The following endpoints have been removed since online garbage collection will take care of these operations:
        <ul>
          <li><code class="highlighter-rouge">DELETE /api/v0/accounts/{namespace}/repositories</code></li>
          <li><code class="highlighter-rouge">DELETE /api/v0/repositories/{namespace}/{reponame}/manifests/{reference}</code></li>
        </ul>
      </li>
      <li>The <code class="highlighter-rouge">enableManifestLists</code> field on the <code class="highlighter-rouge">POST /api/v0/repositories/{namespace}</code> endpoint will be removed in DTR 2.7. See <a href="deprecation-notice">Deprecation Notice</a> for more details.</li>
    </ul>
  </li>
</ul>

<h1 id="version-25">Version 2.5</h1>

<blockquote>
  <p><strong>Important DTR Upgrade Information</strong>
If you have manifest lists enabled on any of your repositories:</p>

  <p>Upgrade path from 2.5.x to 2.6: Upgrade directly to 2.6.4.</p>
</blockquote>

<h2 id="2510">2.5.10</h2>

<p>(2019-3-28)</p>

<h3 id="bug-fixes-5">Bug Fixes</h3>

<ul>
  <li>If you have a repository in DTR 2.4 with manifest lists enabled, <code class="highlighter-rouge">docker pull</code> would fail on images that have been pushed to the repository after you upgrade to 2.5 and opt into garbage collection. This has been fixed in 2.5.10. (docker/dhe-deploy#10106)</li>
</ul>

<h3 id="known-issues-6">Known Issues</h3>
<ul>
  <li>Web Interface
    <ul>
      <li>The web interface shows “This repository has no tags” in repositories where tags
have long names. As a workaround, reduce the length of the name for the
repository and tag.</li>
      <li>When deleting a repository with signed images, the DTR web interface no longer
shows instructions on how to delete trust data.</li>
      <li>There’s no web interface support to update mirroring policies when rotating the TLS
certificates used by DTR. Use the API instead.</li>
      <li>The web interface for promotion policies is currently broken if you have a large number
of repositories.</li>
      <li>Clicking “Save &amp; Apply” on a promotion policy doesn’t work.</li>
    </ul>
  </li>
  <li>Webhooks
    <ul>
      <li>There is no webhook event for when an image is pulled.</li>
      <li>HTTPS webhooks do not go through HTTPS proxy when configured. (docker/dhe-deploy #9492)</li>
      <li>When configured for “Image promoted from repository” events, a webhook notification will be triggered twice during an image promotion when scanning is enabled on a repository. (docker/dhe-deploy #9685)</li>
    </ul>
  </li>
  <li>Online garbage collection
    <ul>
      <li>The events API won’t report events when tags and manifests are deleted.</li>
      <li>The events API won’t report blobs deleted by the garbage collection job.</li>
    </ul>
  </li>
  <li>Docker EE Advanced features
    <ul>
      <li>Scanning any new push after metadatastore migration will not yet work.</li>
      <li>Pushes to repos with promotion policies (repo as source) are broken when an
image has a layer over 100MB.</li>
      <li>On upgrade the scanningstore container may restart with this error message:
FATAL:  database files are incompatible with server</li>
    </ul>
  </li>
</ul>

<h2 id="259">2.5.9</h2>

<p>(2019-2-28)</p>

<h3 id="changelog-2">Changelog</h3>

<ul>
  <li>Bump the Golang version that is used to build DTR to version 1.10.8. (docker/dhe-deploy#10071)</li>
</ul>

<h3 id="known-issues-7">Known Issues</h3>
<ul>
  <li>Web Interface
    <ul>
      <li>The web interface shows “This repository has no tags” in repositories where tags
have long names. As a workaround, reduce the length of the name for the
repository and tag.</li>
      <li>When deleting a repository with signed images, the DTR web interface no longer
shows instructions on how to delete trust data.</li>
      <li>There’s no web interface support to update mirroring policies when rotating the TLS
certificates used by DTR. Use the API instead.</li>
      <li>The web interface for promotion policies is currently broken if you have a large number
of repositories.</li>
      <li>Clicking “Save &amp; Apply” on a promotion policy doesn’t work.</li>
    </ul>
  </li>
  <li>Webhooks
    <ul>
      <li>There is no webhook event for when an image is pulled.</li>
      <li>HTTPS webhooks do not go through HTTPS proxy when configured. (docker/dhe-deploy #9492)</li>
      <li>When configured for “Image promoted from repository” events, a webhook notification will be triggered twice during an image promotion when scanning is enabled on a repository. (docker/dhe-deploy #9685)</li>
    </ul>
  </li>
  <li>Online garbage collection
    <ul>
      <li>The events API won’t report events when tags and manifests are deleted.</li>
      <li>The events API won’t report blobs deleted by the garbage collection job.</li>
    </ul>
  </li>
  <li>Docker EE Advanced features
    <ul>
      <li>Scanning any new push after metadatastore migration will not yet work.</li>
      <li>Pushes to repos with promotion policies (repo as source) are broken when an
image has a layer over 100MB.</li>
      <li>On upgrade the scanningstore container may restart with this error message:
FATAL:  database files are incompatible with server</li>
    </ul>
  </li>
  <li>System
    <ul>
      <li>When opting into online garbage collection, the system will run a <code class="highlighter-rouge">metadatastoremigration</code> job after a successful upgrade. If the three system attempts fail, you will have to retrigger the <code class="highlighter-rouge">metadatastoremigration</code> job manually. <a href="../../v18.03/ee/dtr/admin/configure/garbage-collection/#metadata-store-migration">Learn about manual metadata store migration</a>.</li>
    </ul>
  </li>
</ul>

<h2 id="258">2.5.8</h2>

<p>(2019-1-29)</p>

<h3 id="bug-fixes-6">Bug Fixes</h3>

<ul>
  <li>Fixed an issue that prevented vulnerability updates from running if they were previously interrupted. (docker/dhe-deploy #9958)</li>
</ul>

<h3 id="known-issues-8">Known Issues</h3>
<ul>
  <li>Web Interface
    <ul>
      <li>The web interface shows “This repository has no tags” in repositories where tags
have long names. As a workaround, reduce the length of the name for the
repository and tag.</li>
      <li>When deleting a repository with signed images, the DTR web interface no longer
shows instructions on how to delete trust data.</li>
      <li>There’s no web interface support to update mirroring policies when rotating the TLS
certificates used by DTR. Use the API instead.</li>
      <li>The web interface for promotion policies is currently broken if you have a large number
of repositories.</li>
      <li>Clicking “Save &amp; Apply” on a promotion policy doesn’t work.</li>
    </ul>
  </li>
  <li>Webhooks
    <ul>
      <li>There is no webhook event for when an image is pulled.</li>
      <li>HTTPS webhooks do not go through HTTPS proxy when configured. (docker/dhe-deploy #9492)</li>
      <li>When configured for “Image promoted from repository” events, a webhook notification will be triggered twice during an image promotion when scanning is enabled on a repository. (docker/dhe-deploy #9685)</li>
    </ul>
  </li>
  <li>Online garbage collection
    <ul>
      <li>The events API won’t report events when tags and manifests are deleted.</li>
      <li>The events API won’t report blobs deleted by the garbage collection job.</li>
    </ul>
  </li>
  <li>Docker EE Advanced features
    <ul>
      <li>Scanning any new push after metadatastore migration will not yet work.</li>
      <li>Pushes to repos with promotion policies (repo as source) are broken when an
image has a layer over 100MB.</li>
      <li>On upgrade the scanningstore container may restart with this error message:
FATAL:  database files are incompatible with server</li>
    </ul>
  </li>
  <li>System
    <ul>
      <li>When opting into online garbage collection, the system will run a <code class="highlighter-rouge">metadatastoremigration</code> job after a successful upgrade. If the three system attempts fail, you will have to retrigger the <code class="highlighter-rouge">metadatastoremigration</code> job manually. <a href="../../v18.03/ee/dtr/admin/configure/garbage-collection/#metadata-store-migration">Learn about manual metadata store migration</a>.</li>
    </ul>
  </li>
</ul>

<h2 id="257">2.5.7</h2>

<p>(2019-01-09)</p>

<h3 id="bug-fixes-7">Bug Fixes</h3>

<ul>
  <li>Fixed a bug where manifest lists were being appended to existing manifests lists when pushed. (docker/dhe-deploy #9811)</li>
  <li>Updated GoRethink library to avoid potential lock contention. (docker/dhe-deploy #9812)</li>
  <li>Fixed a bug where notary signing data was not being backed up properly. (docker/dhe-deploy #9851)</li>
</ul>

<h3 id="changelog-3">Changelog</h3>
<ul>
  <li>GoLang version bump to 1.10.7.</li>
</ul>

<h3 id="known-issues-9">Known Issues</h3>
<ul>
  <li>Web Interface
    <ul>
      <li>The web interface shows “This repository has no tags” in repositories where tags
have long names. As a workaround, reduce the length of the name for the
repository and tag.</li>
      <li>When deleting a repository with signed images, the DTR web interface no longer
shows instructions on how to delete trust data.</li>
      <li>There’s no web interface support to update mirroring policies when rotating the TLS
certificates used by DTR. Use the API instead.</li>
      <li>The web interface for promotion policies is currently broken if you have a large number
of repositories.</li>
      <li>Clicking “Save &amp; Apply” on a promotion policy doesn’t work.</li>
    </ul>
  </li>
  <li>Webhooks
    <ul>
      <li>There is no webhook event for when an image is pulled.</li>
      <li>HTTPS webhooks do not go through HTTPS proxy when configured. (docker/dhe-deploy #9492)</li>
      <li>When configured for “Image promoted from repository” events, a webhook notification will be triggered twice during an image promotion when scanning is enabled on a repository. (docker/dhe-deploy #9685)</li>
    </ul>
  </li>
  <li>Online garbage collection
    <ul>
      <li>The events API won’t report events when tags and manifests are deleted.</li>
      <li>The events API won’t report blobs deleted by the garbage collection job.</li>
    </ul>
  </li>
  <li>Docker EE Advanced features
    <ul>
      <li>Scanning any new push after metadatastore migration will not yet work.</li>
      <li>Pushes to repos with promotion policies (repo as source) are broken when an
image has a layer over 100MB.</li>
      <li>On upgrade the scanningstore container may restart with this error message:
FATAL:  database files are incompatible with server</li>
    </ul>
  </li>
  <li>System
    <ul>
      <li>When opting into online garbage collection, the system will run a <code class="highlighter-rouge">metadatastoremigration</code> job after a successful upgrade. If the three system attempts fail, you will have to retrigger the <code class="highlighter-rouge">metadatastoremigration</code> job manually. <a href="../../v18.03/ee/dtr/admin/configure/garbage-collection/#metadata-store-migration">Learn about manual metadata store migration</a>.</li>
    </ul>
  </li>
</ul>

<h2 id="256">2.5.6</h2>

<p>(2018-10-25)</p>

<h3 id="bug-fixes-8">Bug Fixes</h3>
<ul>
  <li>Fixed a bug where Windows images could not be promoted. (docker/dhe-deploy#9215)</li>
  <li>Removed Python3 from base image. (docker/dhe-deploy#9219)</li>
  <li>Added CSP (docker/dhe-deploy#9366)</li>
  <li>Included foreign layers in scanned images. (docker/dhe-deploy#9488)</li>
  <li>Added dotnet.marsu to nautilus base image. (docker/dhe-deploy#9503)</li>
  <li>Backported ManifestList fixes. (docker/dhe-deploy#9547)</li>
  <li>Removed support sidebar link and associated content. (docker/dhe-deploy#9411)</li>
</ul>

<h3 id="known-issues-10">Known Issues</h3>
<ul>
  <li>Web Interface
    <ul>
      <li>The web interface shows “This repository has no tags” in repositories where tags
have long names. As a workaround, reduce the length of the name for the
repository and tag.</li>
      <li>When deleting a repository with signed images, the DTR web interface no longer
shows instructions on how to delete trust data.</li>
      <li>There’s no web interface support to update mirroring policies when rotating the TLS
certificates used by DTR. Use the API instead.</li>
      <li>The web interface for promotion policies is currently broken if you have a large number
of repositories.</li>
      <li>Clicking “Save &amp; Apply” on a promotion policy doesn’t work.</li>
    </ul>
  </li>
  <li>Webhooks
    <ul>
      <li>There is no webhook event for when an image is pulled.</li>
      <li>HTTPS webhooks do not go through HTTPS proxy when configured. (docker/dhe-deploy #9492)</li>
      <li>When configured for “Image promoted from repository” events, a webhook notification will be triggered twice during an image promotion when scanning is enabled on a repository. (docker/dhe-deploy #9685)</li>
    </ul>
  </li>
  <li>Online garbage collection
    <ul>
      <li>The events API won’t report events when tags and manifests are deleted.</li>
      <li>The events API won’t report blobs deleted by the garbage collection job.</li>
    </ul>
  </li>
  <li>Docker EE Advanced features
    <ul>
      <li>Scanning any new push after metadatastore migration will not yet work.</li>
      <li>Pushes to repos with promotion policies (repo as source) are broken when an
image has a layer over 100MB.</li>
      <li>On upgrade the scanningstore container may restart with this error message:
FATAL:  database files are incompatible with server</li>
    </ul>
  </li>
  <li>System
    <ul>
      <li>When opting into online garbage collection, the system will run a <code class="highlighter-rouge">metadatastoremigration</code> job after a successful upgrade. If the three system attempts fail, you will have to retrigger the <code class="highlighter-rouge">metadatastoremigration</code> job manually. <a href="../../v18.03/ee/dtr/admin/configure/garbage-collection/#metadata-store-migration">Learn about manual metadata store migration</a>.</li>
    </ul>
  </li>
</ul>

<h2 id="255">2.5.5</h2>

<p>(2018-8-30)</p>

<h3 id="bug-fixes-9">Bug Fixes</h3>

<ul>
  <li>Fixed bug where repository tag list UI was not loading after a tag migration.</li>
  <li>Fixed bug to enable poll mirroring with Windows images.</li>
  <li>The RethinkDB image has been patched to remove unused components with known vulnerabilities including the RethinkCLI. To get an equivalent interface, run RethinkCLI from a separate image using <code class="highlighter-rouge">docker run -it --rm --net dtr-ol -v dtr-ca-$REPLICA_ID:/ca dockerhubenterprise/rethinkcli:v2.3.0 $REPLICA_ID</code>.</li>
</ul>

<h3 id="known-issues-11">Known Issues</h3>
<ul>
  <li>Web Interface
    <ul>
      <li>The web interface shows “This repository has no tags” in repositories where tags
have long names. As a workaround, reduce the length of the name for the
repository and tag.</li>
      <li>When deleting a repository with signed images, the DTR web interface no longer
shows instructions on how to delete trust data.</li>
      <li>There’s no web interface support to update mirroring policies when rotating the TLS
certificates used by DTR. Use the API instead.</li>
      <li>The web interface for promotion policies is currently broken if you have a large number
of repositories.</li>
      <li>Clicking “Save &amp; Apply” on a promotion policy doesn’t work.</li>
    </ul>
  </li>
  <li>Webhooks
    <ul>
      <li>There is no webhook event for when an image is pulled.</li>
      <li>HTTPS webhooks do not go through HTTPS proxy when configured. (docker/dhe-deploy #9492)</li>
      <li>When configured for “Image promoted from repository” events, a webhook notification will be triggered twice during an image promotion when scanning is enabled on a repository. (docker/dhe-deploy #9685)</li>
    </ul>
  </li>
  <li>Online garbage collection
    <ul>
      <li>The events API won’t report events when tags and manifests are deleted.</li>
      <li>The events API won’t report blobs deleted by the garbage collection job.</li>
    </ul>
  </li>
  <li>Docker EE Advanced features
    <ul>
      <li>Scanning any new push after metadatastore migration will not yet work.</li>
      <li>Pushes to repos with promotion policies (repo as source) are broken when an
image has a layer over 100MB.</li>
      <li>On upgrade the scanningstore container may restart with this error message:
FATAL:  database files are incompatible with server</li>
    </ul>
  </li>
  <li>System
    <ul>
      <li>When opting into online garbage collection, the system will run a <code class="highlighter-rouge">metadatastoremigration</code> job after a successful upgrade. If the three system attempts fail, you will have to retrigger the <code class="highlighter-rouge">metadatastoremigration</code> job manually. <a href="../../v18.03/ee/dtr/admin/configure/garbage-collection/#metadata-store-migration">Learn about manual metadata store migration</a>.</li>
    </ul>
  </li>
</ul>

<h2 id="253">2.5.3</h2>

<p>(2018-6-21)</p>

<h3 id="new-features-1">New Features</h3>

<ul>
  <li>Allow users to adjust DTR log levels for alternative logging solutions.</li>
</ul>

<h3 id="bug-fixes-10">Bug Fixes</h3>

<ul>
  <li>Fixed URL redirect to release notes.</li>
  <li>Prevent OOM during garbage collection by reading less data into memory at a time.</li>
  <li>Fixed issue where worker capacities wouldn’t update on minor version upgrades.</li>
</ul>

<h3 id="known-issues-12">Known Issues</h3>
<ul>
  <li>Web Interface
    <ul>
      <li>The web interface shows “This repository has no tags” in repositories where tags
have long names. As a workaround, reduce the length of the name for the
repository and tag.</li>
      <li>When deleting a repository with signed images, the DTR web interface no longer
shows instructions on how to delete trust data.</li>
      <li>There’s no web interface support to update mirroring policies when rotating the TLS
certificates used by DTR. Use the API instead.</li>
      <li>The web interface for promotion policies is currently broken if you have a large number
of repositories.</li>
      <li>Clicking “Save &amp; Apply” on a promotion policy doesn’t work.</li>
    </ul>
  </li>
  <li>Webhooks
    <ul>
      <li>There is no webhook event for when an image is pulled.</li>
      <li>HTTPS webhooks do not go through HTTPS proxy when configured. (docker/dhe-deploy #9492)</li>
      <li>When configured for “Image promoted from repository” events, a webhook notification will be triggered twice during an image promotion when scanning is enabled on a repository. (docker/dhe-deploy #9685)</li>
    </ul>
  </li>
  <li>Online garbage collection
    <ul>
      <li>The events API won’t report events when tags and manifests are deleted.</li>
      <li>The events API won’t report blobs deleted by the garbage collection job.</li>
    </ul>
  </li>
  <li>Docker EE Advanced features
    <ul>
      <li>Scanning any new push after metadatastore migration will not yet work.</li>
      <li>Pushes to repos with promotion policies (repo as source) are broken when an
image has a layer over 100MB.</li>
      <li>On upgrade the scanningstore container may restart with this error message:
FATAL:  database files are incompatible with server</li>
    </ul>
  </li>
  <li>System
    <ul>
      <li>When opting into online garbage collection, the system will run a <code class="highlighter-rouge">metadatastoremigration</code> job after a successful upgrade. If the three system attempts fail, you will have to retrigger the <code class="highlighter-rouge">metadatastoremigration</code> job manually. <a href="../../v18.03/ee/dtr/admin/configure/garbage-collection/#metadata-store-migration">Learn about manual metadata store migration</a>.</li>
    </ul>
  </li>
</ul>

<h2 id="252">2.5.2</h2>

<p>(2018-5-21)</p>

<h3 id="bug-fixes-11">Bug fixes</h3>

<ul>
  <li>Fixed a problem where promotion policies based on scanning results would not be executed correctly.</li>
</ul>

<h3 id="known-issues-13">Known issues</h3>

<ul>
  <li>Web Interface
    <ul>
      <li>The web interface shows “This repository has no tags” in repositories where tags
have long names. As a workaround, reduce the length of the name for the
repository and tag.</li>
      <li>When deleting a repository with signed images, the DTR web interface no longer
shows instructions on how to delete trust data.</li>
      <li>There’s no web interface support to update mirroring policies when rotating the TLS
certificates used by DTR. Use the API instead.</li>
      <li>The web interface for promotion policies is currently broken if you have a large number
of repositories.</li>
      <li>Clicking “Save &amp; Apply” on a promotion policy doesn’t work.</li>
    </ul>
  </li>
  <li>Webhooks
    <ul>
      <li>There is no webhook event for when an image is pulled.</li>
      <li>HTTPS webhooks do not go through HTTPS proxy when configured. (docker/dhe-deploy #9492)</li>
    </ul>
  </li>
  <li>Online garbage collection
    <ul>
      <li>The events API won’t report events when tags and manifests are deleted.</li>
      <li>The events API won’t report blobs deleted by the garbage collection job.</li>
    </ul>
  </li>
  <li>Docker EE Advanced features
    <ul>
      <li>Scanning any new push after metadatastore migration will not yet work.</li>
      <li>Pushes to repos with promotion policies (repo as source) are broken when an
image has a layer over 100MB.</li>
      <li>On upgrade the scanningstore container may restart with this error message:
FATAL:  database files are incompatible with server</li>
    </ul>
  </li>
  <li>System
    <ul>
      <li>When opting into online garbage collection, the system will run a <code class="highlighter-rouge">metadatastoremigration</code> job after a successful upgrade. If the three system attempts fail, you will have to retrigger the <code class="highlighter-rouge">metadatastoremigration</code> job manually. <a href="../../v18.03/ee/dtr/admin/configure/garbage-collection/#metadata-store-migration">Learn about manual metadata store migration</a>.</li>
    </ul>
  </li>
</ul>

<h2 id="251">2.5.1</h2>

<p>(2018-5-17)</p>

<h3 id="new-features-2">New features</h3>

<ul>
  <li>Headers added to all API and registry responses to improve security (enforce HTST, XSS Protection, prevent MIME sniffing).</li>
</ul>

<h3 id="bug-fixes-12">Bug fixes</h3>

<ul>
  <li>Allow for AlibabaCloud as storage backend.</li>
  <li>Fix a problem that made pulling images from Google Cloud fail when DTR was configured to redirect requests.</li>
  <li>Avoid sending redundant webhooks and fix inaccurate repository pull/push counts when manifest lists are pushed.</li>
  <li>Several fixes of common workflows when the experimental online garbage collection is enabled, including:
    <ul>
      <li>Support scanning.</li>
      <li>Adding event stream items for online garbage collection activity like layers being deleted.</li>
      <li>Fix failing repositories promotion policies.</li>
      <li>Fix inaccurate pull/push counts.</li>
    </ul>
  </li>
  <li>Some internationalization fixes.</li>
  <li>Fix a bug causing poll mirroring from Docker Hub to fail under certain conditions.</li>
  <li>Copy existing scan results to new target repository when an image is promoted.</li>
  <li>Address an issue causing scan results to not be available for images with long names.</li>
  <li>Remove a race condition in which repositories deleted during tagmigration were causing tagmigration to fail.</li>
  <li>Enhancements to the mirroring interface including:
    <ul>
      <li>Fixed URL for the destination repository.</li>
      <li>Option to skip TLS verification when testing mirroring.</li>
    </ul>

    <h3 id="known-issues-14">Known issues</h3>
  </li>
  <li>Web Interface
    <ul>
      <li>The web interface shows “This repository has no tags” in repositories where tags
have long names. As a workaround, reduce the length of the name for the
repository and tag.</li>
      <li>When deleting a repository with signed images, the DTR web interface no longer
shows instructions on how to delete trust data.</li>
      <li>There’s no web interface support to update mirroring policies when rotating the TLS
certificates used by DTR. Use the API instead.</li>
      <li>The web interface for promotion policies is currently broken if you have a large number
of repositories.</li>
      <li>Clicking “Save &amp; Apply” on a promotion policy doesn’t work.</li>
    </ul>
  </li>
  <li>Webhooks
    <ul>
      <li>There is no webhook event for when an image is pulled.</li>
      <li>HTTPS webhooks do not go through HTTPS proxy when configured. (docker/dhe-deploy #9492)</li>
    </ul>
  </li>
  <li>Online garbage collection
    <ul>
      <li>The events API won’t report events when tags and manifests are deleted.</li>
      <li>The events API won’t report blobs deleted by the garbage collection job.</li>
    </ul>
  </li>
  <li>Docker EE Advanced features
    <ul>
      <li>Scanning any new push after metadatastore migration will not yet work.</li>
      <li>Pushes to repos with promotion policies (repo as source) are broken when an
image has a layer over 100MB.</li>
      <li>On upgrade the scanningstore container may restart with this error message:
FATAL:  database files are incompatible with server</li>
    </ul>
  </li>
  <li>System
    <ul>
      <li>When opting into online garbage collection, the system will run a <code class="highlighter-rouge">metadatastoremigration</code> job after a successful upgrade. If the three system attempts fail, you will have to retrigger the <code class="highlighter-rouge">metadatastoremigration</code> job manually. <a href="../../v18.03/ee/dtr/admin/configure/garbage-collection/#metadata-store-migration">Learn about manual metadata store migration</a>.</li>
    </ul>
  </li>
</ul>

<h2 id="250">2.5.0</h2>

<p>(2018-4-17)</p>

<h3 id="new-features-3">New features</h3>

<ul>
  <li>You can now configure DTR to automatically create a new repository when
users push to a repository in their personal namespace that doesn’t exist yet.
This makes the behavior of DTR consistent with Docker Hub. By default this
setting is disabled, so that DTR continues behaving the same way after an upgrade.
<a href="admin/configure/allow-creation-on-push.md">Learn about creating repositories on push</a>.</li>
  <li>You can create push mirroring policies to automatically push an image to
another DTR deployment or Docker Hub, when the image complies with a policy
of your choice.
<a href="user/promotion-policies/push-mirror.md">Learn about push mirroring</a>.</li>
  <li>You can configure a repository in a DTR deployment to mirror a repository
in a different DTR deployment by constantly monitoring it and pulling new
images when they are available.
<a href="user/promotion-policies/pull-mirror.md">Learn about pull mirroring</a>.</li>
  <li>Added the <code class="highlighter-rouge">emergency-repair</code> command to the DTR CLI tool. This allows you to
recover your DTR cluster from a loss of quorum and is an alternative to
restoring from a backup.
<a href="admin/disaster-recovery/repair-a-cluster.md">Learn about the emergency-repair command</a>.</li>
  <li>Users can now create access tokens that can be used to authenticate in the
DTR API without providing their credentials.
<a href="user/access-tokens.md">Learn about access tokens</a>.</li>
  <li>You can now configure DTR to run garbage collection jobs without putting DTR
into read-only mode. This is still experimental.
<a href="admin/configure/garbage-collection.md">Learn about garbage collection</a>.</li>
  <li>Administrators can hide vulnerabilities in given image layers if they
know that the vulnerability has been fixed.
<a href="user/manage-images/override-a-vulnerability.md">Learn how to override vulnerability reports</a></li>
  <li>You can now connect one DTR deployment to multiple UCPs, allowing you to
use Docker Content Trust in a seamless way between multiple UCPs.</li>
  <li>Added new endpoints to the DTR API to query the results of the Vulnerability
scanner:
    <ul>
      <li><code class="highlighter-rouge">/api/v0/imagescan/scansummary/repositories/{namespace}/{reponame}/{tag}</code> returns
the scanning summary for a given tag.</li>
      <li><code class="highlighter-rouge">/api/v0/imagescan/scansummary/cve/{cve}</code> gets the scan summary by CVE.</li>
      <li><code class="highlighter-rouge">/api/v0/imagescan/scansummary/layer/{layerid}</code> gets the scan summary by layer SHA.</li>
      <li><code class="highlighter-rouge">/api/v0/imagescan/scansummary/license/{license}</code> gets the scan summary by
license type.</li>
      <li><code class="highlighter-rouge">/api/v0/imagescan/scansummary/component/{component}</code> get the scan summary by
component.</li>
    </ul>
  </li>
  <li>The API endpoint <code class="highlighter-rouge">/api/v0/repositories/{namespace}/{reponame}/manifests/{reference}</code>
has been deprecated. Use <code class="highlighter-rouge">/api/v0/repositories/{namespace}/{reponame}/tags/{tag}</code>
instead.</li>
</ul>

<h3 id="bug-fixes-13">Bug fixes</h3>

<ul>
  <li>Web Interface
    <ul>
      <li>Several improvements to the web interface to make it more stable</li>
    </ul>
  </li>
  <li>User accounts
    <ul>
      <li>When a user changes their password they are automatically logged out.</li>
    </ul>
  </li>
  <li>Vulnerability scanner
    <ul>
      <li>Fixed problem causing errors when trying to view scanning information when
an image has not been scanned yet.</li>
    </ul>
  </li>
  <li>docker/dtr tool
    <ul>
      <li>When using <code class="highlighter-rouge">docker/dtr reconfigure --log-host</code>, you now need to also
specify <code class="highlighter-rouge">--log-protocol</code>.</li>
      <li>You can now tune the RethinkDB cache size for improved performance. Use the
<code class="highlighter-rouge">--replica-rethinkdb-cache-mb</code> option available on install, join, or reconfigure.</li>
    </ul>
  </li>
  <li>Misc
    <ul>
      <li>Removed support for manifest schema v1. This doesn’t  affect users.</li>
    </ul>
  </li>
</ul>

<h3 id="known-issues-15">Known issues</h3>

<ul>
  <li>Web Interface
    <ul>
      <li>The web interface shows “This repository has no tags” in repositories where tags
have long names. As a workaround, reduce the length of the name for the
repository and tag.</li>
      <li>When deleting a repository with signed images, the DTR web interface no longer
shows instructions on how to delete trust data.</li>
      <li>There’s no web interface support to update mirroring policies when rotating the TLS
certificates used by DTR. Use the API instead.</li>
      <li>The web interface for promotion policies is currently broken if you have a large number
of repositories.</li>
      <li>Clicking “Save &amp; Apply” on a promotion policy doesn’t work.</li>
    </ul>
  </li>
  <li>Webhooks
    <ul>
      <li>There is no webhook event for when an image is pulled.</li>
      <li>HTTPS webhooks do not go through HTTPS proxy when configured. (docker/dhe-deploy #9492)</li>
    </ul>
  </li>
  <li>Online garbage collection
    <ul>
      <li>The events API won’t report events when tags and manifests are deleted.</li>
      <li>The events API won’t report blobs deleted by the garbage collection job.</li>
    </ul>
  </li>
  <li>Docker EE Advanced features
    <ul>
      <li>Scanning any new push after metadatastore migration will not yet work.</li>
      <li>Pushes to repos with promotion policies (repo as source) are broken when an
image has a layer over 100MB.</li>
      <li>On upgrade the scanningstore container may restart with this error message:
FATAL:  database files are incompatible with server</li>
    </ul>
  </li>
  <li>System
    <ul>
      <li>When opting into online garbage collection, the system will run a <code class="highlighter-rouge">metadatastoremigration</code> job after a successful upgrade. If the three system attempts fail, you will have to retrigger the <code class="highlighter-rouge">metadatastoremigration</code> job manually. <a href="../../v18.03/ee/dtr/admin/configure/garbage-collection/#metadata-store-migration">Learn about manual metadata store migration</a>.</li>
    </ul>
  </li>
</ul>

<h1 id="version-24">Version 2.4</h1>

<blockquote>
  <p><strong>Important DTR Upgrade Information</strong>
If you have manifest lists enabled on any of your repositories:</p>

  <p>Upgrade path from 2.4.x to 2.5: Do not opt into garbage collection, or directly upgrade to 2.5.10 if you need to opt into &gt; garbage collection.
Upgrade path from 2.5.x to 2.6: Upgrade directly to 2.6.4.</p>
</blockquote>

<h2 id="2411">2.4.11</h2>

<p>(2019-4-11)</p>

<h3 id="changelog-4">Changelog</h3>

<ul>
  <li>Bump the Golang version that is used to build DTR to version 1.11.5. <a href="https://github.com/docker/dhe-deploy/pull/10155">docker/dhe-deploy#10155</a></li>
</ul>

<h2 id="2410">2.4.10</h2>

<p>(2019-2-28)</p>

<h3 id="changelog-5">Changelog</h3>

<ul>
  <li>Bump the Golang version that is used to build DTR to version 1.10.8. (docker/dhe-deploy#10068)</li>
</ul>

<p><strong>Known issues</strong></p>

<ul>
  <li>Backup uses too much memory and can cause out of memory issues for large databases.</li>
  <li>The <code class="highlighter-rouge">--nfs-storage-url</code> option uses the system’s default NFS version instead
of testing the server to find which version works.</li>
</ul>

<h2 id="version-248">Version 2.4.8</h2>

<p>(2019-01-29)</p>

<h3 id="changelog-6">Changelog</h3>
<ul>
  <li>GoLang version bump to 1.10.6.</li>
</ul>

<p><strong>Known issues</strong></p>

<ul>
  <li>Backup uses too much memory and can cause out of memory issues for large databases.</li>
  <li>The <code class="highlighter-rouge">--nfs-storage-url</code> option uses the system’s default NFS version instead
of testing the server to find which version works.</li>
</ul>

<h2 id="version-247">Version 2.4.7</h2>

<p>(2018-10-25)</p>

<h3 id="bug-fixes-14">Bug Fixes</h3>
<ul>
  <li>Added CSP (Content Security Policy). (docker/dhe-deploy#9367 and docker/dhe-deploy#9584)</li>
  <li>Fixed critical vulnerability in RethinkDB. (docker/dhe-deploy#9574)</li>
</ul>

<h3 id="changelog-7">Changelog</h3>
<ul>
  <li>Patched security vulnerabilities in the load balancer.</li>
  <li>Patch packages and base OS to eliminate and address some critical vulnerabilities in DTR dependencies.</li>
</ul>

<p><strong>Known issues</strong></p>

<ul>
  <li>Backup uses too much memory and can cause out of memory issues for large databases.</li>
  <li>The <code class="highlighter-rouge">--nfs-storage-url</code> option uses the system’s default NFS version instead
of testing the server to find which version works.</li>
</ul>

<h2 id="version-246">Version 2.4.6</h2>

<p>(2018-07-26)</p>

<h3 id="bug-fixes-15">Bug Fixes</h3>
<ul>
  <li>Fixed bug where repository tag list UI was not loading after a tag migration.</li>
  <li>The RethinkDB image has been patched to remove unused components with known vulnerabilities including the rethinkcli. To get an equivalent interface please run the rethinkcli from a separate image using <code class="highlighter-rouge">docker run -it --rm --net dtr-ol -v dtr-ca-$REPLICA_ID:/ca dockerhubenterprise/rethinkcli $REPLICA_ID</code>.</li>
</ul>

<p><strong>Known issues</strong></p>

<ul>
  <li>Backup uses too much memory and can cause out of memory issues for large databases.</li>
  <li>The <code class="highlighter-rouge">--nfs-storage-url</code> option uses the system’s default NFS version instead
of testing the server to find which version works.</li>
</ul>

<h2 id="version-245">Version 2.4.5</h2>

<p>(2018-06-21)</p>

<p><strong>New Features</strong></p>

<ul>
  <li>Allow users to adjust DTR log levels for alternative logging solutions.</li>
</ul>

<p><strong>Bug Fixes</strong></p>

<ul>
  <li>Prevent OOM during garbage collection by reading less data into memory at a time.</li>
</ul>

<p><strong>Known issues</strong></p>

<ul>
  <li>Backup uses too much memory and can cause out of memory issues for large databases.</li>
  <li>The <code class="highlighter-rouge">--nfs-storage-url</code> option uses the system’s default NFS version instead
of testing the server to find which version works.</li>
</ul>

<h2 id="version-244">Version 2.4.4</h2>

<p>(2018-05-17)</p>

<p><strong>New features</strong></p>

<ul>
  <li>Headers added to all API and registry responses to improve security (enforce HTST, XSS Protection, prevent MIME sniffing).</li>
</ul>

<p><strong>Bug fixes</strong></p>

<ul>
  <li>Fixed a problem that made pulling images from Google Cloud fail when DTR was configured to redirect requests.</li>
  <li>Remove a race condition in which repos deleted during tagmigration were causing tagmigration to fail.</li>
  <li>Reduce noise in the jobrunner logs by changing some of the more detailed messages to debug level.</li>
  <li>Eliminate a race condition in which webhook for license updates doesn’t fire.</li>
</ul>

<p><strong>Known issues</strong></p>

<ul>
  <li>Backup uses too much memory and can cause out of memory issues for large databases.</li>
  <li>The <code class="highlighter-rouge">--nfs-storage-url</code> option uses the system’s default NFS version instead
of testing the server to find which version works.</li>
</ul>

<h2 id="version-243">Version 2.4.3</h2>

<p>(2018-03-19)</p>

<p><strong>Security notice</strong></p>

<ul>
  <li>Dependencies updated to consume upstream CVE patches.</li>
</ul>

<h2 id="version-242">Version 2.4.2</h2>

<p>(2018-02-13)</p>

<p><strong>Security notice</strong></p>

<p>The log driver is now disabled for containers started by backup and HA cluster
join operations. This is a critical security fix for customers that rely on
Docker Trusted Registry 2.2, 2.3 and 2.4 with a log driver to capture logs from
all containers across the platform.</p>

<p>Caution is advised when applying this update, make sure you redeploy DTR, and in
the process you will create new credentials because the previous ones were
potentially disclosed due to the vulnerability.</p>

<p>Use the <code class="highlighter-rouge">--log-driver=none</code> option for <code class="highlighter-rouge">docker run</code> when running a DTR backup, HA
cluster join or dumpcerts.</p>

<h2 id="241">2.4.1</h2>

<p>(2017-11-20)</p>

<p><strong>Bug fixes</strong></p>

<ul>
  <li>Fixed a bug that cause certain vulnerabilities to not be found during scanning.</li>
  <li>Increased speed of lock expiration in case of failed joins.</li>
  <li>Fixed notification when toggling active status of webhooks.</li>
  <li>Speed up detection of dead jobrunners.</li>
  <li>Fixed a bug where garbage collection ran in a suboptimal mode if scheduled as
a cron from the UI.</li>
  <li>Fixed a potential issue with the way we untar files in uploads of the
vulnerability database.</li>
  <li>Fixed scanning issue with some windows images.</li>
  <li>Fixed a bug with not backing up repository team permissions correctly.</li>
</ul>

<p><strong>General improvements</strong></p>

<ul>
  <li>Improved resilience of garbage collection.</li>
  <li>Improved logging of garbage collection.</li>
  <li>Improved memory usage during backup.</li>
  <li>Improved error handling when uploading invalid vulnerability databases.</li>
  <li>Improve resilience of DTR join operations.</li>
  <li>Hide secrets on storage config pages.</li>
</ul>

<p><strong>Deprecations</strong></p>

<ul>
  <li>The <code class="highlighter-rouge">api/v0/imagescan/layer/{layerid}</code> endpoint is deprecated, and will be
removed in DTR 2.5. You can use the
<code class="highlighter-rouge">/api/v0/imagescan/repositories/{namespace}/{reponame}/{tag}</code> endpoint instead.</li>
</ul>

<p><strong>Known issues</strong></p>

<ul>
  <li>Backup uses too much memory and can cause out of memory issues for large databases.</li>
  <li>The <code class="highlighter-rouge">--nfs-storage-url</code> option uses the system’s default NFS version instead
of testing the server to find which version works.</li>
</ul>

<h2 id="dtr-240">DTR 2.4.0</h2>

<p>(2017-11-2)</p>

<p><strong>New features</strong></p>

<ul>
  <li>Upgraded to Swagger 2.0 and Swagger UI 3.0.</li>
  <li>DTR can now be deployed on IBM Z (s390x architecture).</li>
  <li>Updated the <code class="highlighter-rouge">docker/dtr-rethink</code> images to include <code class="highlighter-rouge">rethinkcli</code> for easier troubleshooting.</li>
  <li>Notary now allows you to see audit logs using the <code class="highlighter-rouge">/v2/_trust/changefeed</code>, and
<code class="highlighter-rouge">/v2/&lt;repository&gt;/_trust/changefeed</code> endpoints.</li>
</ul>

<p><strong>Bug fixes</strong></p>

<ul>
  <li>When setting up periodic garbage collection, it used to run in a different,
less thorough mode than when run manually. Now garbage collection always runs in
the correct mode.</li>
  <li>Fix error when garbage collecting manifest lists.</li>
  <li>Fixed issue when reconfiguring DTR from a non-local storage to NFS, causing the
change to not be persisted.</li>
  <li>Backported Docker Distribution race fix. <a href="https://github.com/docker/distribution/pull/2299">2299</a></li>
  <li>Reduced unnecessary logs in Jobrunner.</li>
  <li>Other general reliability improvements.</li>
</ul>

<p><strong>Known issues</strong></p>

<ul>
  <li>Backup uses too much memory and can cause out of memory issues for large databases.</li>
  <li>The <code class="highlighter-rouge">--nfs-storage-url</code> option uses the system’s default NFS version instead
of testing the server to find which version works.</li>
</ul>

<h2 id="earlier-versions">Earlier versions</h2>

<ul>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/dtr/2.3/guides/release-notes.md">DTR 2.3 release notes</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/dtr/2.2/guides/release-notes/index.md">DTR 2.2 release notes</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/dtr/2.1/guides/release-notes.md">DTR 2.1 release notes</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/dtr/2.0/release-notes/index.md">DTR 2.0 release notes</a></li>
</ul>

							<!-- tags -->
							
							
							
							<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=docker trusted registry">docker trusted registry</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=whats new">whats new</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=release notes">release notes</a></span>
							
							<!-- link corrections -->
              <script language="JavaScript">
							var x = document.links.length;
							var baseHref = document.getElementsByTagName('base')[0].href
							for (i = 0; i < x; i++) {
							  var munged = false;
							  var thisHREF = document.links[i].href;
							  var originalURL = "/ee/dtr/release-notes/";
							  if (thisHREF.indexOf(baseHref + "#") > -1) {
							    // hash fix
							    //console.log('BEFORE: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							    thisHREF = originalURL + thisHREF.replace(baseHref, "");
							    //console.log('AFTER: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							  }
							  if ((thisHREF.indexOf(window.location.hostname) > -1 || thisHREF.indexOf('http') == -1) && document.links[i].className.indexOf("nomunge") < 0) {
							    munged = true;
							    thisHREF = thisHREF.replace(".md", "/").replace("/index/", "/");
							    document.links[i].setAttribute('href', thisHREF);
							  }
							}
							</script>
							
						  <div id="ratings-div" style="color:#b9c2cc; text-align: center; margin-top: 150px; visibility: hidden">
								<div id="pd_rating_holder_8453675"></div>
								<script type="text/javascript">
									PDRTJS_settings_8453675 = {
										"id": "8453675",
										"unique_id": "ee/dtr/release-notes.md",
										"title": "DTR release notes",
										"permalink": "https://github.com/docker/docker.github.io/blob/master/ee/dtr/release-notes.md"
									};
									(function(d, c, j) {
										if (!document.getElementById(j)) {
											var pd = d.createElement(c),
												s;
											pd.id = j;
											pd.src = ('https:' == document.location.protocol) ? 'https://polldaddy.com/js/rating/rating.js' : 'http://i0.poll.fm/js/rating/rating.js';
											s = document.getElementsByTagName(c)[0];
											s.parentNode.insertBefore(pd, s);
										}
									}(document, 'script', 'pd-rating-js'));
								</script>
							</div>
							
						</section>
					</main>
					<nav class="col-nav">
						<div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
						<div id="navbar" class="nav-sidebar">
    <ul class="nav" id="jsTOCLeftNav">
    </ul>
</div>

						</div>
					</nav>
					<div class="col-toc">
							<div class="sidebar hidden-xs hidden-sm">
							<div class="toc-nav">
								<div class="feedback-links">
									<ul>
										
										<li style="visibility: hidden"><a href="https://github.com/zembutsu/docs.docker.jp/edit/master/ee/dtr/release-notes.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> このページの編集</a></li>
										<li><a href="https://github.com/zembutsu/docs.docker.jp/issues/new?body=File: [ee/dtr/release-notes.md](https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/release-notes/)"
															class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 文書変更のリクエスト</a></li>
										<li><a href="https://success.docker.com/support"><i class="fa fa-question" aria-hidden="true"></i> サポート依頼</a></li>
										<!-- toggle mode -->
										<li>
											<div class="toggle-mode">
												<div class="icon">
													<i class="fa fa-sun-o" aria-hidden="true"></i>
												</div>
												<div class="toggle-switch">
													<label class="switch">
														<input type="checkbox" id="switch-style">
														<div class="slider round"></div>
												</label>
												</div>
												<div class="icon">
													<i class="fa fa-moon-o" aria-hidden="true"></i>
												</div>
											</div>
										</li>
									</ul>
								</div>
								   
									<div id="side-toc-title">本ページ内</div>
									
<ul id="my_toc" class="inline_toc">
  <li><a href="#version-26" class="nomunge">Version 2.6</a>
    <ul>
      <li><a href="#265" class="nomunge">2.6.5</a></li>
      <li><a href="#264" class="nomunge">2.6.4</a></li>
      <li><a href="#263" class="nomunge">2.6.3</a></li>
      <li><a href="#262" class="nomunge">2.6.2</a></li>
      <li><a href="#261" class="nomunge">2.6.1</a></li>
      <li><a href="#260" class="nomunge">2.6.0</a></li>
    </ul>
  </li>
  <li><a href="#version-25" class="nomunge">Version 2.5</a>
    <ul>
      <li><a href="#2510" class="nomunge">2.5.10</a></li>
      <li><a href="#259" class="nomunge">2.5.9</a></li>
      <li><a href="#258" class="nomunge">2.5.8</a></li>
      <li><a href="#257" class="nomunge">2.5.7</a></li>
      <li><a href="#256" class="nomunge">2.5.6</a></li>
      <li><a href="#255" class="nomunge">2.5.5</a></li>
      <li><a href="#253" class="nomunge">2.5.3</a></li>
      <li><a href="#252" class="nomunge">2.5.2</a></li>
      <li><a href="#251" class="nomunge">2.5.1</a></li>
      <li><a href="#250" class="nomunge">2.5.0</a></li>
    </ul>
  </li>
  <li><a href="#version-24" class="nomunge">Version 2.4</a>
    <ul>
      <li><a href="#2411" class="nomunge">2.4.11</a></li>
      <li><a href="#2410" class="nomunge">2.4.10</a></li>
      <li><a href="#version-248" class="nomunge">Version 2.4.8</a></li>
      <li><a href="#version-247" class="nomunge">Version 2.4.7</a></li>
      <li><a href="#version-246" class="nomunge">Version 2.4.6</a></li>
      <li><a href="#version-245" class="nomunge">Version 2.4.5</a></li>
      <li><a href="#version-244" class="nomunge">Version 2.4.4</a></li>
      <li><a href="#version-243" class="nomunge">Version 2.4.3</a></li>
      <li><a href="#version-242" class="nomunge">Version 2.4.2</a></li>
      <li><a href="#241" class="nomunge">2.4.1</a></li>
      <li><a href="#dtr-240" class="nomunge">DTR 2.4.0</a></li>
      <li><a href="#earlier-versions" class="nomunge">Earlier versions</a></li>
    </ul>
  </li>
</ul>


								</div>
								
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	
	<footer class="footer">
		  
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/what-docker">What is Docker</a></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container</a></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners/partner-program">Partners</a></li>
                        <li class="break"><a href="https://www.docker.com/industry-government">For Government</a></li>
                        <li><a href="https://www.docker.com/company">About Docker</a></li>
                        <li><a href="https://www.docker.com/company/management">Management</a></li>
                        <li><a href="https://www.docker.com/company/news-and-press">Press &amp; News</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/products/overview">Product</a></li>
                        <li><a href="https://www.docker.com/pricing">Pricing</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community Edition</a></li>
                        <li class="break"><a href="https://www.docker.com/enterprise">Enterprise Edition </a></li>
                        <li><a href="https://www.docker.com/products/docker-datacenter">Docker Datacenter</a></li>
                        <li><a href="https://hub.docker.com/">Docker Hub</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/">Documentation</a></li>
                        <li><a href="https://www.docker.com/docker">Learn</a></li>
                        <li><a href="https://blog.docker.com" target="_blank">Blog</a></li>
                        <li><a href="https://engineering.docker.com" target="_blank">Engineering Blog</a></li>
                        <li><a href="https://training.docker.com/" target="_blank">Training</a></li>
                        <li><a href="https://success.docker.com/support">Support</a></li>
                        <li><a href="https://success.docker.com/kbase">Knowledge Base</a></li>
                        <li><a href="https://www.docker.com/products/resources">Resources</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/technologies/overview">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/events">Events</a></li>
                        <li><a href="https://forums.docker.com/" target="_blank">Forums</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                        <li><a href="https://www.docker.com/docker-community/scholarships">Scholarships</a></li>
                        <li><a href="https://blog.docker.com/curated/">Community News</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/docker-security">Security</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2019 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-google-plus"><a href="https://plus.google.com/u/0/communities/108146856671494713993">Google</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker/docker">Github</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-reddit"><a href="http://www.reddit.com/r/docker">Reddit</a></li>
                    <li class="fa fa-slideshare"><a href="http://www.slideshare.net/docker">Slideshare</a></li>
                </ul>
            </div>
        </div>
    </div>

	</footer>
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/github.css">
	
	<!-- <script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/anchorlinks.js"></script> -->
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/menu.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/jquery.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
	<!-- Always include the archive.js, but it doesn't do much unless we are an archive -->
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v18.09';
	// In archives, we need to know the page root and we get it from JEKYLL_ENV in the jekyll build command
	var jekyllEnv = 'development';
	// If unset (in non-archive branches), defaults to "development". In that case, reset it to empty
	if (jekyllEnv == 'development') {
		jekyllEnv = '';
	}
	var pageURL = jekyllEnv + '/ee/dtr/release-notes/';
	</script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/archive.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/stickyfill.min.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/metadata.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/glossary.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/collections_tocs.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/docs.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/toc.js"></script>
	<script language="javascript">
	jQuery(document).ready(function(){
				hookupTOCEvents();
			});
	</script>
</body>

</html>
