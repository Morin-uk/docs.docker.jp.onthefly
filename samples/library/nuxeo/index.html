<!-- Page generated 2020-04-09 21:14:21 +0900 -->
<!-- relative link basehrefs -->

	


<!-- Logic for 'edit this button' -->


	

	

	

	

	

	

	

	


<!-- End of logic for 'edit this button' -->


<!DOCTYPE html>
<html lang="ja">

<head>
	<base href="/docs.docker.jp.onthefly/samples/library/nuxeo/" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<style type="text/css">
		@charset "UTF-8";
		[ng\:cloak],
		[ng-cloak],
		[data-ng-cloak],
		[x-ng-cloak],
		.ng-cloak,
		.x-ng-cloak,
		.ng-hide:not(.ng-hide-animate) {
			display: none !important;
		}

		ng\:form {
			display: block;
		}
	</style>
	<!-- Google Tag Manager -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-WL2QLG5');</script>
	<!-- End Google Tag Manager -->
	
	<!-- favicon -->
	<link rel="icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta name="msapplication-TileImage" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico">
	<link rel="apple-touch-icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta property="og:image" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
	<!-- metadata -->
	<meta property="og:type" content="website"/>
	<meta property="og:updated_time" itemprop="dateUpdated" content="2020-04-09T21:14:21+09:00"/>
	<meta property="og:image" itemprop="image primaryImageOfPage" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:card" content="summary"/>
	<meta name="twitter:domain" content="docs.docker.jp"/>
	<meta name="twitter:site" content="@docker_docs"/>
	<meta name="twitter:url" content="https://twitter.com/docker_docs"/>
	<meta name="twitter:title" itemprop="title name" content="nuxeo"/>
	<meta name="twitter:description" property="og:description" itemprop="description" content="Nuxeo is an open source Content Management Platform that is completely customizable. GitHub repo: https://github.com/nuxeo/docker-nuxeo Library reference This content is imported from the official Docker Library docs, and is provided..." />
	<meta name="twitter:image:src" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:image:alt" content="Docker ドキュメント"/>
	<meta property="article:published_time" itemprop="datePublished" content="2020-04-09T21:14:21+09:00"/>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="keywords" content="library, sample, nuxeo">
	<link rel="stylesheet" href="/docs.docker.jp.onthefly/css/font-awesome.min.css">
	<link rel="stylesheet" href="/docs.docker.jp.onthefly/css/bootstrap.min.css">
	<link id="pygments" rel="stylesheet" href="/docs.docker.jp.onthefly/css/pygments/perldoc.css">
	<link id="pagestyle" rel="stylesheet" href="/docs.docker.jp.onthefly/css/style.css">

	<!-- Go get "Open Sans" font from Google -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
	<!-- SEO stuff -->
	<title>nuxeo | Docker ドキュメント</title>
<meta property="og:title" content="nuxeo" />
<meta property="og:locale" content="ja_JP" />
<meta name="description" content="Nuxeo is an open source Content Management Platform that is completely customizable.
" />
<meta property="og:description" content="Nuxeo is an open source Content Management Platform that is completely customizable.
" />
<link rel="canonical" href="/docs.docker.jp.onthefly/samples/library/nuxeo/" />
<meta property="og:url" content="https://matsuand.github.io/docs.docker.jp.onthefly/samples/library/nuxeo/" />
<meta property="og:site_name" content="Docker ドキュメント" />
<script type="application/ld+json">
{"@context":"http://schema.org","@type":"WebPage","headline":"nuxeo","description":"Nuxeo is an open source Content Management Platform that is completely customizable.
","url":"https://matsuand.github.io/docs.docker.jp.onthefly/samples/library/nuxeo/"}</script>
	<!-- END SEO STUFF -->
	
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v19.03';
	</script>
</head>
<body ng-app="Docker" ng-controller="DockerController" class="colums">
	<header>
		 <nav class="nav-secondary navbar navbar-fixed-top">
    <!-- <div class="fan"></div> -->
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="/docs.docker.jp.onthefly/"><img class="logo" src="/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs"></a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="search-form" id="search-div" style="visibility: hidden">
    <form class="search-form form-inline ng-pristine ng-valid" id="searchForm" action="/docs.docker.jp.onthefly/search/">
        <input class="search-field form-control ds-input" id="st-search-input" value="" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteContainer">
            <div id="autocompleteResults"></div>
        </div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container">
    <div id="tabs">
        <ul class="tabs" id="jsTOCHorizontal">

        </ul>
    </div>
    <div class="ctrl-right hidden-xs hidden-sm">
        <a href="javascript:void(0)" id="menu-toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
        <div class="btn-group" style="visibility: hidden">
  <button type="button" class="btn btn-default dropdown-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Docker v19.03 (current)     <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
    <li><a href="/docs.docker.jp.onthefly/v18.09/">Docker v18.09</a></li><li><a href="/docs.docker.jp.onthefly/v18.03/">Docker v18.03</a></li><li><a href="/docs.docker.jp.onthefly/v17.06/">Docker v17.06</a></li>
  </ul>
</div>

    </div>
</div>

        </div>
    </div>
</nav>

	</header>

	<div class="wrapper right-open">
		<div class="container-fluid">
			<div class="row">
				<div class="col-body">
					<main class="col-content content">
						<section class="section">
							
								
							<h1>nuxeo</h1>  <span class="reading-time" title="Estimated reading time">
  <span class="reading-time-label">読む時間の目安: </span>
  
  
    8 分
  
</span>

							
							
							<p>Nuxeo is an open source Content Management Platform that is completely customizable.</p>

<p>GitHub repo: <a href="https://github.com/nuxeo/docker-nuxeo">https://github.com/nuxeo/docker-nuxeo</a></p>

<blockquote>
  <p><strong>Library reference</strong></p>

  <p>This content is imported from
<a href="https://github.com/docker-library/docs/tree/master/nuxeo/">the official Docker Library docs</a>,
and is provided by the original uploader. You can view the Docker Hub page for this image at
<a href="https://hub.docker.com/images/nuxeo">https://hub.docker.com/images/nuxeo</a></p>
</blockquote>

<!-- content begin -->

<!--

********************************************************************************

WARNING:

    DO NOT EDIT "nuxeo/README.md"

    IT IS AUTO-GENERATED

    (from the other files in "nuxeo/" combined with a set of templates)

********************************************************************************

-->

<h1 id="supported-tags-and-respective-dockerfile-links">Supported tags and respective <code class="highlighter-rouge">Dockerfile</code> links</h1>

<ul>
  <li><a href="https://github.com/nuxeo/docker-nuxeo/blob/f253a2398dbc39b42ca6ff84f2adeda8c1e8287e/7.10/Dockerfile"><code class="highlighter-rouge">7.10</code>, <code class="highlighter-rouge">7</code>, <code class="highlighter-rouge">LTS-2015</code></a></li>
  <li><a href="https://github.com/nuxeo/docker-nuxeo/blob/f253a2398dbc39b42ca6ff84f2adeda8c1e8287e/8.10/Dockerfile"><code class="highlighter-rouge">8.10</code>, <code class="highlighter-rouge">8</code>, <code class="highlighter-rouge">LTS-2016</code></a></li>
  <li><a href="https://github.com/nuxeo/docker-nuxeo/blob/f253a2398dbc39b42ca6ff84f2adeda8c1e8287e/9.10/Dockerfile"><code class="highlighter-rouge">9.10</code>, <code class="highlighter-rouge">9</code>, <code class="highlighter-rouge">LTS-2017</code></a></li>
  <li><a href="https://github.com/nuxeo/docker-nuxeo/blob/f253a2398dbc39b42ca6ff84f2adeda8c1e8287e/10.10/Dockerfile"><code class="highlighter-rouge">10.10</code>, <code class="highlighter-rouge">10</code>, <code class="highlighter-rouge">LTS-2019</code>, <code class="highlighter-rouge">LTS</code>, <code class="highlighter-rouge">FT</code>, <code class="highlighter-rouge">latest</code></a></li>
</ul>

<h1 id="quick-reference">Quick reference</h1>

<ul>
  <li>
    <p><strong>Where to get help</strong>:<br />
<a href="https://forums.docker.com/">the Docker Community Forums</a>, <a href="https://blog.docker.com/2016/11/introducing-docker-community-directory-docker-community-slack/">the Docker Community Slack</a>, or <a href="https://stackoverflow.com/search?tab=newest&amp;q=docker">Stack Overflow</a></p>
  </li>
  <li>
    <p><strong>Where to file issues</strong>:<br />
<a href="https://github.com/nuxeo/docker-nuxeo/issues">https://github.com/nuxeo/docker-nuxeo/issues</a></p>
  </li>
  <li>
    <p><strong>Maintained by</strong>:<br />
<a href="https://github.com/nuxeo/docker-nuxeo">Nuxeo</a></p>
  </li>
  <li>
    <p><strong>Supported architectures</strong>: (<a href="https://github.com/docker-library/official-images#architectures-other-than-amd64">more info</a>)<br />
<a href="https://hub.docker.com/r/amd64/nuxeo/"><code class="highlighter-rouge">amd64</code></a></p>
  </li>
  <li>
    <p><strong>Published image artifact details</strong>:<br />
<a href="https://github.com/docker-library/repo-info/blob/master/repos/nuxeo">repo-info repo’s <code class="highlighter-rouge">repos/nuxeo/</code> directory</a> (<a href="https://github.com/docker-library/repo-info/commits/master/repos/nuxeo">history</a>)<br />
(image metadata, transfer size, etc)</p>
  </li>
  <li>
    <p><strong>Image updates</strong>:<br />
<a href="https://github.com/docker-library/official-images/pulls?q=label%3Alibrary%2Fnuxeo">official-images PRs with label <code class="highlighter-rouge">library/nuxeo</code></a><br />
<a href="https://github.com/docker-library/official-images/blob/master/library/nuxeo">official-images repo’s <code class="highlighter-rouge">library/nuxeo</code> file</a> (<a href="https://github.com/docker-library/official-images/commits/master/library/nuxeo">history</a>)</p>
  </li>
  <li>
    <p><strong>Source of this description</strong>:<br />
<a href="https://github.com/docker-library/docs/tree/master/nuxeo">docs repo’s <code class="highlighter-rouge">nuxeo/</code> directory</a> (<a href="https://github.com/docker-library/docs/commits/master/nuxeo">history</a>)</p>
  </li>
</ul>

<h1 id="what-is-nuxeo-">What is Nuxeo ?</h1>

<p>The Nuxeo Platform is a highly customizable and extensible content management platform for building business applications.</p>

<p><img src="https://raw.githubusercontent.com/docker-library/docs/6538ea62bab8b051d0556c689c113202d48089ed/nuxeo/logo.png" alt="logo" /></p>

<h1 id="how-to-use-this-image">How to use this image</h1>

<h2 id="start-a-bare-nuxeo-instance">Start a bare nuxeo instance</h2>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker run <span class="nt">--name</span> mynuxeo <span class="nt">-p</span> 8080:8080 <span class="nt">-d</span> nuxeo
</code></pre></div></div>

<p>This image includes <code class="highlighter-rouge">EXPOSE 8080</code> (the nuxeo port). The default Nuxeo configuration is applied which feature an embedded database (H2), and an embedded Elasticsearch instance. This setup is not suitable for production. See below to know how to setup a production ready container by specifying environment variables.</p>

<p>The Nuxeo platform is accesible at http://${DOCKER_HOST}:8080/ and default User and Password are Administrator/Administrator.</p>

<h2 id="start-a-nuxeo-with-some-additional-packages">Start a nuxeo with some additional packages</h2>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker run <span class="nt">--name</span> mynuxeo <span class="nt">--rm</span> <span class="nt">-ti</span> <span class="nt">-p</span> 8080:8080 <span class="nt">-e</span> <span class="nv">NUXEO_PACKAGES</span><span class="o">=</span><span class="s2">"nuxeo-web-ui nuxeo-dam nuxeo-drive nuxeo-showcase-content nuxeo-template-rendering nuxeo-template-rendering-samples nuxeo-spreadsheet"</span> nuxeo
</code></pre></div></div>

<p>This will install the same image as above but comes with some demo Nuxeo packages to demonstrate its various usage (DAM, DM, search etc...)</p>

<p>You can find additional informations on how to use this image in <a href="https://doc.nuxeo.com/nxdoc/setting-up-your-nuxeo-environment/">Nuxeo documentation</a></p>

<h2 id="environment-variables">Environment Variables</h2>

<p>The Nuxeo image uses several environment variable that allow to specify a more specific setup.</p>

<h3 id="nuxeo_db_type"><code class="highlighter-rouge">NUXEO_DB_TYPE</code></h3>

<p>This defines the database type to use. By default it sets an H2 embedded database that is suitable for test purpose only. When specifying a DB type, other variable mays help :</p>

<ul>
  <li><code class="highlighter-rouge">NUXEO_DB_HOST</code> : If <code class="highlighter-rouge">NUXEO_DB_TYPE</code> is defined, this variable is mandatory and has to point to the DB server host.</li>
  <li><code class="highlighter-rouge">NUXEO_DB_NAME</code> : name of the database to use (<code class="highlighter-rouge">nuxeo</code> by default)</li>
  <li><code class="highlighter-rouge">NUXEO_DB_USER</code> : user to connect to the database (<code class="highlighter-rouge">nuxeo</code> by default)</li>
  <li><code class="highlighter-rouge">NUXEO_DB_PASSWORD</code> : the password to connect to the database (<code class="highlighter-rouge">nuxeo</code> by default)</li>
</ul>

<h3 id="nuxeo_templates"><code class="highlighter-rouge">NUXEO_TEMPLATES</code></h3>

<p>This variables allows to add additional <a href="https://doc.nuxeo.com/x/0AB9">Nuxeo configuration templates</a> in the <code class="highlighter-rouge">nuxeo.templates</code> configuration variable.</p>

<h3 id="nuxeo_es_hosts"><code class="highlighter-rouge">NUXEO_ES_HOSTS</code></h3>

<p>This variables allows to setup an external Elasticsearch cluster. Use a comma separated list of Elasticsearch hosts with the 9300 port. Additional environment vars may be setup like :</p>

<ul>
  <li><code class="highlighter-rouge">NUXEO_ES_CLUSTER_NAME</code> : name of the Elasticsearch cluster to join</li>
  <li><code class="highlighter-rouge">NUXEO_ES_INDEX_NAME</code>: name of the index (<code class="highlighter-rouge">nuxeo</code> by default)</li>
  <li><code class="highlighter-rouge">NUXEO_ES_REPLICAS</code> : number or replicas (<code class="highlighter-rouge">1</code> by default). If not 0, it means that your ES cluster must have enough node to fullfill the replicas setup.</li>
  <li><code class="highlighter-rouge">NUXEO_ES_SHARDS</code> : number or shards (<code class="highlighter-rouge">5</code> by default).</li>
</ul>

<p>For instance :</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NUXEO_ES_HOSTS=es1:9300,es2:9300
NUXEO_ES_CLUSTER_NAME=dockerCluster
NUXEO_ES_INDEX_NAME=nuxeo1
NUXEO_ES_REPLICAS=0
NUXEO_ES_SHARDS=5
</code></pre></div></div>

<h3 id="nuxeo_redis_host"><code class="highlighter-rouge">NUXEO_REDIS_HOST</code></h3>

<p>In order to use Redis, just set up this variable to the Redis host address.</p>

<h3 id="nuxeo_redis_port"><code class="highlighter-rouge">NUXEO_REDIS_PORT</code></h3>

<p>If Redis is setup, you can ovewrite the default port configuration (default to 6379)</p>

<h3 id="nuxeo_clid"><code class="highlighter-rouge">NUXEO_CLID</code></h3>

<p>Allow to setup a CLID for Nuxeo Connect registration. This parameter is in the form <code class="highlighter-rouge">part1\npart2</code>, so depending on the environment you may have to escape the <code class="highlighter-rouge">\</code> character.</p>

<p>You can find additional informations the registration process in the <a href="https://doc.nuxeo.com/nxdoc/setting-up-your-nuxeo-environment/">Nuxeo documentation</a></p>

<h3 id="nuxeo_install_hotfix"><code class="highlighter-rouge">NUXEO_INSTALL_HOTFIX</code></h3>

<p>This launch the install of latest Hotfixes. (<code class="highlighter-rouge">true</code> by default, but needs a <code class="highlighter-rouge">NUXEO_CLID</code> to be setup)</p>

<h3 id="nuxeo_packages"><code class="highlighter-rouge">NUXEO_PACKAGES</code></h3>

<p>Allows to install <a href="https://doc.nuxeo.com/x/aAfF">Nuxeo packages</a> at startup.</p>

<h3 id="nuxeo_url"><code class="highlighter-rouge">NUXEO_URL</code></h3>

<p>This variable sets the URL where your Nuxeo instance will be joinable. It’s used for instance to refer to it when sending server’s address in mails.</p>

<h3 id="nuxeo_data"><code class="highlighter-rouge">NUXEO_DATA</code></h3>

<p>Location of the Nuxeo data directory. (<code class="highlighter-rouge">/var/lib/nuxeo/data</code> by default). You will likely customize NUXEO_DATA to map it on docker volume so data like binaries stay persistent.</p>

<h3 id="nuxeo_log"><code class="highlighter-rouge">NUXEO_LOG</code></h3>

<p>Location of the Nuxeo log directory. (<code class="highlighter-rouge">/var/log/nuxeo</code> by default)</p>

<h3 id="nuxeo_automation_trace"><code class="highlighter-rouge">NUXEO_AUTOMATION_TRACE</code></h3>

<p>If set to “true”, this will enable the <a href="https://doc.nuxeo.com/display/NXDOC/Automation+Tracing">automation trace mode</a>.</p>

<h3 id="nuxeo_dev_mode"><code class="highlighter-rouge">NUXEO_DEV_MODE</code></h3>

<p>If set to “true”, this will enable the development mode that will allow <a href="https://doc.nuxeo.com/display/CORG/Supporting+Hot+Reload">hot reload</a> when developing with <a href="http://www.nuxeo.com/products/studio/">Nuxeo Studio</a>.</p>

<h3 id="nuxeo_binary_store"><code class="highlighter-rouge">NUXEO_BINARY_STORE</code></h3>

<p>Tells the location of the binary store which configure the <a href="https://doc.nuxeo.com/x/fYYZAQ">binary storage</a></p>

<h3 id="nuxeo_transient_store"><code class="highlighter-rouge">NUXEO_TRANSIENT_STORE</code></h3>

<p>Tells the location of <a href="http://doc.nuxeo.com/display/NXDOC/Transient+Store">the transient storage</a></p>

<h3 id="nuxeo_ddl_mode"><code class="highlighter-rouge">NUXEO_DDL_MODE</code></h3>

<p>Allows to setup <a href="https://doc.nuxeo.com/x/hwQz#RepositoryConfiguration-DatabaseCreationOption">Database creation option</a> by fixing the <code class="highlighter-rouge">ddlMode</code> value.</p>

<h3 id="nuxeo_custom_param"><code class="highlighter-rouge">NUXEO_CUSTOM_PARAM</code></h3>

<p>Allows to add custom parameters to <code class="highlighter-rouge">nuxeo.conf</code>. Multiple parameters can be splitted by a <code class="highlighter-rouge">\n</code>. For instance:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NUXEO_CUSTOM_PARAM="repository.clustering.enabled=false\nrepository.clustering.delay=1000"
</code></pre></div></div>

<h1 id="how-to-extend-this-image">How to extend this image</h1>

<h2 id="adding-additional-configuration">Adding additional configuration</h2>

<p>If you would like to do additional setup in an image derived from this one, you can add a <code class="highlighter-rouge">/docker-entrypoint-initnuxeo.d/nuxeo.conf</code> file that will be appended to the end of the regular <code class="highlighter-rouge">nuxeo.conf</code> file.</p>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">FROM</span><span class="s"> nuxeo:7.10</span>
<span class="k">COPY</span><span class="s"> nuxeo.conf /docker-entrypoint-initnuxeo.d/nuxeo.conf</span>
</code></pre></div></div>

<p>If you need a root account to run some installation steps in your <code class="highlighter-rouge">Dockerfile</code>, then you need to put those steps between two <code class="highlighter-rouge">USER</code> command as the image is run with the user <code class="highlighter-rouge">1000</code> (nuxeo). For instance:</p>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">FROM</span><span class="s"> nuxeo:LTS</span>
<span class="k">USER</span><span class="s"> root</span>
<span class="k">RUN </span>apt-get update <span class="o">&amp;&amp;</span> apt-get install <span class="nt">-y</span> <span class="nt">--no-install-recommends</span> vim
<span class="k">USER</span><span class="s"> 1000</span>
</code></pre></div></div>

<h2 id="launching-custom-shell-scripts">Launching custom shell scripts</h2>

<p>You can add your own shell scripts in a special <code class="highlighter-rouge">/docker-entrypoint-initnuxeo.d</code> directory. When ending in <code class="highlighter-rouge">.sh</code>, they will be run on default entrypoint startup.</p>

<h2 id="ffmpeg">ffmpeg</h2>

<p>As it contains some non-free Codecs, we dont’t ship a binary version of <code class="highlighter-rouge">ffmpeg</code> as part of this image. However, you can simply add the compilation in a derived images by adding these lines to your Dockerfile.</p>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">FROM</span><span class="s"> nuxeo:7.10</span>

<span class="k">USER</span><span class="s"> root</span>

<span class="k">RUN </span><span class="nb">echo</span> <span class="s2">"deb http://httpredir.debian.org/debian jessie non-free"</span> <span class="o">&gt;&gt;</span> /etc/apt/sources.list
<span class="k">RUN </span>apt-get update <span class="o">&amp;&amp;</span> apt-get install <span class="nt">-y</span> <span class="nt">--no-install-recommends</span> libfaac-dev git

<span class="k">WORKDIR</span><span class="s"> /tmp</span>
<span class="c"># Build ffmpeg</span>
<span class="k">ENV</span><span class="s"> BUILD_YASM true</span>
<span class="k">ENV</span><span class="s"> LIBFAAC true</span>
<span class="k">RUN </span>git clone https://github.com/nuxeo/ffmpeg-nuxeo.git
<span class="k">WORKDIR</span><span class="s"> ffmpeg-nuxeo</span>
<span class="k">RUN </span>./prepare-packages.sh <span class="se">\
</span> <span class="o">&amp;&amp;</span> ./build-yasm.sh <span class="se">\
</span> <span class="o">&amp;&amp;</span> ./build-x264.sh <span class="se">\
</span> <span class="o">&amp;&amp;</span> ./build-libvpx.sh <span class="se">\
</span> <span class="o">&amp;&amp;</span> ./build-ffmpeg.sh <span class="se">\
</span> <span class="o">&amp;&amp;</span> <span class="nb">cd</span> /tmp <span class="se">\
</span> <span class="o">&amp;&amp;</span> rm <span class="nt">-Rf</span> ffmpeg-nuxeo <span class="se">\
</span> <span class="o">&amp;&amp;</span> rm <span class="nt">-rf</span> /var/lib/apt/lists/<span class="k">*</span>

<span class="k">USER</span><span class="s"> 1000</span>
</code></pre></div></div>

<h2 id="using-oracle-jvm">Using Oracle JVM</h2>

<p>For the same reasons as <code class="highlighter-rouge">ffmpeg</code> we don’t ship the Oracle JVM and rely by default on OpenJDK. If you want to use the Hotspot JVM you cans add the following lines in a derived Dockerfile</p>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">RUN </span>apt-get remove <span class="nt">-y</span> <span class="nt">--purge</span> openjdk-8-jdk <span class="se">\
</span>  <span class="o">&amp;&amp;</span> add-apt-repository <span class="nt">-y</span> ppa:webupd8team/java <span class="o">&amp;&amp;</span> apt-get update <span class="se">\
</span>  <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">"debconf shared/accepted-oracle-license-v1-1 select true"</span> | debconf-set-selections <span class="se">\
</span>  <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">"debconf shared/accepted-oracle-license-v1-1 seen true"</span> | debconf-set-selections <span class="se">\
</span>  <span class="o">&amp;&amp;</span> apt-get install <span class="nt">-y</span> oracle-java8-installer <span class="se">\
</span>  <span class="o">&amp;&amp;</span> rm <span class="nt">-rf</span> /var/lib/apt/lists/<span class="k">*</span>
</code></pre></div></div>

<h2 id="why-is-this-images-so-big-">Why is this images so big ?</h2>

<p>This image is big because it contains a lot of features. The nuxeo distribution itself is about 250M and in order to make cool things work like generating thumbnails or converting document to PDF we need some additional tools that are bundled in the image. We hope that in the future we will be able to delegate those conversions to external services that would be bundled as additional docker images.</p>

<h1 id="license">License</h1>

<p>View <a href="http://doc.nuxeo.com/x/gIK7">license information</a> for the software contained in this image.</p>

<p>As with all Docker images, these likely also contain other software which may be under other licenses (such as Bash, etc from the base distribution, along with any direct or indirect dependencies of the primary software being contained).</p>

<p>Some additional license information which was able to be auto-detected might be found in <a href="https://github.com/docker-library/repo-info/tree/master/repos/nuxeo">the <code class="highlighter-rouge">repo-info</code> repository’s <code class="highlighter-rouge">nuxeo/</code> directory</a>.</p>

<p>As for any pre-built image usage, it is the image user’s responsibility to ensure that any use of this image complies with any relevant licenses for all software contained within.</p>


							<!-- tags -->
							
							<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="https://matsuand.github.io/docs.docker.jp.onthefly/search/?q=library">library</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/search/?q=sample">sample</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/search/?q=nuxeo">nuxeo</a></span>
							
							<!-- link corrections -->
              <script language="JavaScript">
							var x = document.links.length;
							var baseHref = document.getElementsByTagName('base')[0].href
							for (i = 0; i < x; i++) {
							  var munged = false;
							  var thisHREF = document.links[i].href;
							  var originalURL = "/samples/library/nuxeo/";
							  if (thisHREF.indexOf(baseHref + "#") > -1) {
							    // hash fix
							    //console.log('BEFORE: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							    thisHREF = originalURL + thisHREF.replace(baseHref, "");
							    //console.log('AFTER: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							  }
							  if ((thisHREF.indexOf(window.location.hostname) > -1 || thisHREF.indexOf('http') == -1) && document.links[i].className.indexOf("nomunge") < 0) {
							    munged = true;
							    thisHREF = thisHREF.replace(".md", "/").replace("/index/", "/");
							    document.links[i].setAttribute('href', thisHREF);
							  }
							}
							</script>
							
						  <div id="ratings-div" style="color:#b9c2cc; text-align: center; margin-top: 150px; visibility: hidden">
								<div id="pd_rating_holder_8453675"></div>
								<script type="text/javascript">
									PDRTJS_settings_8453675 = {
										"id": "8453675",
										"unique_id": "_samples/library/nuxeo/index.md",
										"title": "nuxeo",
										"permalink": "https://github.com/docker/docker.github.io/blob/master/_samples/library/nuxeo/index.md"
									};
									(function(d, c, j) {
										if (!document.getElementById(j)) {
											var pd = d.createElement(c),
												s;
											pd.id = j;
											pd.src = ('https:' == document.location.protocol) ? 'https://polldaddy.com/js/rating/rating.js' : 'http://i0.poll.fm/js/rating/rating.js';
											s = document.getElementsByTagName(c)[0];
											s.parentNode.insertBefore(pd, s);
										}
									}(document, 'script', 'pd-rating-js'));
								</script>
							</div>
							
						</section>
					</main>
					<nav class="col-nav">
						<div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
						<div id="navbar" class="nav-sidebar">
    <ul class="nav" id="jsTOCLeftNav">
    </ul>
</div>

						</div>
					</nav>
					<div class="col-toc">
							<div class="sidebar hidden-xs hidden-sm">
							<div class="toc-nav">
								<div class="feedback-links">
									<ul>
										
										<li style="visibility: hidden"><a href="https://github.com/matsuand/docs.docker.jp/edit/v19.03.local/_samples/library/nuxeo/index.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> このページの編集</a></li>
										<li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/issues/new?body=File: [_samples/library/nuxeo/index.md](https://matsuand.github.io/docs.docker.jp.onthefly/samples/library/nuxeo/)"
															class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 文書変更のリクエスト</a></li>
										<!-- toggle mode -->
										<li>
											<div class="toggle-mode">
												<div class="icon">
													<i class="fa fa-sun-o" aria-hidden="true"></i>
												</div>
												<div class="toggle-switch">
													<label class="switch">
														<input type="checkbox" id="switch-style">
														<div class="slider round"></div>
												</label>
												</div>
												<div class="icon">
													<i class="fa fa-moon-o" aria-hidden="true"></i>
												</div>
											</div>
										</li>
									</ul>
								</div>
								   
									<div id="side-toc-title">本ページ内</div>
									
<ul id="my_toc" class="inline_toc">
  <li><a href="#start-a-bare-nuxeo-instance" class="nomunge">Start a bare nuxeo instance</a></li>
  <li><a href="#start-a-nuxeo-with-some-additional-packages" class="nomunge">Start a nuxeo with some additional packages</a></li>
  <li><a href="#environment-variables" class="nomunge">Environment Variables</a>
    <ul>
      <li><a href="#nuxeo_db_type" class="nomunge">NUXEO_DB_TYPE</a></li>
      <li><a href="#nuxeo_templates" class="nomunge">NUXEO_TEMPLATES</a></li>
      <li><a href="#nuxeo_es_hosts" class="nomunge">NUXEO_ES_HOSTS</a></li>
      <li><a href="#nuxeo_redis_host" class="nomunge">NUXEO_REDIS_HOST</a></li>
      <li><a href="#nuxeo_redis_port" class="nomunge">NUXEO_REDIS_PORT</a></li>
      <li><a href="#nuxeo_clid" class="nomunge">NUXEO_CLID</a></li>
      <li><a href="#nuxeo_install_hotfix" class="nomunge">NUXEO_INSTALL_HOTFIX</a></li>
      <li><a href="#nuxeo_packages" class="nomunge">NUXEO_PACKAGES</a></li>
      <li><a href="#nuxeo_url" class="nomunge">NUXEO_URL</a></li>
      <li><a href="#nuxeo_data" class="nomunge">NUXEO_DATA</a></li>
      <li><a href="#nuxeo_log" class="nomunge">NUXEO_LOG</a></li>
      <li><a href="#nuxeo_automation_trace" class="nomunge">NUXEO_AUTOMATION_TRACE</a></li>
      <li><a href="#nuxeo_dev_mode" class="nomunge">NUXEO_DEV_MODE</a></li>
      <li><a href="#nuxeo_binary_store" class="nomunge">NUXEO_BINARY_STORE</a></li>
      <li><a href="#nuxeo_transient_store" class="nomunge">NUXEO_TRANSIENT_STORE</a></li>
      <li><a href="#nuxeo_ddl_mode" class="nomunge">NUXEO_DDL_MODE</a></li>
      <li><a href="#nuxeo_custom_param" class="nomunge">NUXEO_CUSTOM_PARAM</a></li>
    </ul>
  </li>
  <li><a href="#adding-additional-configuration" class="nomunge">Adding additional configuration</a></li>
  <li><a href="#launching-custom-shell-scripts" class="nomunge">Launching custom shell scripts</a></li>
  <li><a href="#ffmpeg" class="nomunge">ffmpeg</a></li>
  <li><a href="#using-oracle-jvm" class="nomunge">Using Oracle JVM</a></li>
  <li><a href="#why-is-this-images-so-big-" class="nomunge">Why is this images so big ?</a></li>
</ul>


								</div>
								
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	
	<footer class="footer">
		  
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/why-docker">Why Docker</a></b></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/overview">Products</a></b></li>
                        <li><a href="https://www.docker.com/products/docker-desktop">Docker Desktop</a></li>
                        <li><a href="https://www.docker.com/products/docker-hub">Docker Hub</a></li>
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Features</a></b></li>
                        <li><a href="https://www.docker.com/products/container-runtime">Container Runtime</a></li>
                        <li><a href="https://www.docker.com/products/developer-tools">Developer Tools</a></li>
                        <li><a href="https://www.docker.com/products/kubernetes">Kubernetes</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Developers</a></b></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/play-with-docker">Play with Docker</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/open-source">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/company" target="_blank">Company</a></b></li>
                        <li><a href="https://www.docker.com/company">About Us</a></li>
                        <li><a href="https://www.docker.com/blog/" target="_blank">Blog</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners">Partners</a></li>
                        <li><a href="https://www.docker.com/company/newsroom">Newsroom</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/docker-security">Security</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2013-2020 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-slideshare"><a href="https://www.slideshare.net/docker">Slideshare</a></li>
                    <li class="fa fa-reddit"><a href="https://www.reddit.com/r/docker">Reddit</a></li>
                </ul>
            </div>
        </div>
    </div>

	</footer>
	<link rel="stylesheet" href="/docs.docker.jp.onthefly/css/github.css">
	
	<script defer src="/docs.docker.jp.onthefly/js/anchorlinks.js"></script>
	<script defer src="/docs.docker.jp.onthefly/js/menu.js"></script>
	<script src="/docs.docker.jp.onthefly/js/jquery.js"></script>
	<script src="/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
	<!-- Always include the archive.js, but it doesn't do much unless we are an archive -->
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v19.03';
	// In archives, we need to know the page root and we get it from JEKYLL_ENV in the jekyll build command
	var jekyllEnv = 'development';
	// If unset (in non-archive branches), defaults to "development". In that case, reset it to empty
	if (jekyllEnv == 'development') {
		jekyllEnv = '';
	}
	var pageURL = jekyllEnv + '/samples/library/nuxeo/';
	</script>
	<script src="/docs.docker.jp.onthefly/js/archive.js"></script>
	<script src="/docs.docker.jp.onthefly/js/stickyfill.min.js"></script>
	<script defer src="/docs.docker.jp.onthefly/js/metadata.js"></script>
	<script src="/docs.docker.jp.onthefly/js/glossary.js"></script>
	<script defer src="/docs.docker.jp.onthefly/js/docs.js"></script>
	<script defer src="/docs.docker.jp.onthefly/js/toc.js"></script>
	<script language="javascript">
	jQuery(document).ready(function(){
				hookupTOCEvents();
			});
	</script>
</body>

</html>
