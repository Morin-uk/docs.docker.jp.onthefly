<!-- Page generated 2019-06-20 10:48:14 +0900 -->
<!-- relative link basehrefs -->

	


<!-- Logic for 'edit this button' -->


	

	

	

	

	

	

	

	

	


<!-- End of logic for 'edit this button' -->


<!DOCTYPE html>
<html lang="ja">

<head>
	<base href="https://matsuand.github.io/docs.docker.jp.onthefly/samples/library/nextcloud/" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<style type="text/css">
		@charset "UTF-8";
		[ng\:cloak],
		[ng-cloak],
		[data-ng-cloak],
		[x-ng-cloak],
		.ng-cloak,
		.x-ng-cloak,
		.ng-hide:not(.ng-hide-animate) {
			display: none !important;
		}

		ng\:form {
			display: block;
		}
	</style>
	<script type="text/javascript">
	  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
	  analytics.load("IWj9D0UpZHZdZUZX9jl98PcpBFWBnBMy");
	  analytics.page();
	  }}();
	</script>
	
	<!-- favicon -->
	<link rel="icon" type="image/x-icon" href="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta name="msapplication-TileImage" content="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico">
	<link rel="apple-touch-icon" type="image/x-icon" href="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta property="og:image" content="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
	<!-- metadata -->
	<meta property="og:type" content="website"/>
	<meta property="og:updated_time" itemprop="dateUpdated" content="2019-06-20T10:48:14+09:00"/>
	<meta property="og:image" itemprop="image primaryImageOfPage" content="https://matsuand.github.io/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:card" content="summary"/>
	<meta name="twitter:domain" content="docs.docker.jp"/>
	<meta name="twitter:site" content="@docker_docs"/>
	<meta name="twitter:url" content="https://twitter.com/docker_docs"/>
	<meta name="twitter:title" itemprop="title name" content="nextcloud"/>
	<meta name="twitter:description" property="og:description" itemprop="description" content="A safe home for all your data GitHub repo: https://github.com/nextcloud/docker Library reference This content is imported from the official Docker Library docs, and is provided by the original uploader. You..." />
	<meta name="twitter:image:src" content="https://matsuand.github.io/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:image:alt" content="Docker Documentation"/>
	<meta property="article:published_time" itemprop="datePublished" content="2019-06-20T10:48:14+09:00"/>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="keywords" content="library, sample, nextcloud">
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/bootstrap.min.css">
	<link id="pygments" rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/pygments/perldoc.css">
	<link id="pagestyle" rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/style.css">

	<!-- Go get "Open Sans" font from Google -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
	<!-- SEO stuff -->
	<title>nextcloud | Docker Documentation</title>
<meta property="og:title" content="nextcloud" />
<meta property="og:locale" content="ja_JP" />
<meta name="description" content="A safe home for all your data
" />
<meta property="og:description" content="A safe home for all your data
" />
<link rel="canonical" href="https://matsuand.github.io/docs.docker.jp.onthefly/samples/library/nextcloud/" />
<meta property="og:url" content="https://matsuand.github.io/docs.docker.jp.onthefly/samples/library/nextcloud/" />
<meta property="og:site_name" content="Docker Documentation" />
<script type="application/ld+json">
{"@context":"http://schema.org","@type":"WebPage","headline":"nextcloud","description":"A safe home for all your data
","url":"https://matsuand.github.io/docs.docker.jp.onthefly/samples/library/nextcloud/"}</script>
	<!-- END SEO STUFF -->
	
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v18.09';
	</script>
</head>
<body ng-app="Docker" ng-controller="DockerController" class="colums">
	<header>
		 <nav class="nav-secondary navbar navbar-fixed-top">
    <!-- <div class="fan"></div> -->
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="https://matsuand.github.io/docs.docker.jp.onthefly/"><img class="logo" src="https://matsuand.github.io/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs"></a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="search-form" id="search-div" style="visibility: hidden">
    <form class="search-form form-inline ng-pristine ng-valid" /id="searchForm" action="/docs.docker.jp.onthefly/search/">
        <input class="search-field form-control ds-input" id="st-search-input" value="" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteContainer">
            <div id="autocompleteResults"></div>
        </div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container">
    <div id="tabs">
        <ul class="tabs" id="jsTOCHorizontal">

        </ul>
    </div>
    <div class="ctrl-right hidden-xs hidden-sm">
        <a href="javascript:void(0)" id="menu-toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
        <div class="btn-group" style="visibility: hidden">
  <button type="button" class="btn btn-default dropdown-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Docker v18.09 (current)        <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
    <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/edge/">Docker edge</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.03/">Docker v18.03</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.12/">Docker v17.12</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.09/">Docker v17.09</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.06/">Docker v17.06</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.03/">Docker v17.03</a></li>
  </ul>
</div>

    </div>
</div>

        </div>
    </div>
</nav>

	</header>

	<div class="wrapper right-open">
		<div class="container-fluid">
			<div class="row">
				<div class="col-body">
					<main class="col-content content">
						<section class="section">
							
								
							<h1>nextcloud</h1>  <span class="reading-time" title="Estimated reading time">
  <span class="reading-time-label">読む時間の目安: </span>
  
  
    18 分
  
</span>

							
							
							<p>A safe home for all your data</p>

<p>GitHub repo: <a href="https://github.com/nextcloud/docker">https://github.com/nextcloud/docker</a></p>

<blockquote>
  <p><strong>Library reference</strong></p>

  <p>This content is imported from
<a href="https://github.com/docker-library/docs/tree/master/nextcloud/">the official Docker Library docs</a>,
and is provided by the original uploader. You can view the Docker Hub page for this image at
<a href="https://hub.docker.com/images/nextcloud">https://hub.docker.com/images/nextcloud</a></p>
</blockquote>

<!-- content begin -->

<!--

********************************************************************************

WARNING:

    DO NOT EDIT "nextcloud/README.md"

    IT IS AUTO-GENERATED

    (from the other files in "nextcloud/" combined with a set of templates)

********************************************************************************

-->

<h1 id="supported-tags-and-respective-dockerfile-links">Supported tags and respective <code class="highlighter-rouge">Dockerfile</code> links</h1>

<ul>
  <li><a href="https://github.com/nextcloud/docker/blob/991fc792ce9831fc54a8e6280cb398d6f8ec6393/14.0-rc/apache/Dockerfile"><code class="highlighter-rouge">14.0.11RC1-apache</code>, <code class="highlighter-rouge">14.0.11-rc-apache</code>, <code class="highlighter-rouge">14.0-rc-apache</code>, <code class="highlighter-rouge">14-rc-apache</code>, <code class="highlighter-rouge">14.0.11RC1</code>, <code class="highlighter-rouge">14.0.11-rc</code>, <code class="highlighter-rouge">14.0-rc</code>, <code class="highlighter-rouge">14-rc</code> (<em>14.0-rc/apache/Dockerfile</em>)</a></li>
  <li><a href="https://github.com/nextcloud/docker/blob/991fc792ce9831fc54a8e6280cb398d6f8ec6393/14.0-rc/fpm-alpine/Dockerfile"><code class="highlighter-rouge">14.0.11RC1-fpm-alpine</code>, <code class="highlighter-rouge">14.0.11-rc-fpm-alpine</code>, <code class="highlighter-rouge">14.0-rc-fpm-alpine</code>, <code class="highlighter-rouge">14-rc-fpm-alpine</code> (<em>14.0-rc/fpm-alpine/Dockerfile</em>)</a></li>
  <li><a href="https://github.com/nextcloud/docker/blob/991fc792ce9831fc54a8e6280cb398d6f8ec6393/14.0-rc/fpm/Dockerfile"><code class="highlighter-rouge">14.0.11RC1-fpm</code>, <code class="highlighter-rouge">14.0.11-rc-fpm</code>, <code class="highlighter-rouge">14.0-rc-fpm</code>, <code class="highlighter-rouge">14-rc-fpm</code> (<em>14.0-rc/fpm/Dockerfile</em>)</a></li>
  <li><a href="https://github.com/nextcloud/docker/blob/2fbd72c96d943e0c67b56dcfb5e17bed835afaf0/14.0/apache/Dockerfile"><code class="highlighter-rouge">14.0.10-apache</code>, <code class="highlighter-rouge">14.0-apache</code>, <code class="highlighter-rouge">14-apache</code>, <code class="highlighter-rouge">14.0.10</code>, <code class="highlighter-rouge">14.0</code>, <code class="highlighter-rouge">14</code> (<em>14.0/apache/Dockerfile</em>)</a></li>
  <li><a href="https://github.com/nextcloud/docker/blob/2fbd72c96d943e0c67b56dcfb5e17bed835afaf0/14.0/fpm-alpine/Dockerfile"><code class="highlighter-rouge">14.0.10-fpm-alpine</code>, <code class="highlighter-rouge">14.0-fpm-alpine</code>, <code class="highlighter-rouge">14-fpm-alpine</code> (<em>14.0/fpm-alpine/Dockerfile</em>)</a></li>
  <li><a href="https://github.com/nextcloud/docker/blob/2fbd72c96d943e0c67b56dcfb5e17bed835afaf0/14.0/fpm/Dockerfile"><code class="highlighter-rouge">14.0.10-fpm</code>, <code class="highlighter-rouge">14.0-fpm</code>, <code class="highlighter-rouge">14-fpm</code> (<em>14.0/fpm/Dockerfile</em>)</a></li>
  <li><a href="https://github.com/nextcloud/docker/blob/04dbb09f12a07846331c658eb5f2bfb33ef5aaed/15.0-rc/apache/Dockerfile"><code class="highlighter-rouge">15.0.8RC1-apache</code>, <code class="highlighter-rouge">15.0.8-rc-apache</code>, <code class="highlighter-rouge">15.0-rc-apache</code>, <code class="highlighter-rouge">15-rc-apache</code>, <code class="highlighter-rouge">15.0.8RC1</code>, <code class="highlighter-rouge">15.0.8-rc</code>, <code class="highlighter-rouge">15.0-rc</code>, <code class="highlighter-rouge">15-rc</code> (<em>15.0-rc/apache/Dockerfile</em>)</a></li>
  <li><a href="https://github.com/nextcloud/docker/blob/04dbb09f12a07846331c658eb5f2bfb33ef5aaed/15.0-rc/fpm-alpine/Dockerfile"><code class="highlighter-rouge">15.0.8RC1-fpm-alpine</code>, <code class="highlighter-rouge">15.0.8-rc-fpm-alpine</code>, <code class="highlighter-rouge">15.0-rc-fpm-alpine</code>, <code class="highlighter-rouge">15-rc-fpm-alpine</code> (<em>15.0-rc/fpm-alpine/Dockerfile</em>)</a></li>
  <li><a href="https://github.com/nextcloud/docker/blob/04dbb09f12a07846331c658eb5f2bfb33ef5aaed/15.0-rc/fpm/Dockerfile"><code class="highlighter-rouge">15.0.8RC1-fpm</code>, <code class="highlighter-rouge">15.0.8-rc-fpm</code>, <code class="highlighter-rouge">15.0-rc-fpm</code>, <code class="highlighter-rouge">15-rc-fpm</code> (<em>15.0-rc/fpm/Dockerfile</em>)</a></li>
  <li><a href="https://github.com/nextcloud/docker/blob/2fbd72c96d943e0c67b56dcfb5e17bed835afaf0/15.0/apache/Dockerfile"><code class="highlighter-rouge">15.0.7-apache</code>, <code class="highlighter-rouge">15.0-apache</code>, <code class="highlighter-rouge">15-apache</code>, <code class="highlighter-rouge">stable-apache</code>, <code class="highlighter-rouge">production-apache</code>, <code class="highlighter-rouge">15.0.7</code>, <code class="highlighter-rouge">15.0</code>, <code class="highlighter-rouge">15</code>, <code class="highlighter-rouge">stable</code>, <code class="highlighter-rouge">production</code> (<em>15.0/apache/Dockerfile</em>)</a></li>
  <li><a href="https://github.com/nextcloud/docker/blob/2fbd72c96d943e0c67b56dcfb5e17bed835afaf0/15.0/fpm-alpine/Dockerfile"><code class="highlighter-rouge">15.0.7-fpm-alpine</code>, <code class="highlighter-rouge">15.0-fpm-alpine</code>, <code class="highlighter-rouge">15-fpm-alpine</code>, <code class="highlighter-rouge">stable-fpm-alpine</code>, <code class="highlighter-rouge">production-fpm-alpine</code> (<em>15.0/fpm-alpine/Dockerfile</em>)</a></li>
  <li><a href="https://github.com/nextcloud/docker/blob/2fbd72c96d943e0c67b56dcfb5e17bed835afaf0/15.0/fpm/Dockerfile"><code class="highlighter-rouge">15.0.7-fpm</code>, <code class="highlighter-rouge">15.0-fpm</code>, <code class="highlighter-rouge">15-fpm</code>, <code class="highlighter-rouge">stable-fpm</code>, <code class="highlighter-rouge">production-fpm</code> (<em>15.0/fpm/Dockerfile</em>)</a></li>
  <li><a href="https://github.com/nextcloud/docker/blob/5151f42e1797bb0c0737eff869f205764115459c/16.0-rc/apache/Dockerfile"><code class="highlighter-rouge">16.0.1RC1-apache</code>, <code class="highlighter-rouge">16.0.1-rc-apache</code>, <code class="highlighter-rouge">16.0-rc-apache</code>, <code class="highlighter-rouge">16-rc-apache</code>, <code class="highlighter-rouge">16.0.1RC1</code>, <code class="highlighter-rouge">16.0.1-rc</code>, <code class="highlighter-rouge">16.0-rc</code>, <code class="highlighter-rouge">16-rc</code> (<em>16.0-rc/apache/Dockerfile</em>)</a></li>
  <li><a href="https://github.com/nextcloud/docker/blob/5151f42e1797bb0c0737eff869f205764115459c/16.0-rc/fpm-alpine/Dockerfile"><code class="highlighter-rouge">16.0.1RC1-fpm-alpine</code>, <code class="highlighter-rouge">16.0.1-rc-fpm-alpine</code>, <code class="highlighter-rouge">16.0-rc-fpm-alpine</code>, <code class="highlighter-rouge">16-rc-fpm-alpine</code> (<em>16.0-rc/fpm-alpine/Dockerfile</em>)</a></li>
  <li><a href="https://github.com/nextcloud/docker/blob/5151f42e1797bb0c0737eff869f205764115459c/16.0-rc/fpm/Dockerfile"><code class="highlighter-rouge">16.0.1RC1-fpm</code>, <code class="highlighter-rouge">16.0.1-rc-fpm</code>, <code class="highlighter-rouge">16.0-rc-fpm</code>, <code class="highlighter-rouge">16-rc-fpm</code> (<em>16.0-rc/fpm/Dockerfile</em>)</a></li>
  <li><a href="https://github.com/nextcloud/docker/blob/2fbd72c96d943e0c67b56dcfb5e17bed835afaf0/16.0/apache/Dockerfile"><code class="highlighter-rouge">16.0.0-apache</code>, <code class="highlighter-rouge">16.0-apache</code>, <code class="highlighter-rouge">16-apache</code>, <code class="highlighter-rouge">apache</code>, <code class="highlighter-rouge">16.0.0</code>, <code class="highlighter-rouge">16.0</code>, <code class="highlighter-rouge">16</code>, <code class="highlighter-rouge">latest</code> (<em>16.0/apache/Dockerfile</em>)</a></li>
  <li><a href="https://github.com/nextcloud/docker/blob/2fbd72c96d943e0c67b56dcfb5e17bed835afaf0/16.0/fpm-alpine/Dockerfile"><code class="highlighter-rouge">16.0.0-fpm-alpine</code>, <code class="highlighter-rouge">16.0-fpm-alpine</code>, <code class="highlighter-rouge">16-fpm-alpine</code>, <code class="highlighter-rouge">fpm-alpine</code> (<em>16.0/fpm-alpine/Dockerfile</em>)</a></li>
  <li><a href="https://github.com/nextcloud/docker/blob/2fbd72c96d943e0c67b56dcfb5e17bed835afaf0/16.0/fpm/Dockerfile"><code class="highlighter-rouge">16.0.0-fpm</code>, <code class="highlighter-rouge">16.0-fpm</code>, <code class="highlighter-rouge">16-fpm</code>, <code class="highlighter-rouge">fpm</code> (<em>16.0/fpm/Dockerfile</em>)</a></li>
</ul>

<h1 id="quick-reference">Quick reference</h1>

<ul>
  <li>
    <p><strong>Where to get help</strong>:<br />
<a href="https://forums.docker.com/">the Docker Community Forums</a>, <a href="https://blog.docker.com/2016/11/introducing-docker-community-directory-docker-community-slack/">the Docker Community Slack</a>, or <a href="https://stackoverflow.com/search?tab=newest&amp;q=docker">Stack Overflow</a></p>
  </li>
  <li>
    <p><strong>Where to file issues</strong>:<br />
<a href="https://github.com/nextcloud/docker/issues">https://github.com/nextcloud/docker/issues</a></p>
  </li>
  <li>
    <p><strong>Maintained by</strong>:<br />
<a href="https://github.com/nextcloud/docker">Nextcloud</a></p>
  </li>
  <li>
    <p><strong>Supported architectures</strong>: (<a href="https://github.com/docker-library/official-images#architectures-other-than-amd64">more info</a>)<br />
<a href="https://hub.docker.com/r/amd64/nextcloud/"><code class="highlighter-rouge">amd64</code></a>, <a href="https://hub.docker.com/r/arm32v5/nextcloud/"><code class="highlighter-rouge">arm32v5</code></a>, <a href="https://hub.docker.com/r/arm32v6/nextcloud/"><code class="highlighter-rouge">arm32v6</code></a>, <a href="https://hub.docker.com/r/arm32v7/nextcloud/"><code class="highlighter-rouge">arm32v7</code></a>, <a href="https://hub.docker.com/r/arm64v8/nextcloud/"><code class="highlighter-rouge">arm64v8</code></a>, <a href="https://hub.docker.com/r/i386/nextcloud/"><code class="highlighter-rouge">i386</code></a>, <a href="https://hub.docker.com/r/ppc64le/nextcloud/"><code class="highlighter-rouge">ppc64le</code></a></p>
  </li>
  <li>
    <p><strong>Published image artifact details</strong>:<br />
<a href="https://github.com/docker-library/repo-info/blob/master/repos/nextcloud">repo-info repo’s <code class="highlighter-rouge">repos/nextcloud/</code> directory</a> (<a href="https://github.com/docker-library/repo-info/commits/master/repos/nextcloud">history</a>)<br />
(image metadata, transfer size, etc)</p>
  </li>
  <li>
    <p><strong>Image updates</strong>:<br />
<a href="https://github.com/docker-library/official-images/pulls?q=label%3Alibrary%2Fnextcloud">official-images PRs with label <code class="highlighter-rouge">library/nextcloud</code></a><br />
<a href="https://github.com/docker-library/official-images/blob/master/library/nextcloud">official-images repo’s <code class="highlighter-rouge">library/nextcloud</code> file</a> (<a href="https://github.com/docker-library/official-images/commits/master/library/nextcloud">history</a>)</p>
  </li>
  <li>
    <p><strong>Source of this description</strong>:<br />
<a href="https://github.com/docker-library/docs/tree/master/nextcloud">docs repo’s <code class="highlighter-rouge">nextcloud/</code> directory</a> (<a href="https://github.com/docker-library/docs/commits/master/nextcloud">history</a>)</p>
  </li>
  <li>
    <p><strong>Supported Docker versions</strong>:<br />
<a href="https://github.com/docker/docker-ce/releases/latest">the latest release</a> (down to 1.6 on a best-effort basis)</p>
  </li>
</ul>

<h1 id="what-is-nextcloud">What is Nextcloud?</h1>

<p>A safe home for all your data. Access &amp; share your files, calendars, contacts, mail &amp; more from any device, on your terms.</p>

<blockquote>
  <p><a href="https://nextcloud.com/">Nextcloud.com</a></p>
</blockquote>

<p><img src="https://raw.githubusercontent.com/docker-library/docs/e563b6cd3d797e2b3695576d20041227d1fb7536/nextcloud/logo.svg?sanitize=true" alt="logo" /></p>

<h1 id="how-to-use-this-image">How to use this image</h1>

<p>This image is designed to be used in a micro-service environment. There are two versions of the image you can choose from.</p>

<p>The <code class="highlighter-rouge">apache</code> tag contains a full Nextcloud installation including an apache web server. It is designed to be easy to use and gets you running pretty fast. This is also the default for the <code class="highlighter-rouge">latest</code> tag and version tags that are not further specified.</p>

<p>The second option is a <code class="highlighter-rouge">fpm</code> container. It is based on the <a href="https://hub.docker.com/_/php/">php-fpm</a> image and runs a fastCGI-Process that serves your Nextcloud page. To use this image it must be combined with any webserver that can proxy the http requests to the FastCGI-port of the container.</p>

<h2 id="using-the-apache-image">Using the apache image</h2>

<p>The apache image contains a webserver and exposes port 80. To start the container type:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker run <span class="nt">-d</span> <span class="nt">-p</span> 8080:80 nextcloud
</code></pre></div></div>

<p>Now you can access Nextcloud at http://localhost:8080/ from your host system.</p>

<h2 id="using-the-fpm-image">Using the fpm image</h2>

<p>To use the fpm image you need an additional web server that can proxy http-request to the fpm-port of the container. For fpm connection this container exposes port 9000. In most cases you might want use another container or your host as proxy. If you use your host you can address your Nextcloud container directly on port 9000. If you use another container, make sure that you add them to the same docker network (via <code class="highlighter-rouge">docker run --network &lt;NAME&gt; ...</code> or a <code class="highlighter-rouge">docker-compose</code> file). In both cases you don’t want to map the fpm port to you host.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker run <span class="nt">-d</span> nextcloud:fpm
</code></pre></div></div>

<p>As the fastCGI-Process is not capable of serving static files (style sheets, images, ...) the webserver needs access to these files. This can be achieved with the <code class="highlighter-rouge">volumes-from</code> option. You can find more information in the docker-compose section.</p>

<h2 id="using-an-external-database">Using an external database</h2>

<p>By default this container uses SQLite for data storage, but the Nextcloud setup wizard (appears on first run) allows connecting to an existing MySQL/MariaDB or PostgreSQL database. You can also link a database container, e. g. <code class="highlighter-rouge">--link my-mysql:mysql</code>, and then use <code class="highlighter-rouge">mysql</code> as the database host on setup. More info is in the docker-compose section.</p>

<h2 id="persistent-data">Persistent data</h2>

<p>The Nextcloud installation and all data beyond what lives in the database (file uploads, etc) is stored in the <a href="https://matsuand.github.io/docs.docker.jp.onthefly/engine/tutorials/dockervolumes/#adding-a-data-volume">unnamed docker volume</a> volume <code class="highlighter-rouge">/var/www/html</code>. The docker daemon will store that data within the docker directory <code class="highlighter-rouge">/var/lib/docker/volumes/...</code>. That means your data is saved even if the container crashes, is stopped or deleted.</p>

<p>To make your data persistent to upgrading and get access for backups is using named docker volume or mount a host folder. To achieve this you need one volume for your database container and Nextcloud.</p>

<p>Nextcloud:</p>

<ul>
  <li>
    <p><code class="highlighter-rouge">/var/www/html/</code> folder where all Nextcloud data lives</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker run <span class="nt">-d</span> <span class="se">\</span>
<span class="nt">-v</span> nextcloud:/var/www/html <span class="se">\</span>
nextcloud
</code></pre></div>    </div>
  </li>
</ul>

<p>Database:</p>

<ul>
  <li><code class="highlighter-rouge">/var/lib/mysql</code> MySQL / MariaDB Data</li>
  <li>
    <p><code class="highlighter-rouge">/var/lib/postgresql/data</code> PostgreSQL Data</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker run <span class="nt">-d</span> <span class="se">\</span>
<span class="nt">-v</span> db:/var/lib/mysql <span class="se">\</span>
mariadb
</code></pre></div>    </div>
  </li>
</ul>

<p>If you want to get fine grained access to your individual files, you can mount additional volumes for data, config, your theme and custom apps. The <code class="highlighter-rouge">data</code>, <code class="highlighter-rouge">config</code> are stored in respective subfolders inside <code class="highlighter-rouge">/var/www/html/</code>. The apps are split into core <code class="highlighter-rouge">apps</code> (which are shipped with Nextcloud and you don’t need to take care of) and a <code class="highlighter-rouge">custom_apps</code> folder. If you use a custom theme it would go into the <code class="highlighter-rouge">themes</code> subfolder.</p>

<p>Overview of the folders that can be mounted as volumes:</p>

<ul>
  <li><code class="highlighter-rouge">/var/www/html</code> Main folder, needed for updating</li>
  <li><code class="highlighter-rouge">/var/www/html/custom_apps</code> installed / modified apps</li>
  <li><code class="highlighter-rouge">/var/www/html/config</code> local configuration</li>
  <li><code class="highlighter-rouge">/var/www/html/data</code> the actual data of your Nextcloud</li>
  <li><code class="highlighter-rouge">/var/www/html/themes/&lt;YOU_CUSTOM_THEME&gt;</code> theming/branding</li>
</ul>

<p>If you want to use named volumes for all of these it would look like this</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker run <span class="nt">-d</span> <span class="se">\</span>
	<span class="nt">-v</span> nextcloud:/var/www/html <span class="se">\</span>
	<span class="nt">-v</span> apps:/var/www/html/custom_apps <span class="se">\</span>
	<span class="nt">-v</span> config:/var/www/html/config <span class="se">\</span>
	<span class="nt">-v</span> data:/var/www/html/data <span class="se">\</span>
	<span class="nt">-v</span> theme:/var/www/html/themes/&lt;YOUR_CUSTOM_THEME&gt; <span class="se">\</span>
	nextcloud
</code></pre></div></div>

<h2 id="using-the-nextcloud-command-line-interface">Using the Nextcloud command-line interface</h2>

<p>To use the <a href="https://docs.nextcloud.com/server/12/admin_manual/configuration_server/occ_command.html">Nextcloud command-line interface</a> (aka. <code class="highlighter-rouge">occ</code> command):</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker <span class="nb">exec</span> <span class="nt">--user</span> www-data CONTAINER_ID php occ
</code></pre></div></div>

<p>or for docker-compose:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker-compose <span class="nb">exec</span> <span class="nt">--user</span> www-data app php occ
</code></pre></div></div>

<h2 id="auto-configuration-via-environment-variables">Auto configuration via environment variables</h2>

<p>The nextcloud image supports auto configuration via environment variables. You can preconfigure everything that is asked on the install page on first run. To enable auto configuration, set your database connection via the following environment variables. ONLY use one database type!</p>

<p><strong>SQLITE_DATABASE</strong>:</p>

<ul>
  <li><code class="highlighter-rouge">SQLITE_DATABASE</code> Name of the database using sqlite</li>
</ul>

<p><strong>MYSQL/MariaDB</strong>:</p>

<ul>
  <li><code class="highlighter-rouge">MYSQL_DATABASE</code> Name of the database using mysql / mariadb.</li>
  <li><code class="highlighter-rouge">MYSQL_USER</code> Username for the database using mysql / mariadb.</li>
  <li><code class="highlighter-rouge">MYSQL_PASSWORD</code> Password for the database user using mysql / mariadb.</li>
  <li><code class="highlighter-rouge">MYSQL_HOST</code> Hostname of the database server using mysql / mariadb.</li>
</ul>

<p><strong>PostgreSQL</strong>:</p>

<ul>
  <li><code class="highlighter-rouge">POSTGRES_DB</code> Name of the database using postgres.</li>
  <li><code class="highlighter-rouge">POSTGRES_USER</code> Username for the database using postgres.</li>
  <li><code class="highlighter-rouge">POSTGRES_PASSWORD</code> Password for the database user using postgres.</li>
  <li><code class="highlighter-rouge">POSTGRES_HOST</code> Hostname of the database server using postgres.</li>
</ul>

<p>If you set any values, they will not be asked in the install page on first run. With a complete configuration by using all variables for your database type, you can additionally configure your Nextcloud instance by setting admin user and password (only works if you set both):</p>

<ul>
  <li><code class="highlighter-rouge">NEXTCLOUD_ADMIN_USER</code> Name of the Nextcloud admin user.</li>
  <li><code class="highlighter-rouge">NEXTCLOUD_ADMIN_PASSWORD</code> Password for the Nextcloud admin user.</li>
</ul>

<p>If you want you can set the data directory and table prefix, otherwise default values will be used.</p>

<ul>
  <li><code class="highlighter-rouge">NEXTCLOUD_DATA_DIR</code> (default: <em>/var/www/html/data</em>) Configures the data directory where nextcloud stores all files from the users.</li>
  <li><code class="highlighter-rouge">NEXTCLOUD_TABLE_PREFIX</code> (default: <em>”“</em>) Optional prefix for the tables. Used to be <code class="highlighter-rouge">oc_</code> in the past</li>
</ul>

<h1 id="running-this-image-with-docker-compose">Running this image with docker-compose</h1>

<p>The easiest way to get a fully featured and functional setup is using a <code class="highlighter-rouge">docker-compose</code> file. There are too many different possibilities to setup your system, so here are only some examples what you have to look for.</p>

<p>At first make sure you have chosen the right base image (fpm or apache) and added the features you wanted (see below). In every case you want to add a database container and docker volumes to get easy access to your persistent data. When you want to have your server reachable from the internet adding HTTPS-encryption is mandatory! See below for more information.</p>

<h2 id="base-version---apache">Base version - apache</h2>

<p>This version will use the apache image and add a mariaDB container. The volumes are set to keep your data persistent. This setup provides <strong>no ssl encryption</strong> and is intended to run behind a proxy.</p>

<p>Make sure to set the variables <code class="highlighter-rouge">MYSQL_ROOT_PASSWORD</code> and <code class="highlighter-rouge">MYSQL_PASSWORD</code> before you run this setup.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">2'</span>

<span class="na">volumes</span><span class="pi">:</span>
  <span class="na">nextcloud</span><span class="pi">:</span>
  <span class="na">db</span><span class="pi">:</span>

<span class="na">services</span><span class="pi">:</span>
  <span class="na">db</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">mariadb</span>
    <span class="na">command</span><span class="pi">:</span> <span class="s">--transaction-isolation=READ-COMMITTED --binlog-format=ROW</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">always</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">db:/var/lib/mysql</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">MYSQL_ROOT_PASSWORD=</span>
      <span class="pi">-</span> <span class="s">MYSQL_PASSWORD=</span>
      <span class="pi">-</span> <span class="s">MYSQL_DATABASE=nextcloud</span>
      <span class="pi">-</span> <span class="s">MYSQL_USER=nextcloud</span>

  <span class="na">app</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">nextcloud</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">8080:80</span>
    <span class="na">links</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">db</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">nextcloud:/var/www/html</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">always</span>
</code></pre></div></div>

<p>Then run <code class="highlighter-rouge">docker-compose up -d</code>, now you can access Nextcloud at http://localhost:8080/ from your host system.</p>

<h2 id="base-version---fpm">Base version - FPM</h2>

<p>When using the FPM image you need another container that acts as web server on port 80 and proxies the requests to the Nextcloud container. In this example a simple nginx container is combined with the Nextcloud-fpm image and a MariaDB database container. The data is stored in docker volumes. The nginx container also need access to static files from your Nextcloud installation. It gets access to all the volumes mounted to Nextcloud via the <code class="highlighter-rouge">volumes_from</code> option.The configuration for nginx is stored in the configuration file <code class="highlighter-rouge">nginx.conf</code>, that is mounted into the container. An example can be found in the examples section <a href="https://github.com/nextcloud/docker/tree/master/.examples">here</a>.</p>

<p>As this setup does <strong>not include encryption</strong> it should to be run behind a proxy.</p>

<p>Make sure to set the variables <code class="highlighter-rouge">MYSQL_ROOT_PASSWORD</code> and <code class="highlighter-rouge">MYSQL_PASSWORD</code> before you run this setup.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">2'</span>

<span class="na">volumes</span><span class="pi">:</span>
  <span class="na">nextcloud</span><span class="pi">:</span>
  <span class="na">db</span><span class="pi">:</span>

<span class="na">services</span><span class="pi">:</span>
  <span class="na">db</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">mariadb</span>
    <span class="na">command</span><span class="pi">:</span> <span class="s">--transaction-isolation=READ-COMMITTED --binlog-format=ROW</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">always</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">db:/var/lib/mysql</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">MYSQL_ROOT_PASSWORD=</span>
      <span class="pi">-</span> <span class="s">MYSQL_PASSWORD=</span>
      <span class="pi">-</span> <span class="s">MYSQL_DATABASE=nextcloud</span>
      <span class="pi">-</span> <span class="s">MYSQL_USER=nextcloud</span>

  <span class="na">app</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">nextcloud:fpm</span>
    <span class="na">links</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">db</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">nextcloud:/var/www/html</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">always</span>

  <span class="na">web</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">nginx</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">8080:80</span>
    <span class="na">links</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">app</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">./nginx.conf:/etc/nginx/nginx.conf:ro</span>
    <span class="na">volumes_from</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">app</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">always</span>
</code></pre></div></div>

<p>Then run <code class="highlighter-rouge">docker-compose up -d</code>, now you can access Nextcloud at http://localhost:8080/ from your host system.</p>

<h1 id="make-your-nextcloud-available-from-the-internet">Make your Nextcloud available from the internet</h1>

<p>Until here your Nextcloud is just available from you docker host. If you want you Nextcloud available from the internet adding SSL encryption is mandatory.</p>

<h2 id="https---ssl-encryption">HTTPS - SSL encryption</h2>

<p>There are many different possibilities to introduce encryption depending on your setup.</p>

<p>We recommend using a reverse proxy in front of our Nextcloud installation. Your Nextcloud will only be reachable through the proxy, which encrypts all traffic to the clients. You can mount your manually generated certificates to the proxy or use a fully automated solution, which generates and renews the certificates for you.</p>

<p>In our <a href="https://github.com/nextcloud/docker/tree/master/.examples">examples</a> section we have an example for a fully automated setup using a reverse proxy, a container for <a href="https://letsencrypt.org/">Let’s Encrypt</a> certificate handling, database and Nextcloud. It uses the popular <a href="https://github.com/jwilder/nginx-proxy">nginx-proxy</a> and <a href="https://github.com/JrCs/docker-letsencrypt-nginx-proxy-companion">docker-letsencrypt-nginx-proxy-companion</a> containers. Please check the according documentations before using this setup.</p>

<h1 id="first-use">First use</h1>

<p>When you first access your Nextcloud, the setup wizard will appear and ask you to choose an administrator account, password and the database connection. For the database use <code class="highlighter-rouge">db</code> as host and <code class="highlighter-rouge">nextcloud</code> as table and user name. Also enter the password you chose in your <code class="highlighter-rouge">docker-compose.yml</code> file.</p>

<h1 id="update-to-a-newer-version">Update to a newer version</h1>

<p>Updating the Nextcloud container is done by pulling the new image, throwing away the old container and starting the new one. Since all data is stored in volumes, nothing gets lost. The startup script will check for the version in your volume and the installed docker version. If it finds a mismatch, it automatically starts the upgrade process. Don’t forget to add all the volumes to your new container, so it works as expected.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker pull nextcloud
<span class="gp">$</span> docker stop &lt;your_nextcloud_container&gt;
<span class="gp">$</span> docker rm &lt;your_nextcloud_container&gt;
<span class="gp">$</span> docker run &lt;OPTIONS&gt; <span class="nt">-d</span> nextcloud
</code></pre></div></div>

<p>Beware that you have to run the same command with the options that you used to initially start your Nextcloud. That includes volumes, port mapping.</p>

<p>When using docker-compose your compose file takes care of your configuration, so you just have to run:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> docker-compose pull
<span class="gp">$</span> docker-compose up <span class="nt">-d</span>
</code></pre></div></div>

<h1 id="adding-features">Adding Features</h1>

<p>A lot of people want to use additional functionality inside their Nextcloud installation. If the image does not include the packages you need, you can easily build your own image on top of it. Start your derived image with the <code class="highlighter-rouge">FROM</code> statement and add whatever you like.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">FROM nextcloud:apache</span>

<span class="s">RUN ...</span>

</code></pre></div></div>

<p>The <a href="https://github.com/nextcloud/docker/blob/master/.examples">examples folder</a> gives a few examples on how to add certain functionalities, like including the cron job, smb-support or imap-authentication.</p>

<p>If you use your own Dockerfile you need to configure your docker-compose file accordingly. Switch out the <code class="highlighter-rouge">image</code> option with <code class="highlighter-rouge">build</code>. You have to specify the path to your Dockerfile. (in the example it’s in the same directory next to the docker-compose file)</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="na">app</span><span class="pi">:</span>
    <span class="na">build</span><span class="pi">:</span> <span class="s">.</span>
    <span class="na">links</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">db</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">data:/var/www/html/data</span>
      <span class="pi">-</span> <span class="s">config:/var/www/html/config</span>
      <span class="pi">-</span> <span class="s">apps:/var/www/html/apps</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">always</span>
</code></pre></div></div>

<p><strong>Updating</strong> your own derived image is also very simple. When a new version of the Nextcloud image is available run:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">docker build -t your-name --pull .
docker run -d your-name
</span></code></pre></div></div>

<p>or for docker-compose:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">docker-compose build --pull
docker-compose up -d
</span></code></pre></div></div>

<p>The <code class="highlighter-rouge">--pull</code> option tells docker to look for new versions of the base image. Then the build instructions inside your <code class="highlighter-rouge">Dockerfile</code> are run on top of the new image.</p>

<h1 id="migrating-an-existing-installation">Migrating an existing installation</h1>

<p>You’re already using Nextcloud and want to switch to docker? Great! Here are some things to look out for:</p>

<ol>
  <li>Define your whole Nextcloud infrastructure in a <code class="highlighter-rouge">docker-compose</code> file and run it with <code class="highlighter-rouge">docker-compose up -d</code> to get the base installation, volumes and database. Work from there.</li>
  <li>
    <p>Restore your database from a mysqldump (nextcloud_db_1 is the name of your db container)</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">docker cp ./database.dmp nextcloud_db_1:/dmp
docker-compose exec db sh -c "mysql -u USER -pPASSWORD nextcloud &lt; /dmp"
docker-compose exec db rm /dmp
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Edit your config.php</p>

    <ol>
      <li>
        <p>Set database connection</p>

        <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s1">'dbhost'</span> <span class="o">=&gt;</span> <span class="s1">'db:3306'</span><span class="p">,</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>Make sure you have no configuration for the <code class="highlighter-rouge">apps_paths</code>. Delete lines like these</p>

        <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"apps_paths"</span> <span class="o">=&gt;</span> <span class="k">array</span> <span class="p">(</span>
    <span class="mi">0</span> <span class="o">=&gt;</span> <span class="k">array</span> <span class="p">(</span>
        <span class="s2">"path"</span> <span class="o">=&gt;</span> <span class="nx">OC</span><span class="o">::</span><span class="nv">$SERVERROOT</span><span class="o">.</span><span class="s2">"/apps"</span><span class="p">,</span>
        <span class="s2">"url"</span> <span class="o">=&gt;</span> <span class="s2">"/apps"</span><span class="p">,</span>
        <span class="s2">"writable"</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">),</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>Make sure your data directory is set to /var/www/html/data</p>

        <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s1">'datadirectory'</span> <span class="o">=&gt;</span> <span class="s1">'/var/www/html/data'</span><span class="p">,</span>
</code></pre></div>        </div>
      </li>
    </ol>
  </li>
  <li>
    <p>Copy your data (nextcloud_app_1 is the name of your Nextcloud container):</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">docker cp ./data/ nextcloud_app_1:/var/www/html/data
docker-compose exec app chown -R www-data:www-data /var/www/html/data
docker cp ./theming/ nextcloud_app_1:/var/www/html/theming
docker-compose exec app chown -R www-data:www-data /var/www/html/theming
docker cp ./config/config.php nextcloud_app_1:/var/www/html/config
docker-compose exec app chown -R www-data:www-data /var/www/html/config
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Copy only the custom apps you use (or simply redownload them from the web interface):</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">docker cp ./apps/ nextcloud_data:/var/www/html/custom_apps
docker-compose exec app chown -R www-data:www-data /var/www/html/custom_apps
</span></code></pre></div>    </div>
  </li>
</ol>

<h1 id="questions--issues">Questions / Issues</h1>

<p>If you got any questions or problems using the image, please visit our <a href="https://github.com/nextcloud/docker">Github Repository</a> and write an issue.</p>

<h1 id="image-variants">Image Variants</h1>

<p>The <code class="highlighter-rouge">nextcloud</code> images come in many flavors, each designed for a specific use case.</p>

<h2 id="nextcloudversion"><code class="highlighter-rouge">nextcloud:&lt;version&gt;</code></h2>

<p>This is the defacto image. If you are unsure about what your needs are, you probably want to use this one. It is designed to be used both as a throw away container (mount your source code and start the container to start your app), as well as the base to build other images off of.</p>

<h2 id="nextcloudversion-alpine"><code class="highlighter-rouge">nextcloud:&lt;version&gt;-alpine</code></h2>

<p>This image is based on the popular <a href="http://alpinelinux.org">Alpine Linux project</a>, available in <a href="https://hub.docker.com/_/alpine">the <code class="highlighter-rouge">alpine</code> official image</a>. Alpine Linux is much smaller than most distribution base images (~5MB), and thus leads to much slimmer images in general.</p>

<p>This variant is highly recommended when final image size being as small as possible is desired. The main caveat to note is that it does use <a href="http://www.musl-libc.org">musl libc</a> instead of <a href="http://www.etalabs.net/compare_libcs.html">glibc and friends</a>, so certain software might run into issues depending on the depth of their libc requirements. However, most software doesn’t have an issue with this, so this variant is usually a very safe choice. See <a href="https://news.ycombinator.com/item?id=10782897">this Hacker News comment thread</a> for more discussion of the issues that might arise and some pro/con comparisons of using Alpine-based images.</p>

<p>To minimize image size, it’s uncommon for additional related tools (such as <code class="highlighter-rouge">git</code> or <code class="highlighter-rouge">bash</code>) to be included in Alpine-based images. Using this image as a base, add the things you need in your own Dockerfile (see the <a href="https://hub.docker.com/_/alpine/"><code class="highlighter-rouge">alpine</code> image description</a> for examples of how to install packages if you are unfamiliar).</p>

<h1 id="license">License</h1>

<p>View <a href="https://github.com/nextcloud/server/blob/master/COPYING-README">license information</a> for the software contained in this image.</p>

<p>As with all Docker images, these likely also contain other software which may be under other licenses (such as Bash, etc from the base distribution, along with any direct or indirect dependencies of the primary software being contained).</p>

<p>Some additional license information which was able to be auto-detected might be found in <a href="https://github.com/docker-library/repo-info/tree/master/repos/nextcloud">the <code class="highlighter-rouge">repo-info</code> repository’s <code class="highlighter-rouge">nextcloud/</code> directory</a>.</p>

<p>As for any pre-built image usage, it is the image user’s responsibility to ensure that any use of this image complies with any relevant licenses for all software contained within.</p>


							<!-- tags -->
							
							
							
							<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=library">library</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=sample">sample</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=nextcloud">nextcloud</a></span>
							
							<!-- link corrections -->
              <script language="JavaScript">
							var x = document.links.length;
							var baseHref = document.getElementsByTagName('base')[0].href
							for (i = 0; i < x; i++) {
							  var munged = false;
							  var thisHREF = document.links[i].href;
							  var originalURL = "/samples/library/nextcloud/";
							  if (thisHREF.indexOf(baseHref + "#") > -1) {
							    // hash fix
							    //console.log('BEFORE: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							    thisHREF = originalURL + thisHREF.replace(baseHref, "");
							    //console.log('AFTER: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							  }
							  if ((thisHREF.indexOf(window.location.hostname) > -1 || thisHREF.indexOf('http') == -1) && document.links[i].className.indexOf("nomunge") < 0) {
							    munged = true;
							    thisHREF = thisHREF.replace(".md", "/").replace("/index/", "/");
							    document.links[i].setAttribute('href', thisHREF);
							  }
							}
							</script>
							
						  <div id="ratings-div" style="color:#b9c2cc; text-align: center; margin-top: 150px; visibility: hidden">
								<div id="pd_rating_holder_8453675"></div>
								<script type="text/javascript">
									PDRTJS_settings_8453675 = {
										"id": "8453675",
										"unique_id": "_samples/library/nextcloud/index.md",
										"title": "nextcloud",
										"permalink": "https://github.com/docker/docker.github.io/blob/master/_samples/library/nextcloud/index.md"
									};
									(function(d, c, j) {
										if (!document.getElementById(j)) {
											var pd = d.createElement(c),
												s;
											pd.id = j;
											pd.src = ('https:' == document.location.protocol) ? 'https://polldaddy.com/js/rating/rating.js' : 'http://i0.poll.fm/js/rating/rating.js';
											s = document.getElementsByTagName(c)[0];
											s.parentNode.insertBefore(pd, s);
										}
									}(document, 'script', 'pd-rating-js'));
								</script>
							</div>
							
						</section>
					</main>
					<nav class="col-nav">
						<div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
						<div id="navbar" class="nav-sidebar">
    <ul class="nav" id="jsTOCLeftNav">
    </ul>
</div>

						</div>
					</nav>
					<div class="col-toc">
							<div class="sidebar hidden-xs hidden-sm">
							<div class="toc-nav">
								<div class="feedback-links">
									<ul>
										
										<li style="visibility: hidden"><a href="https://github.com/matsuand/docs.docker.jp/edit/v18.09.local/_samples/library/nextcloud/index.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> このページの編集</a></li>
										<li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/issues/new?body=File: [_samples/library/nextcloud/index.md](https://matsuand.github.io/docs.docker.jp.onthefly/samples/library/nextcloud/)"
															class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 文書変更のリクエスト</a></li>
										<li><a href="https://success.docker.com/support"><i class="fa fa-question" aria-hidden="true"></i> サポート依頼</a></li>
										<!-- toggle mode -->
										<li>
											<div class="toggle-mode">
												<div class="icon">
													<i class="fa fa-sun-o" aria-hidden="true"></i>
												</div>
												<div class="toggle-switch">
													<label class="switch">
														<input type="checkbox" id="switch-style">
														<div class="slider round"></div>
												</label>
												</div>
												<div class="icon">
													<i class="fa fa-moon-o" aria-hidden="true"></i>
												</div>
											</div>
										</li>
									</ul>
								</div>
								   
									<div id="side-toc-title">本ページ内</div>
									
<ul id="my_toc" class="inline_toc">
  <li><a href="#using-the-apache-image" class="nomunge">Using the apache image</a></li>
  <li><a href="#using-the-fpm-image" class="nomunge">Using the fpm image</a></li>
  <li><a href="#using-an-external-database" class="nomunge">Using an external database</a></li>
  <li><a href="#persistent-data" class="nomunge">Persistent data</a></li>
  <li><a href="#using-the-nextcloud-command-line-interface" class="nomunge">Using the Nextcloud command-line interface</a></li>
  <li><a href="#auto-configuration-via-environment-variables" class="nomunge">Auto configuration via environment variables</a></li>
  <li><a href="#base-version---apache" class="nomunge">Base version - apache</a></li>
  <li><a href="#base-version---fpm" class="nomunge">Base version - FPM</a></li>
  <li><a href="#https---ssl-encryption" class="nomunge">HTTPS - SSL encryption</a></li>
  <li><a href="#nextcloudversion" class="nomunge">nextcloud:&lt;version&gt;</a></li>
  <li><a href="#nextcloudversion-alpine" class="nomunge">nextcloud:&lt;version&gt;-alpine</a></li>
</ul>


								</div>
								
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	
	<footer class="footer">
		  
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/what-docker">What is Docker</a></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container</a></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners/partner-program">Partners</a></li>
                        <li class="break"><a href="https://www.docker.com/industry-government">For Government</a></li>
                        <li><a href="https://www.docker.com/company">About Docker</a></li>
                        <li><a href="https://www.docker.com/company/management">Management</a></li>
                        <li><a href="https://www.docker.com/company/news-and-press">Press &amp; News</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/products/overview">Product</a></li>
                        <li><a href="https://www.docker.com/pricing">Pricing</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community Edition</a></li>
                        <li class="break"><a href="https://www.docker.com/enterprise">Enterprise Edition </a></li>
                        <li><a href="https://www.docker.com/products/docker-datacenter">Docker Datacenter</a></li>
                        <li><a href="https://hub.docker.com/">Docker Hub</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/">Documentation</a></li>
                        <li><a href="https://www.docker.com/docker">Learn</a></li>
                        <li><a href="https://blog.docker.com" target="_blank">Blog</a></li>
                        <li><a href="https://engineering.docker.com" target="_blank">Engineering Blog</a></li>
                        <li><a href="https://training.docker.com/" target="_blank">Training</a></li>
                        <li><a href="https://success.docker.com/support">Support</a></li>
                        <li><a href="https://success.docker.com/kbase">Knowledge Base</a></li>
                        <li><a href="https://www.docker.com/products/resources">Resources</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/technologies/overview">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/events">Events</a></li>
                        <li><a href="https://forums.docker.com/" target="_blank">Forums</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                        <li><a href="https://www.docker.com/docker-community/scholarships">Scholarships</a></li>
                        <li><a href="https://blog.docker.com/curated/">Community News</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/docker-security">Security</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2019 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-reddit"><a href="http://www.reddit.com/r/docker">Reddit</a></li>
                    <li class="fa fa-slideshare"><a href="http://www.slideshare.net/docker">Slideshare</a></li>
                </ul>
            </div>
        </div>
    </div>

	</footer>
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/github.css">
	
	<!-- <script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/anchorlinks.js"></script> -->
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/menu.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/jquery.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
	<!-- Always include the archive.js, but it doesn't do much unless we are an archive -->
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v18.09';
	// In archives, we need to know the page root and we get it from JEKYLL_ENV in the jekyll build command
	var jekyllEnv = 'development';
	// If unset (in non-archive branches), defaults to "development". In that case, reset it to empty
	if (jekyllEnv == 'development') {
		jekyllEnv = '';
	}
	var pageURL = jekyllEnv + '/samples/library/nextcloud/';
	</script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/archive.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/stickyfill.min.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/metadata.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/glossary.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/collections_tocs.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/docs.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/toc.js"></script>
	<script language="javascript">
	jQuery(document).ready(function(){
				hookupTOCEvents();
			});
	</script>
</body>

</html>
