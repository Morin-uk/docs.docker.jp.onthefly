<!-- Page generated 2020-05-15 15:41:03 +0900 -->
<!-- Logic for 'edit this button'


    

    

    

    

    

    

    

    

-->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <style type="text/css">
      @charset "UTF-8";
      [ng\:cloak],
      [ng-cloak],
      [data-ng-cloak],
      [x-ng-cloak],
      .ng-cloak,
      .x-ng-cloak,
      .ng-hide:not(.ng-hide-animate) {
          display: none !important;
      }

      ng\:form {
          display: block;
      }
  </style>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WL2QLG5');</script>
  <!-- End Google Tag Manager -->
  
  <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <meta name="msapplication-TileImage" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico">
  <link rel="apple-touch-icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <meta property="og:image" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
  <!-- metadata -->
  <meta property="og:type" content="website"/>
  <meta property="og:updated_time" itemprop="dateUpdated" content="2020-05-15T15:41:03+09:00"/>
  <meta property="og:image" itemprop="image primaryImageOfPage" content="/images/docs@2x.png"/>
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:domain" content="docs.docker.com"/>
  <meta name="twitter:site" content="@docker_docs"/>
  <meta name="twitter:url" content="https://twitter.com/docker_docs"/>
  <meta name="twitter:title" itemprop="title name" content="Use domain names to access services"/>
  <meta name="twitter:description" property="og:description" itemprop="description" content="You can make it easier for users to access your HTTP and HTTPS services by making them accessible from a domain name, instead of an IP address. In this example,..." />
  <meta name="twitter:image:src" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta name="twitter:image:alt" content="Docker Documentation"/>
  <meta property="article:published_time" itemprop="datePublished" content="2020-05-15T15:41:03+09:00"/>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="ucp, services, http, dns, https, routing">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/font-awesome.min.css">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/bootstrap.min.css">
  <link id="pygments" rel="stylesheet" href="/docs.docker.jp.onthefly/css/pygments/perldoc.css">
  <link id="pagestyle" rel="stylesheet" href="/docs.docker.jp.onthefly/css/style.css">

  <!-- Go get "Open Sans" font from Google -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
  <!-- SEO stuff -->
  <title>Use domain names to access services | Docker Documentation</title>
  <meta property="og:title" content="Use domain names to access services" />
  <meta property="og:locale" content="ja_JP" />
  <meta name="description" content="Learn how to configure your services to make them accessible using a hostname instead of IP addresses and ports." />
  <meta property="og:description" content="Learn how to configure your services to make them accessible using a hostname instead of IP addresses and ports." />
  <link rel="canonical" href="/datacenter/ucp/3.0/guides/user/services/use-domain-names-to-access-services/" />
  <meta property="og:url" content="https://docs.docker.com/datacenter/ucp/3.0/guides/user/services/use-domain-names-to-access-services/" />
  <meta property="og:site_name" content="Docker ドキュメント" />
  <script type="application/ld+json">{"@context":"http://schema.org","@type":"WebPage","headline":"Use domain names to access services","description":"Learn how to configure your services to make them accessible using a hostname instead of IP addresses and ports.","url":"https://docs.docker.com/datacenter/ucp/3.0/guides/user/services/use-domain-names-to-access-services/"}</script>
  <!-- END SEO STUFF -->
  <meta name="robots" content="noindex" />
  <script>
  // Default to assuming this is an archive and hiding some stuff
  // See js/archive.js and js/docs.js for logic relating to this
  var isArchive = true;
  var dockerVersion = 'v19.03';
  </script>
</head>


    <body ng-app="Docker" ng-controller="DockerController" class="colums">
    <header>
        <nav class="nav-secondary navbar navbar-fixed-top">
    <!-- <div class="fan"></div> -->
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="/docs.docker.jp.onthefly/"><img class="logo" src="/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs"></a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="search-form" id="search-div" style="visibility: hidden">
    <form class="search-form form-inline ng-pristine ng-valid" id="searchForm" action="https://matsuand.github.io/docs.docker.jp.onthefly/search/">
        <input class="search-field form-control ds-input" id="st-search-input" value="" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteContainer">
            <div id="autocompleteResults"></div>
        </div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container">
    <div id="tabs">
        <ul class="tabs" id="jsTOCHorizontal">

        </ul>
    </div>
    <div class="ctrl-right hidden-xs hidden-sm">
        <a href="javascript:void(0)" id="menu-toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
        <div class="btn-group" style="visibility: hidden">
  <button type="button" class="btn btn-default dropdown-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Docker v19.03 (最新)     <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
    <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.09/">Docker v18.09</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.03/">Docker v18.03</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.06/">Docker v17.06</a></li>
  </ul>
</div>

    </div>
</div>

        </div>
    </div>
</nav>

    </header>
    <div class="wrapper right-open">
        <div class="container-fluid">
            <div class="row">
                <div class="col-body">
                    <main class="col-content content">
                        <section class="section">
                            
                            
                            <h1>Use domain names to access services</h1> 
                            <span class="reading-time" title="Estimated reading time">
  <span class="reading-time-label">読む時間の目安: </span>
  
  
    8 分
  
</span>

                            


<blockquote><p>The documentation herein is for UCP version 3.0.16.</p>
<p>Use the drop-down below to access documentation for the current version or for a different past version.</p>
<p>
  <div class="dropdown">
    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">3.0.16
    <span class="caret"></span></button>
    <ul class="dropdown-menu">
      
        <li><a href="/ee/ucp/">3.2 (latest)</a></li>
      
        <li><a href="/datacenter/ucp/3.1/guides/">3.1</a></li>
      
        
      
        <li><a href="/datacenter/ucp/2.2/guides/">2.2</a></li>
      
        <li><a href="/datacenter/ucp/2.1/guides/">2.1</a></li>
      
        <li><a href="/datacenter/ucp/2.0/guides/">2.0</a></li>
      
        <li><a href="/datacenter/ucp/1.1/overview/">1.1</a></li>
      
    </ul>
  </div>
  </p>
</blockquote>

                            
                            <p>You can make it easier for users to access your HTTP and HTTPS services by
making them accessible from a domain name, instead of an IP address.</p>

<p><img src="/docs.docker.jp.onthefly/datacenter/ucp/3.0/guides/images/use-domain-names-2.svg" alt="http routing mesh" /></p>

<p>In this example, we’re going to deploy a WordPress service and make it accessible
to users at <code class="highlighter-rouge">http://wordpress.example.org</code>.</p>

<h2 id="enable-the-http-routing-mesh">Enable the HTTP routing mesh</h2>

<p>Before you start, make sure an administrator user has
<a href="/docs.docker.jp.onthefly/datacenter/ucp/3.0/guides/admin/configure/use-domain-names-to-access-services/">enabled the HTTP routing mesh service</a>.
You also need permissions to attach services to the <code class="highlighter-rouge">ucp-hrm</code> network.</p>

<h2 id="deploy-wordpress">Deploy WordPress</h2>

<p>Log in to the UCP web UI, navigate to the <strong>Services</strong> page, and click
<strong>Create Service</strong>. Then create a WordPress service with the following
configuration:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Service name</td>
      <td style="text-align: left">wordpress</td>
    </tr>
    <tr>
      <td style="text-align: left">Image name</td>
      <td style="text-align: left">wordpress:latest</td>
    </tr>
  </tbody>
</table>

<p>In the left pane, click <strong>Network</strong>. In the <strong>Ports</strong> section, click <strong>Publish Port</strong>
and assign the following values.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Internal port</td>
      <td style="text-align: left">80</td>
    </tr>
    <tr>
      <td style="text-align: left">Protocol</td>
      <td style="text-align: left">tcp</td>
    </tr>
    <tr>
      <td style="text-align: left">Publish Mode</td>
      <td style="text-align: left">ingress</td>
    </tr>
    <tr>
      <td style="text-align: left">Public port</td>
      <td style="text-align: left">8000</td>
    </tr>
  </tbody>
</table>

<p>Click <strong>Add Hostname based routes</strong> and assign the routing values.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">External scheme</td>
      <td style="text-align: left">http://</td>
    </tr>
    <tr>
      <td style="text-align: left">Routing mesh host</td>
      <td style="text-align: left">wordpress.example.com</td>
    </tr>
  </tbody>
</table>

<p>Finally, you need to connect the service to the <code class="highlighter-rouge">ucp-hrm</code> network. This is
what ensures traffic sent to the HTTP routing mesh is redirected to your
service. In the <strong>Networks</strong> section, click <strong>Attach Network</strong> and select
<code class="highlighter-rouge">ucp-hrm</code> from the dropdown list.</p>

<p>When creating the service, make sure to publish both internal and public ports.
This example maps the port 80 on the container running the service, to port 8000
on the ingress routing mesh.</p>

<p><img src="../../images/use-domain-names-4.png" alt="" class="with-border" /></p>

<p>Click <strong>Confirm</strong> to assign the network configuration, and click <strong>Create</strong>
to deploy your service. Once the service is deployed, the HTTP routing mesh
service is reconfigured to redirect HTTP requests with the hostname set to
<code class="highlighter-rouge">wordpress.example.org</code>, to the WordPress service.</p>

<h2 id="add-a-dns-entry">Add a DNS entry</h2>

<p>Now that WordPress is deployed, add a new DNS entry that maps
<code class="highlighter-rouge">wordpress.example.org</code> to the IP address of any node in the UCP cluster.
When testing locally, you can also change your <code class="highlighter-rouge">/etc/hosts</code> file to
create this mapping, instead of using a DNS service.</p>

<blockquote>
  <h4 id="hrm-with-windows-server">HRM with Windows Server:</h4>
  <p>Windows Server doesn’t support Swarm Mode Routing Mesh yet
(<em>not considering Windows Server version 1709 which will be out soon</em>).
This means the hrm service is exposed only through the manager node’s ip
(<em>since Windows Server cannot be a manager node</em>).
DNS entry for the host name(‘wordpress.example.org’ in this example) should
therefore be mapped to manager nodes or any non-windows worker nodes.</p>
</blockquote>

<p>Once this is done, you can access the wordpress service from your browser.</p>

<p><img src="../../images/use-domain-names-7.png" alt="" class="with-border" /></p>

<h2 id="from-the-cli">From the CLI</h2>

<p>To deploy the WordPress service from the CLI, you need to add labels to the
service that are specific to the HTTP routing mesh.</p>

<p>Once you get your <a href="/docs.docker.jp.onthefly/datacenter/ucp/3.0/guides/user/access-ucp/cli-based-access/">UCP client bundle</a>, you
can run:</p>

<pre><code class="language-none">docker service create \
  --publish target=80,published=8000 \
  --network ucp-hrm \
  --label com.docker.ucp.mesh.http=external_route=http://wordpress.example.org,internal_port=80 \
  --name wordpress \
  wordpress:latest
</code></pre>

<h2 id="under-the-hood">Under the hood</h2>

<p>Under the hood, UCP relies on labels to configure your services to use the
HTTP routing mesh. The UCP web UI automatically adds labels to your services,
but when deploying from the CLI or using compose files, you need to add labels
to your services.</p>

<p>The HTTP routing mesh can route to a service, as long as that service:</p>

<ul>
  <li>Is attached to a network that has the <code class="highlighter-rouge">com.docker.ucp.mesh.http</code> label.
You can use the default <code class="highlighter-rouge">ucp-hrm</code> network or create your own.</li>
  <li>Has one or more labels with the prefix <code class="highlighter-rouge">com.docker.ucp.mesh.http</code>, specifying
the ports to route to.</li>
</ul>

<h3 id="service-labels">Service labels</h3>

<p>The HTTP routing mesh label that you apply to your services needs to have a list
of keys and values separated by a comma, specifying how to route the traffic to
your service.</p>

<p>The label for the WordPress service you just created looks like this:</p>

<ul>
  <li>Key: <code class="highlighter-rouge">com.docker.ucp.mesh.http.80-1</code></li>
  <li>Value: <code class="highlighter-rouge">internal_port=8000,external_route=http://wordpress.example.com</code></li>
</ul>

<p>The label syntax looks like this:</p>

<pre><code class="language-none">com.docker.ucp.mesh.http[.label-number]=&lt;key-1&gt;=&lt;value-1&gt;,&lt;key-2&gt;=&lt;value-2&gt;
</code></pre>

<p>Where <code class="highlighter-rouge">.label-number</code> is an optional number that you can include in your label
name if you want to have multiple routes to the same service. As an example
you could have one route for HTTP and another for HTTPS. In that case you’d
apply two labels:</p>

<pre><code class="language-none">com.docker.ucp.mesh.http.1=&lt;key-1&gt;=&lt;value-1&gt;
com.docker.ucp.mesh.http.2=&lt;key-1&gt;=&lt;value-1&gt;
</code></pre>

<p>The keys and values in your label are what defined the route configuration.
These keys are supported:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Key</th>
      <th style="text-align: left">Mandatory</th>
      <th style="text-align: left">Values</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">external_route</td>
      <td style="text-align: left">yes</td>
      <td style="text-align: left">http://domain-name, or sni://domain-name</td>
      <td style="text-align: left">The external URL to route to this service</td>
    </tr>
    <tr>
      <td style="text-align: left">internal_port</td>
      <td style="text-align: left">yes, if the service publishes no ports or multiple ports</td>
      <td style="text-align: left">port-number</td>
      <td style="text-align: left">The internal port to use for the service</td>
    </tr>
    <tr>
      <td style="text-align: left">sticky_sessions</td>
      <td style="text-align: left">no</td>
      <td style="text-align: left">cookie-name</td>
      <td style="text-align: left">Always route a user to the same service, using HTTP cookies. This option can’t be used with HTTPS routes</td>
    </tr>
    <tr>
      <td style="text-align: left">redirect</td>
      <td style="text-align: left">no</td>
      <td style="text-align: left">http://domain-name, or sni://domain-name</td>
      <td style="text-align: left">Redirect incoming requests to another route using an HTTP 301 redirect</td>
    </tr>
    <tr>
      <td style="text-align: left">include_forwarded_for</td>
      <td style="text-align: left">no</td>
      <td style="text-align: left">true</td>
      <td style="text-align: left">If present, include the X-Forwarded-For header in requests</td>
    </tr>
  </tbody>
</table>

<h3 id="sticky-sessions">Sticky sessions</h3>

<p>You can use the <code class="highlighter-rouge">sticky_sessions</code> value to always route a user to the same
backend service. The first time a user makes a request, the service includes
a cookie in the response. When the user makes a new request, their browser
will send the cookie, and the HTTP routing mesh can use it to decide to which
service to route to.</p>

<p>Since this requires the HTTP routing mesh to read the cookie, this
option only works with HTTP routes.</p>

<p>Sticky sessions might stop temporarily if the service is reconfigured to
change the number of replicas, or if the replicas are restarted.</p>

<h3 id="http-redirects">HTTP redirects</h3>

<p>You can use the <code class="highlighter-rouge">redirect</code> option to redirect requests from one route to
another.</p>

<p>This allows you to redirect traffic to a new domain name if you’ve renamed the
domain you’re using to serve your services. For that, you apply two labels to
your service:</p>

<pre><code class="language-none">com.docker.ucp.mesh.http.1=external_route=http://old.example.org,redirect=http://new.example.org
com.docker.ucp.mesh.http.2=external_route=http://new.example.org
</code></pre>

<p>You can also use this to redirect HTTP requests to an HTTPS route. For that you
apply two labels to your service:</p>

<pre><code class="language-none">com.docker.ucp.mesh.http.1=external_route=http://example.org,redirect=https://example.org
com.docker.ucp.mesh.http.2=external_route=sni://example.org
</code></pre>

<blockquote>
  <p><strong>Note</strong>: It is not possible to redirect HTTPS to HTTP.</p>
</blockquote>

<h3 id="x-forwarded-for-header">X-Forwarded-For header</h3>

<p>Because HRM forwards traffic to your application, the requests that your application receives will all appear to come from HRM’s IP address. If you add <code class="highlighter-rouge">include_forwarded_for=true</code> in the HRM label for your service, HRM will add an HTTP header to every request called <code class="highlighter-rouge">X-Forwarded-For</code> that will contain the IP address that the original request came from. This feature will only work if your external_route field begins with <code class="highlighter-rouge">http://</code>.</p>

<h3 id="default-service">Default Service</h3>

<p>If you want a particular service to serve all requests that don’t match an otherwise defined <code class="highlighter-rouge">external_route</code>, set an <code class="highlighter-rouge">external_route</code> to a blank hostname. For example:</p>

<pre><code class="language-none">com.docker.ucp.mesh.http.1=external_route=http://
com.docker.ucp.mesh.http.2=external_route=sni://
</code></pre>

<p>If you don’t define <code class="highlighter-rouge">external_route=sni://</code> on any service, HRM will default to use the UCP controller itself as the default SNI route. If you don’t define <code class="highlighter-rouge">external_route=http://</code> on any service, HRM will return an http 503 error.</p>

<h3 id="keep-services-isolated">Keep services isolated</h3>

<p>If you want to keep the services from sharing the same network, before
enabling the HTTP routing mesh:</p>

<ol>
  <li>Create multiple networks and apply the <code class="highlighter-rouge">com.docker.ucp.mesh.http</code> label to them</li>
  <li>Enable the HTTP routing mesh</li>
  <li>Attach each service to one of the different networks you’ve created</li>
</ol>

<p>The HTTP routing mesh will route to all services in these networks, but services
on different networks can’t communicate directly.</p>

<p>When using a UCP client bundle for an admin user, or a user with administrator privileges,
you can create an overlay network that contains the <code class="highlighter-rouge">com.docker.mesh.http</code> label by running the following command.</p>

<pre><code class="language-none">docker network create -d overlay --label com.docker.ucp.mesh.http=true new-hrm-network
</code></pre>

<p>If you’re creating a new HRM network you need to disable the HRM service first, or disable
and enable the HRM service after you create the network else HRM will not be available on new network.</p>

                            <!-- tags -->
                            
                            <span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span
                                style="vertical-align: 2px"><a
                                    href="https://docs.docker.com/search/?q=ucp">ucp</a>, <a
                                    href="https://docs.docker.com/search/?q=services">services</a>, <a
                                    href="https://docs.docker.com/search/?q=http">http</a>, <a
                                    href="https://docs.docker.com/search/?q=dns">dns</a>, <a
                                    href="https://docs.docker.com/search/?q=https">https</a>, <a
                                    href="https://docs.docker.com/search/?q=routing">routing</a></span>
                            
                            
                            <div id="ratings-div"
                                style="color:#b9c2cc; text-align: center; margin-top: 150px; visibility: hidden">
                                <div id="pd_rating_holder_8453675"></div>
                                <script type="text/javascript">
                                    PDRTJS_settings_8453675 = {
                                        "id": "8453675",
                                        "unique_id": "datacenter/ucp/3.0/guides/user/services/use-domain-names-to-access-services.md",
                                        "title": "Use domain names to access services",
                                        "permalink": "https://github.com/docker/docker.github.io/blob/master/datacenter/ucp/3.0/guides/user/services/use-domain-names-to-access-services.md"
                                    };
                                    (function (d, c, j) {
                                        if (!document.getElementById(j)) {
                                            var pd = d.createElement(c),
                                                s;
                                            pd.id = j;
                                            pd.src = ('https:' == document.location.protocol) ? 'https://polldaddy.com/js/rating/rating.js' : 'http://i0.poll.fm/js/rating/rating.js';
                                            s = document.getElementsByTagName(c)[0];
                                            s.parentNode.insertBefore(pd, s);
                                        }
                                    }(document, 'script', 'pd-rating-js'));
                                </script>
                            </div>
                            
                        </section>
                    </main>
                    <nav class="col-nav">
                        <div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
                            <div id="navbar" class="nav-sidebar">
    <ul class="nav" id="jsTOCLeftNav">
    </ul>
</div>

                        </div>
                    </nav>
                    <div class="col-toc">
                        <div class="sidebar hidden-xs hidden-sm">
                            <div class="toc-nav">
                                <div class="feedback-links">
                                    <ul>
                                        
                                        <li style="visibility: hidden"><a href="https://github.com/docker/docker.github.io/edit/master/datacenter/ucp/3.0/guides/user/services/use-domain-names-to-access-services.md"><i
                                                    class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit this
                                                page</a></li>
                                        <li><a href="https://github.com/docker/docker.github.io/issues/new?body=File: [datacenter/ucp/3.0/guides/user/services/use-domain-names-to-access-services.md](https://docs.docker.com/datacenter/ucp/3.0/guides/user/services/use-domain-names-to-access-services/)"
                                                class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> Request
                                                docs changes</a></li>
                                        <!-- toggle mode -->
                                        <li>
                                            <div class="toggle-mode">
                                                <div class="icon">
                                                    <i class="fa fa-sun-o" aria-hidden="true"></i>
                                                </div>
                                                <div class="toggle-switch">
                                                    <label class="switch">
                                                        <input type="checkbox" id="switch-style">
                                                        <div class="slider round"></div>
                                                    </label>
                                                </div>
                                                <div class="icon">
                                                    <i class="fa fa-moon-o" aria-hidden="true"></i>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                
                                
                                
                                
                                <div id="side-toc-title">On this page:</div>
                                
<ul id="my_toc" class="inline_toc">
  <li><a href="#enable-the-http-routing-mesh" class="nomunge">Enable the HTTP routing mesh</a></li>
  <li><a href="#deploy-wordpress" class="nomunge">Deploy WordPress</a></li>
  <li><a href="#add-a-dns-entry" class="nomunge">Add a DNS entry</a></li>
  <li><a href="#from-the-cli" class="nomunge">From the CLI</a></li>
  <li><a href="#under-the-hood" class="nomunge">Under the hood</a>
    <ul>
      <li><a href="#service-labels" class="nomunge">Service labels</a></li>
      <li><a href="#sticky-sessions" class="nomunge">Sticky sessions</a></li>
      <li><a href="#http-redirects" class="nomunge">HTTP redirects</a></li>
      <li><a href="#x-forwarded-for-header" class="nomunge">X-Forwarded-For header</a></li>
      <li><a href="#default-service" class="nomunge">Default Service</a></li>
      <li><a href="#keep-services-isolated" class="nomunge">Keep services isolated</a></li>
    </ul>
  </li>
</ul>


                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    
    <footer class="footer">
          
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/why-docker">Why Docker</a></b></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/overview">Products</a></b></li>
                        <li><a href="https://www.docker.com/products/docker-desktop">Docker Desktop</a></li>
                        <li><a href="https://www.docker.com/products/docker-hub">Docker Hub</a></li>
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Features</a></b></li>
                        <li><a href="https://www.docker.com/products/container-runtime">Container Runtime</a></li>
                        <li><a href="https://www.docker.com/products/developer-tools">Developer Tools</a></li>
                        <li><a href="https://www.docker.com/products/kubernetes">Kubernetes</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Developers</a></b></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/play-with-docker">Play with Docker</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/open-source">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/company" target="_blank">Company</a></b></li>
                        <li><a href="https://www.docker.com/company">About Us</a></li>
                        <li><a href="https://www.docker.com/blog/" target="_blank">Blog</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners">Partners</a></li>
                        <li><a href="https://www.docker.com/company/newsroom">Newsroom</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/docker-security">Security</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2013-2020 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-slideshare"><a href="https://www.slideshare.net/docker">Slideshare</a></li>
                    <li class="fa fa-reddit"><a href="https://www.reddit.com/r/docker">Reddit</a></li>
                </ul>
            </div>
        </div>
    </div>

    </footer>
    <link rel="stylesheet" href="/css/github.css">
    
    <script defer src="/js/anchorlinks.js"></script>
    <script defer src="/js/menu.js"></script>
    <script src="/js/jquery.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <!-- Always include the archive.js, but it doesn't do much unless we are an archive -->
    <script>
        // Default to assuming this is an archive and hiding some stuff
        // See js/archive.js and js/docs.js for logic relating to this
        var isArchive = true;
        var dockerVersion = 'v19.03';
        // In archives, we need to know the page root and we get it from JEKYLL_ENV in the jekyll build command
        var jekyllEnv = 'development';
        // If unset (in non-archive branches), defaults to "development". In that case, reset it to empty
        if (jekyllEnv === 'development') {
            jekyllEnv = '';
        }
        var pageURL = jekyllEnv + '/datacenter/ucp/3.0/guides/user/services/use-domain-names-to-access-services/';
    </script>
    <script src="/js/archive.js"></script>
    <script src="/js/stickyfill.min.js"></script>
    <script defer src="/js/metadata.js"></script>
    <script src="/js/glossary.js"></script>
    <script defer src="/js/docs.js"></script>
    <script defer src="/js/toc.js"></script>
    <script>
        jQuery(document).ready(function () { hookupTOCEvents(); });
    </script>
</body>


</html>
