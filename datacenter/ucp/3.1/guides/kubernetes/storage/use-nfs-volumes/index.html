<!-- Page generated 2020-05-27 13:03:45 +0900 -->
<!-- Logic for 'edit this button'


    

    

    

    

    

    

    

    

-->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <style type="text/css">
      @charset "UTF-8";
      [ng\:cloak],
      [ng-cloak],
      [data-ng-cloak],
      [x-ng-cloak],
      .ng-cloak,
      .x-ng-cloak,
      .ng-hide:not(.ng-hide-animate) {
          display: none !important;
      }

      ng\:form {
          display: block;
      }
  </style>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WL2QLG5');</script>

  
  <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <meta name="msapplication-TileImage" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico">
  <link rel="apple-touch-icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <meta property="og:image" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
  <!-- metadata -->
  <meta property="og:type" content="website"/>
  <meta property="og:updated_time" itemprop="dateUpdated" content="2020-05-27T13:03:45+09:00"/>
  <meta property="og:image" itemprop="image primaryImageOfPage" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:domain" content="docs.docker.com"/>
  <meta name="twitter:site" content="@docker_docs"/>
  <meta name="twitter:url" content="https://twitter.com/docker_docs"/>
  <meta name="twitter:title" itemprop="title name" content="Configuring NFS Storage for Kubernetes"/>
  <meta name="twitter:description" property="og:description" itemprop="description" content="Users can provide persistent storage for workloads running on Docker Enterprise by using NFS storage. These NFS shares, when mounted into the running container, provide state to the application, managing..." />
  <meta name="twitter:image:src" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta name="twitter:image:alt" content="Docker Documentation"/>
  <meta property="article:published_time" itemprop="datePublished" content="2020-05-27T13:03:45+09:00"/>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="Universal Control Plane, UCP, Docker EE, Kubernetes, storage, volume">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/font-awesome.min.css">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/bootstrap.min.css">
  <link id="pygments" rel="stylesheet" href="/docs.docker.jp.onthefly/css/pygments/perldoc.css">
  <link id="pagestyle" rel="stylesheet" href="/docs.docker.jp.onthefly/css/style.css">

  <!-- Go get "Open Sans" font from Google -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
  <!-- SEO stuff -->
  <title>Configuring NFS Storage for Kubernetes | Docker Documentation</title>
  <meta property="og:title" content="Configuring NFS Storage for Kubernetes" />
  <meta property="og:locale" content="ja_JP" />
  <meta name="description" content="Learn how to add support for NFS persistent storage by adding a default storage class." />
  <meta property="og:description" content="Learn how to add support for NFS persistent storage by adding a default storage class." />
  <link rel="canonical" href="/datacenter/ucp/3.1/guides/kubernetes/storage/use-nfs-volumes/" />
  <meta property="og:url" content="https://docs.docker.com/datacenter/ucp/3.1/guides/kubernetes/storage/use-nfs-volumes/" />
  <meta property="og:site_name" content="Docker ドキュメント" />
  <script type="application/ld+json">{"@context":"http://schema.org","@type":"WebPage","headline":"Configuring NFS Storage for Kubernetes","description":"Learn how to add support for NFS persistent storage by adding a default storage class.","url":"https://docs.docker.com/datacenter/ucp/3.1/guides/kubernetes/storage/use-nfs-volumes/"}</script>
  <!-- END SEO STUFF -->
  <meta name="robots" content="noindex" />
  <script>
  // Default to assuming this is an archive and hiding some stuff
  // See js/archive.js and js/docs.js for logic relating to this
  var isArchive = true;
  var dockerVersion = 'v19.03';
  </script>
</head>


    <body ng-app="Docker" ng-controller="DockerController" class="colums">
    <header>
        <nav class="nav-secondary navbar navbar-fixed-top">
    <!-- <div class="fan"></div> -->
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="/docs.docker.jp.onthefly/"><img class="logo" src="/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs"></a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="search-form" id="search-div" style="visibility: hidden">
    <form class="search-form form-inline ng-pristine ng-valid" id="searchForm" action="https://matsuand.github.io/docs.docker.jp.onthefly/search/">
        <input class="search-field form-control ds-input" id="st-search-input" value="" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteContainer">
            <div id="autocompleteResults"></div>
        </div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container">
    <div id="tabs">
        <ul class="tabs" id="jsTOCHorizontal">

        </ul>
    </div>
    <div class="ctrl-right hidden-xs hidden-sm">
        <a href="javascript:void(0)" id="menu-toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
        <div class="btn-group" style="visibility: hidden">
  <button type="button" class="btn btn-default dropdown-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Docker v19.03 (最新)     <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
    <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.09/">Docker v18.09</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.03/">Docker v18.03</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.06/">Docker v17.06</a></li>
  </ul>
</div>

    </div>
</div>

        </div>
    </div>
</nav>

    </header>
    <div class="wrapper right-open">
        <div class="container-fluid">
            <div class="row">
                <div class="col-body">
                    <main class="col-content content">
                        <section class="section">
                            
                            
                            <h1>Configuring NFS Storage for Kubernetes</h1> 
                            <span class="reading-time" title="Estimated reading time">
  <span class="reading-time-label">読む時間の目安: </span>
  
  
    7 分
  
</span>

                            


<blockquote><p>The documentation herein is for UCP version 3.1.12.</p>
<p>Use the drop-down below to access documentation for the current version or for a different past version.</p>
<p>
  <div class="dropdown">
    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">3.1.12
    <span class="caret"></span></button>
    <ul class="dropdown-menu">
      
        <li><a href="/ee/ucp/">3.2 (latest)</a></li>
      
        
      
        <li><a href="/datacenter/ucp/3.0/guides/">3.0</a></li>
      
        <li><a href="/datacenter/ucp/2.2/guides/">2.2</a></li>
      
        <li><a href="/datacenter/ucp/2.1/guides/">2.1</a></li>
      
        <li><a href="/datacenter/ucp/2.0/guides/">2.0</a></li>
      
        
      
    </ul>
  </div>
  </p>
</blockquote>

                            
                            <p>Users can provide persistent storage for workloads running on Docker Enterprise
by using NFS storage. These NFS shares, when mounted into the running container,
provide state to the application, managing data external to the container’s
lifecycle.</p>

<blockquote>
  <p>Note: Provisioning an NFS server and exporting an NFS share are out of scope
for this guide. Additionally, using external <a href="https://github.com/kubernetes-incubator/external-storage/tree/master/nfs">Kubernetes
plugins</a>
to dynamically provision NFS shares, is also out of scope for this guide.</p>
</blockquote>

<p>To mount existing NFS shares within Kubernetes Pods, we have 2 options:</p>
<ul>
  <li>Define NFS shares within the Pod definitions. NFS shares are defined
manually by each tenant when creating a workload.</li>
  <li>Define NFS shares as a Cluster object through Persistent Volumes, with
the Cluster object lifecycle handled separately from the workload. This is common for
operators who want to define a range of NFS shares for tenants to request and
consume.</li>
</ul>

<h2 id="defining-nfs-shares-in-the-pod-definition">Defining NFS Shares in the Pod definition</h2>

<p>When defining workloads in Kubernetes manifest files, an end user can directly
reference the NFS shares to mount inside of each Pod. The NFS share is defined
within the Pod specification, which could be a standalone pod, or could be
wrapped in a higher-level object like a Deployment, Daemonset, or StatefulSet.</p>

<p>The following example includes a running UCP cluster and a downloaded
<a href="../../user-access/cli/#download-client-certificates">client bundle</a> with
permission to schedule pods in a namespace.</p>

<p>Here is an example pod specification with an NFS volume defined:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cat </span>nfs-in-a-pod.yaml
kind: Pod
apiVersion: v1
metadata:
  name: nfs-in-a-pod
spec:
  containers:
    - name: app
      image: alpine
      volumeMounts:
        - name: nfs-volume
          mountPath: /var/nfs <span class="c"># Please change the destination you like the share to be mounted too</span>
      <span class="nb">command</span>: <span class="o">[</span><span class="s2">"/bin/sh"</span><span class="o">]</span>
      args: <span class="o">[</span><span class="s2">"-c"</span>, <span class="s2">"sleep 500000"</span><span class="o">]</span>
  volumes:
    - name: nfs-volume
      nfs:
        server: nfs.example.com <span class="c"># Please change this to your NFS server</span>
        path: /share1 <span class="c"># Please change this to the relevant share</span>
</code></pre></div></div>

<p>To deploy the pod, and ensure that it started up correctly, use the <a href="../../user-access/kubectl/">kubectl</a> command line tool.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl create <span class="nt">-f</span> nfsinapod.yaml

<span class="nv">$ </span>kubectl get pods
NAME                     READY     STATUS      RESTARTS   AGE
nfs-in-a-pod             1/1       Running     0          6m
</code></pre></div></div>

<p>Verify everything was mounted correctly by getting a shell prompt
within the container and searching for your mount.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl <span class="nb">exec</span> <span class="nt">-it</span> nfs-in-a-pod sh
/ <span class="c">#</span>
/ <span class="c"># mount | grep nfs.example.com</span>
nfs.example.com://share1 on /var/nfs <span class="nb">type </span>nfs4 <span class="o">(</span>rw,relatime,vers<span class="o">=</span>4.0,rsize<span class="o">=</span>262144,wsize<span class="o">=</span>262144,namlen<span class="o">=</span>255,hard,proto<span class="o">=</span>tcp,timeo<span class="o">=</span>600,retrans<span class="o">=</span>2,sec<span class="o">=</span>sys,clientaddr<span class="o">=</span>172.31.42.23,local_lock<span class="o">=</span>none,addr<span class="o">=</span>nfs.example.com<span class="o">)</span>
/ <span class="c">#</span>
</code></pre></div></div>

<p>Because you defined the NFS share as part of the Pod spec, neither UCP nor Kubernetes
knows anything about this NFS share. This means that when the pod gets
deleted, the NFS share is unattached from the Cluster. However, the data remains in the NFS share.</p>

<h2 id="exposing-nfs-shares-as-a-cluster-object">Exposing NFS shares as a Cluster Object</h2>

<p>For this method, use the Kubernetes Objects <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistent-volumes">Persistent
Volumes</a>
and <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims">Persistent Volume
Claims</a>
to manage the lifecycle and access to NFS Shares.</p>

<p>Here you can define multiple shares for a tenant to use within the
cluster. The <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistent-volumes">Persistent
Volume</a>
is a cluster wide object, so it can be pre-provisioned. A
<a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims">Persistent Volume
Claim</a>
is a claim by a tenant for use of a Persistent Volume within their namespace.</p>

<blockquote>
  <p>Note: In this case, ‘NFS share lifecycle’ is referring to granting and removing the
end user’s ability to consume NFS storage, not managing the lifecycle
of the NFS Server.</p>
</blockquote>

<h3 id="persistent-volume">Persistent Volume</h3>

<p>Define the Persistent Volume at the cluster level:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cat </span>pvwithnfs.yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  name: my-nfs-share
spec:
  capacity:
    storage: 5Gi <span class="c"># This size is used to match a volume to a tenents claim</span>
  accessModes:
    - ReadWriteOnce <span class="c"># Access modes are defined below</span>
  persistentVolumeReclaimPolicy: Recycle <span class="c"># Reclaim policies are defined below</span>
  nfs:
    server: nfs.example.com <span class="c"># Please change this to your NFS server</span>
    path: /share1 <span class="c"># Please change this to the relevant share</span>
</code></pre></div></div>

<p>To create Persistent Volume objects at the Cluster level, you need a <a href="https://kubernetes.io/docs/reference/access-authn-authz/rbac/#rolebinding-and-clusterrolebinding">Cluster
Role
Binding</a>
grant. Again use the <a href="../../user-access/kubectl/">kubectl</a> command line tool to create the
volume:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ kubectl create -f pvwithnfs.yaml

$ kubectl get pv
NAME           CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS      CLAIM                       STORAGECLASS   REASON    AGE

my-nfs-share   5Gi        RWO            Recycle          Available                               slow                     7s
</code></pre></div></div>

<h4 id="access-modes">Access Modes</h4>

<p>The access mode for a NFS Persistent Volume can be any of the following modes:</p>

<ul>
  <li><strong><em>ReadWriteOnce</em></strong> – the volume can be mounted as read-write by a single node.</li>
  <li><strong><em>ReadOnlyMany</em></strong> – the volume can be mounted read-only by many nodes.</li>
  <li><strong><em>ReadWriteMany</em></strong> – the volume can be mounted as read-write by many nodes.</li>
</ul>

<p>The access mode in the Persistent Volume definition is used to match a
Persistent Volume to a Claim. When a Persistent Volume is defined and created
inside of Kubernetes, a Volume is not mounted. See <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#access-modes">access
modes in the Kubernetes documentation</a>,
for more details.</p>

<h4 id="reclaim">Reclaim</h4>

<p>The <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#reclaiming">reclaim
policy</a>
is used to define what the cluster should do after a Persistent Volume has been
released from a Claim. A Persistent Volume Reclaim policy could be: Reclaim,
Recycle and Delete. See <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#reclaiming">Reclaiming in the Kubernetes
documentation</a>
for a deeper understanding.</p>

<h3 id="persistent-volume-claim">Persistent Volume Claim</h3>

<p>A tenant can now “claim” a Persistent Volume for use within their workloads
by using a Kubernetes Persistent Volume Claim. A Persistent Volume Claim resides within a namespace,
and it attempts to match available Persistent Volumes
to what a tenant has requested.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cat </span>myapp-claim.yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: myapp-nfs
  namespace: default
spec:
  accessModes:
    - ReadWriteOnce <span class="c"># Access modes for volumes is defined under Persistent Volumes</span>
  resources:
    requests:
      storage: 5Gi <span class="c"># volume size requested</span>
</code></pre></div></div>

<p>A tenant with a
<a href="https://kubernetes.io/docs/reference/access-authn-authz/rbac/#rolebinding-and-clusterrolebinding">RoleBinding</a>
to create Persistent Volume Claims can deploy this Persistent
Volume Claim. If there is a Persistent Volume that meets the tenant’s
criteria, Kubernetes binds the Persistent Volume to the Claim. Again, this does not mount the share.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl create <span class="nt">-f</span> myapp-claim.yaml
persistentvolumeclaim <span class="s2">"myapp-nfs"</span> created

<span class="nv">$ </span>kubectl get pvc
NAME        STATUS    VOLUME         CAPACITY   ACCESS MODES   STORAGECLASS   AGE
myapp-nfs   Bound     my-nfs-share   5Gi        RWO            slow           2s

<span class="nv">$ </span>kubectl get pv
NAME           CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS    CLAIM                       STORAGECLASS   REASON    AGE
my-nfs-share   5Gi        RWO            Recycle          Bound     default/myapp-nfs           slow                     4m
</code></pre></div></div>

<h3 id="defining-a-workload">Defining a workload</h3>

<p>Finally, a tenant can deploy a workload to consume the Persistent Volume Claim.
The Persistent Volume Claim is defined within the Pod specification, which could
be a standalone pod or could be wrapped in a higher-level object like a
Deployment, Daemonset, or StatefulSet.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cat </span>myapp-pod.yaml
kind: Pod
apiVersion: v1
metadata:
  name: pod-using-nfs
spec:
  containers:
    - name: app
      image: alpine
      volumeMounts:
      - name: data
          mountPath: /var/nfs <span class="c"># Please change the destination you like the share to be mounted too</span>
      <span class="nb">command</span>: <span class="o">[</span><span class="s2">"/bin/sh"</span><span class="o">]</span>
      args: <span class="o">[</span><span class="s2">"-c"</span>, <span class="s2">"sleep 500000"</span><span class="o">]</span>
  volumes:
  - name: data
    persistentVolumeClaim:
      claimName: myapp-nfs
</code></pre></div></div>

<p>The pod can be deployed by a tenant using the
<a href="../../user-access/kubectl/">kubectl</a> command line tool. Additionally, you can
verify that the pod is running successfully and that the NFS share has been mounted
inside of the container.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl create <span class="nt">-f</span> myapp-pod.yaml

<span class="nv">$ </span>kubectl get pod
NAME                     READY     STATUS      RESTARTS   AGE
pod-using-nfs            1/1       Running     0          1m

<span class="nv">$ </span>kubectl <span class="nb">exec</span> <span class="nt">-it</span> pod-using-nfs sh
/ <span class="c"># mount | grep nfs.example.com</span>
nfs.example.com://share1 on /var/nfs <span class="nb">type </span>nfs4 <span class="o">(</span>rw,relatime,vers<span class="o">=</span>4.1,rsize<span class="o">=</span>262144,wsize<span class="o">=</span>262144,namlen<span class="o">=</span>255,hard,proto<span class="o">=</span>tcp,timeo<span class="o">=</span>600,retrans<span class="o">=</span>2,sec<span class="o">=</span>sys,clientaddr<span class="o">=</span>172.31.42.23,local_lock<span class="o">=</span>none,addr<span class="o">=</span>nfs.example.com<span class="o">)</span>
/ <span class="c">#</span>
</code></pre></div></div>

<h2 id="where-to-go-next">Where to go next</h2>

<ul>
  <li><a href="/ee/ucp/kubernetes/layer-7-routing/">Deploy an Ingress Controller on Kubernetes</a></li>
  <li><a href="/ee/ucp/kubernetes/kubernetes-network-encryption/">Discover Network Encryption on Kubernetes</a></li>
</ul>

                            <!-- tags -->
                            
                            <span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span
                                style="vertical-align: 2px"><a
                                    href="https://docs.docker.com/search/?q=Universal Control Plane">Universal Control Plane</a>, <a
                                    href="https://docs.docker.com/search/?q=UCP">UCP</a>, <a
                                    href="https://docs.docker.com/search/?q=Docker EE">Docker EE</a>, <a
                                    href="https://docs.docker.com/search/?q=Kubernetes">Kubernetes</a>, <a
                                    href="https://docs.docker.com/search/?q=storage">storage</a>, <a
                                    href="https://docs.docker.com/search/?q=volume">volume</a></span>
                            
                            
                            <div id="ratings-div"
                                style="color:#b9c2cc; text-align: center; margin-top: 150px; visibility: hidden">
                                <div id="pd_rating_holder_8453675"></div>
                                <script type="text/javascript">
                                    PDRTJS_settings_8453675 = {
                                        "id": "8453675",
                                        "unique_id": "datacenter/ucp/3.1/guides/kubernetes/storage/use-nfs-volumes.md",
                                        "title": "Configuring NFS Storage for Kubernetes",
                                        "permalink": "https://github.com/docker/docker.github.io/blob/master/datacenter/ucp/3.1/guides/kubernetes/storage/use-nfs-volumes.md"
                                    };
                                    (function (d, c, j) {
                                        if (!document.getElementById(j)) {
                                            var pd = d.createElement(c),
                                                s;
                                            pd.id = j;
                                            pd.src = ('https:' == document.location.protocol) ? 'https://polldaddy.com/js/rating/rating.js' : 'http://i0.poll.fm/js/rating/rating.js';
                                            s = document.getElementsByTagName(c)[0];
                                            s.parentNode.insertBefore(pd, s);
                                        }
                                    }(document, 'script', 'pd-rating-js'));
                                </script>
                            </div>
                            
                        </section>
                    </main>
                    <nav class="col-nav">
                        <div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
                            <div id="navbar" class="nav-sidebar">
    <ul class="nav" id="jsTOCLeftNav">
    </ul>
</div>

                        </div>
                    </nav>
                    <div class="col-toc">
                        <div class="sidebar hidden-xs hidden-sm">
                            <div class="toc-nav">
                                <div class="feedback-links">
                                    <ul>
                                        
                                        <li style="visibility: hidden"><a href="https://github.com/matsuand/docs.docker.jp/edit/v19.03.local/datacenter/ucp/3.1/guides/kubernetes/storage/use-nfs-volumes.md"><i
                                                    class="fa fa-pencil-square-o" aria-hidden="true"></i> このページの編集</a></li>
                                        <li><a href="https://github.com/matsuand/docs.docker.jp/issues/new?body=ファイル: [datacenter/ucp/3.1/guides/kubernetes/storage/use-nfs-volumes.md](https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/ucp/3.1/guides/kubernetes/storage/use-nfs-volumes/)"
                                                class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 文書変更のリクエスト</a></li>
                                        <!-- toggle mode -->
                                        <li>
                                            <div class="toggle-mode">
                                                <div class="icon">
                                                    <i class="fa fa-sun-o" aria-hidden="true"></i>
                                                </div>
                                                <div class="toggle-switch">
                                                    <label class="switch">
                                                        <input type="checkbox" id="switch-style">
                                                        <div class="slider round"></div>
                                                    </label>
                                                </div>
                                                <div class="icon">
                                                    <i class="fa fa-moon-o" aria-hidden="true"></i>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                
                                
                                
                                
                                <div id="side-toc-title">本ページ内:</div>
                                
<ul id="my_toc" class="inline_toc">
  <li><a href="#defining-nfs-shares-in-the-pod-definition" class="nomunge">Defining NFS Shares in the Pod definition</a></li>
  <li><a href="#exposing-nfs-shares-as-a-cluster-object" class="nomunge">Exposing NFS shares as a Cluster Object</a>
    <ul>
      <li><a href="#persistent-volume" class="nomunge">Persistent Volume</a></li>
      <li><a href="#persistent-volume-claim" class="nomunge">Persistent Volume Claim</a></li>
      <li><a href="#defining-a-workload" class="nomunge">Defining a workload</a></li>
    </ul>
  </li>
  <li><a href="#where-to-go-next" class="nomunge">Where to go next</a></li>
</ul>


                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    
    <footer class="footer">
          
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/why-docker">Why Docker</a></b></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/overview">Products</a></b></li>
                        <li><a href="https://www.docker.com/products/docker-desktop">Docker Desktop</a></li>
                        <li><a href="https://www.docker.com/products/docker-hub">Docker Hub</a></li>
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Features</a></b></li>
                        <li><a href="https://www.docker.com/products/container-runtime">Container Runtime</a></li>
                        <li><a href="https://www.docker.com/products/developer-tools">Developer Tools</a></li>
                        <li><a href="https://www.docker.com/products/kubernetes">Kubernetes</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop">Developers</a></b></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/play-with-docker">Play with Docker</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/open-source">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/company" target="_blank">Company</a></b></li>
                        <li><a href="https://www.docker.com/company">About Us</a></li>
                        <li><a href="https://www.docker.com/blog/" target="_blank">Blog</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners">Partners</a></li>
                        <li><a href="https://www.docker.com/company/newsroom">Newsroom</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/docker-security">Security</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2013-2020 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-slideshare"><a href="https://www.slideshare.net/docker">Slideshare</a></li>
                    <li class="fa fa-reddit"><a href="https://www.reddit.com/r/docker">Reddit</a></li>
                </ul>
            </div>
        </div>
    </div>

    </footer>
    <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/github.css">
    
    <script defer src="/docs.docker.jp.onthefly/js/anchorlinks.js"></script>
    <script defer src="/docs.docker.jp.onthefly/js/menu.js"></script>
    <script src="/docs.docker.jp.onthefly/js/jquery.js"></script>
    <script src="/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
    <!-- Always include the archive.js, but it doesn't do much unless we are an archive -->
    <script>
        // Default to assuming this is an archive and hiding some stuff
        // See js/archive.js and js/docs.js for logic relating to this
        var isArchive = true;
        var dockerVersion = 'v19.03';
        // In archives, we need to know the page root and we get it from JEKYLL_ENV in the jekyll build command
        var jekyllEnv = 'development';
        // If unset (in non-archive branches), defaults to "development". In that case, reset it to empty
        if (jekyllEnv === 'development') {
            jekyllEnv = '';
        }
        var pageURL = jekyllEnv + '/datacenter/ucp/3.1/guides/kubernetes/storage/use-nfs-volumes/';
    </script>
    <script src="/docs.docker.jp.onthefly/js/archive.js"></script>
    <script src="/docs.docker.jp.onthefly/js/stickyfill.min.js"></script>
    <script defer src="/docs.docker.jp.onthefly/js/metadata.js"></script>
    <script src="/docs.docker.jp.onthefly/js/glossary.js"></script>
    <script defer src="/docs.docker.jp.onthefly/js/docs.js"></script>
    <script defer src="/docs.docker.jp.onthefly/js/toc.js"></script>
    <script>
        jQuery(document).ready(function () { hookupTOCEvents(); });
    </script>
</body>


</html>
