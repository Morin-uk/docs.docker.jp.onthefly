<!-- Page generated 2020-03-27 18:38:29 +0900 -->
<!-- relative link basehrefs -->

	
	
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
			


<!-- Logic for 'edit this button' -->


	

	

	

	

	

	

	

	

	


<!-- End of logic for 'edit this button' -->


<!DOCTYPE html>
<html lang="ja">

<head>
	<base href="docs.docker.jp.onthefly/datacenter/ucp/3.1/guides/admin/configure/join-nodes/" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<style type="text/css">
		@charset "UTF-8";
		[ng\:cloak],
		[ng-cloak],
		[data-ng-cloak],
		[x-ng-cloak],
		.ng-cloak,
		.x-ng-cloak,
		.ng-hide:not(.ng-hide-animate) {
			display: none !important;
		}

		ng\:form {
			display: block;
		}
	</style>
	<!-- Google Tag Manager -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-WL2QLG5');</script>
	<!-- End Google Tag Manager -->
	
	<!-- favicon -->
	<link rel="icon" type="image/x-icon" href="docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta name="msapplication-TileImage" content="docs.docker.jp.onthefly/favicons/docs@2x.ico">
	<link rel="apple-touch-icon" type="image/x-icon" href="docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta property="og:image" content="docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
	<!-- metadata -->
	<meta property="og:type" content="website"/>
	<meta property="og:updated_time" itemprop="dateUpdated" content="2020-03-27T18:38:29+09:00"/>
	<meta property="og:image" itemprop="image primaryImageOfPage" content="docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:card" content="summary"/>
	<meta name="twitter:domain" content="docs.docker.jp"/>
	<meta name="twitter:site" content="@docker_docs"/>
	<meta name="twitter:url" content="https://twitter.com/docker_docs"/>
	<meta name="twitter:title" itemprop="title name" content="Join Windows worker nodes to your cluster"/>
	<meta name="twitter:description" property="og:description" itemprop="description" content="Docker Enterprise 2.1 supports worker nodes that run on Windows Server 2016, 1709, or 1803. Only worker nodes are supported on Windows, and all manager nodes in the cluster must..." />
	<meta name="twitter:image:src" content="docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:image:alt" content="Docker ドキュメント"/>
	<meta property="article:published_time" itemprop="datePublished" content="2020-03-27T18:38:29+09:00"/>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="keywords" content="Docker Enterprise, UCP, cluster, scale, worker, Windows">
	<link rel="stylesheet" href="docs.docker.jp.onthefly/css/font-awesome.min.css">
	<link rel="stylesheet" href="docs.docker.jp.onthefly/css/bootstrap.min.css">
	<link id="pygments" rel="stylesheet" href="docs.docker.jp.onthefly/css/pygments/perldoc.css">
	<link id="pagestyle" rel="stylesheet" href="docs.docker.jp.onthefly/css/style.css">

	<!-- Go get "Open Sans" font from Google -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
	<!-- SEO stuff -->
	<title>Join Windows worker nodes to your cluster | Docker ドキュメント</title>
<meta property="og:title" content="Join Windows worker nodes to your cluster" />
<meta property="og:locale" content="ja_JP" />
<meta name="description" content="Join worker nodes that are running on Windows Server to a Docker Enterprise cluster." />
<meta property="og:description" content="Join worker nodes that are running on Windows Server to a Docker Enterprise cluster." />
<link rel="canonical" href="docs.docker.jp.onthefly/datacenter/ucp/3.1/guides/admin/configure/join-nodes/join-windows-nodes-to-cluster/" />
<meta property="og:url" content="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/ucp/3.1/guides/admin/configure/join-nodes/join-windows-nodes-to-cluster/" />
<meta property="og:site_name" content="Docker ドキュメント" />
<script type="application/ld+json">
{"@context":"http://schema.org","@type":"WebPage","headline":"Join Windows worker nodes to your cluster","description":"Join worker nodes that are running on Windows Server to a Docker Enterprise cluster.","url":"https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/ucp/3.1/guides/admin/configure/join-nodes/join-windows-nodes-to-cluster/"}</script>
	<!-- END SEO STUFF -->
	<meta name="robots" content="noindex" />
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v19.03';
	</script>
</head>
<body ng-app="Docker" ng-controller="DockerController" class="colums">
	<header>
		 <nav class="nav-secondary navbar navbar-fixed-top">
    <!-- <div class="fan"></div> -->
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="docs.docker.jp.onthefly/"><img class="logo" src="docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs"></a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="search-form" id="search-div" style="visibility: hidden">
    <form class="search-form form-inline ng-pristine ng-valid" id="searchForm" action="/docs.docker.jp.onthefly/search/">
        <input class="search-field form-control ds-input" id="st-search-input" value="" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteContainer">
            <div id="autocompleteResults"></div>
        </div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container">
    <div id="tabs">
        <ul class="tabs" id="jsTOCHorizontal">

        </ul>
    </div>
    <div class="ctrl-right hidden-xs hidden-sm">
        <a href="javascript:void(0)" id="menu-toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
        <div class="btn-group" style="visibility: hidden">
  <button type="button" class="btn btn-default dropdown-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Docker v19.03 (current)     <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
    <li><a href="docs.docker.jp.onthefly/v18.09/">Docker v18.09</a></li><li><a href="docs.docker.jp.onthefly/v18.03/">Docker v18.03</a></li><li><a href="docs.docker.jp.onthefly/v17.06/">Docker v17.06</a></li>
  </ul>
</div>

    </div>
</div>

        </div>
    </div>
</nav>

	</header>

	<div class="wrapper right-open">
		<div class="container-fluid">
			<div class="row">
				<div class="col-body">
					<main class="col-content content">
						<section class="section">
							
								
							<h1>Join Windows worker nodes to your cluster</h1>  <span class="reading-time" title="Estimated reading time">
  <span class="reading-time-label">読む時間の目安: </span>
  
  
    7 分
  
</span>

							


<blockquote><p>The documentation herein is for UCP version 3.1.12.</p>
<p>Use the drop-down below to access documentation for the current version or for a different past version.</p>
<p>
  <div class="dropdown">
    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">3.1.12
    <span class="caret"></span></button>
    <ul class="dropdown-menu">
      
        <li><a href="docs.docker.jp.onthefly/ee/ucp/">3.2 (latest)</a></li>
      
        
      
        <li><a href="docs.docker.jp.onthefly/datacenter/ucp/3.0/guides/">3.0</a></li>
      
        <li><a href="docs.docker.jp.onthefly/datacenter/ucp/2.2/guides/">2.2</a></li>
      
        <li><a href="docs.docker.jp.onthefly/datacenter/ucp/2.1/guides/">2.1</a></li>
      
        <li><a href="docs.docker.jp.onthefly/datacenter/ucp/2.0/guides/">2.0</a></li>
      
        
      
    </ul>
  </div>
  </p>
</blockquote>

							
							<p>Docker Enterprise 2.1 supports worker nodes that run on Windows Server 2016, 1709,
or 1803. Only worker nodes are supported on Windows, and all manager nodes in the cluster
must run on Linux.</p>

<p>Follow these steps to enable a worker node on Windows.</p>

<ol>
  <li>Install Docker Engine - Enterprise on Windows Server 2016, 1709, or 1803.</li>
  <li>Configure the Windows node.</li>
  <li>Join the Windows node to the cluster.</li>
</ol>

<p><strong>Note</strong>: Refer to the <a href="https://success.docker.com/article/compatibility-matrix">Docker compatibility matrix</a> for complete Docker compatibility information with Windows Server.</p>

<h2 id="install-docker-engine---enterprise-on-windows-server">Install Docker Engine - Enterprise on Windows Server</h2>

<p><a href="docs.docker.jp.onthefly/engine/installation/windows/docker-ee/#use-a-script-to-install-docker-ee">Install Docker Engine - Enterprise</a>
on a Windows Server 2016, 1709 or 1803 instance to enable joining a cluster that’s managed by
Docker Enterprise 2.1.</p>

<h2 id="configure-the-windows-node">Configure the Windows node</h2>

<p>Follow these steps to configure the docker daemon and the Windows environment.</p>

<ol>
  <li>Pull the Windows-specific image of <code class="highlighter-rouge">ucp-agent</code>, which is named <code class="highlighter-rouge">ucp-agent-win</code>.</li>
  <li>Run the Windows worker setup script provided with <code class="highlighter-rouge">ucp-agent-win</code>.</li>
  <li>Join the cluster with the token provided by the Docker UCP web interface or CLI.</li>
</ol>

<h3 id="add-a-label-to-the-node">Add a label to the node</h3>

<p>As of Docker Enterprise 2.1, which includes UCP 3.1, this step is no longer necessary. Windows nodes are automatically assigned the <code class="highlighter-rouge">ostype</code> label <code class="highlighter-rouge">ostype=windows</code>.</p>

<h3 id="pull-the-windows-specific-images">Pull the Windows-specific images</h3>

<p>On a manager node, run the following command to list the images that are required
on Windows nodes.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker container run <span class="nt">--rm</span> docker/ucp:3.1.12 images <span class="nt">--list</span> <span class="nt">--enable-windows</span>
docker/ucp-agent-win:3.1.12
docker/ucp-dsinfo-win:3.1.12
</code></pre></div></div>

<p>On Windows Server 2016, in a PowerShell terminal running as Administrator,
log in to Docker Hub with the <code class="highlighter-rouge">docker login</code> command and pull the listed images.</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker image pull docker/ucp-agent-win:3.1.12
docker image pull docker/ucp-dsinfo-win:3.1.12
</code></pre></div></div>

<h3 id="run-the-windows-node-setup-script">Run the Windows node setup script</h3>

<p>You need to open ports 2376 and 12376, and create certificates
for the Docker daemon to communicate securely. Use this command to run
the Windows node setup script:</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$script</span> <span class="o">=</span> <span class="o">[</span>ScriptBlock]::Create<span class="o">((</span>docker run --rm docker/ucp-agent-win:3.1.12 windows-script | <span class="nb">Out-String</span><span class="o">))</span>

Invoke-Command <span class="nv">$script</span>
</code></pre></div></div>

<blockquote>
  <p>Docker daemon restart</p>

  <p>When you run <code class="highlighter-rouge">windows-script</code>, the Docker service is unavailable temporarily.</p>
</blockquote>

<p>The Windows node is ready to join the cluster. Run the setup script on each
instance of Windows Server that will be a worker node.</p>

<h3 id="compatibility-with-daemonjson">Compatibility with daemon.json</h3>

<p>The script may be incompatible with installations that use a config file at
<code class="highlighter-rouge">C:\ProgramData\docker\config\daemon.json</code>. If you use such a file, make sure
that the daemon runs on port 2376 and that it uses certificates located in
<code class="highlighter-rouge">C:\ProgramData\docker\daemoncerts</code>. If certificates don’t exist in this
directory, run <code class="highlighter-rouge">ucp-agent-win generate-certs</code>, as shown in Step 2 of the
procedure in <a href="docs.docker.jp.onthefly/join-windows-nodes-to-cluster.md#set-up-certs-for-the-dockerd-service">Set up certs for the dockerd service</a>.</p>

<p>In the daemon.json file, set the <code class="highlighter-rouge">tlscacert</code>, <code class="highlighter-rouge">tlscert</code>, and <code class="highlighter-rouge">tlskey</code> options
to the corresponding files in <code class="highlighter-rouge">C:\ProgramData\docker\daemoncerts</code>:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
</span><span class="err">...</span><span class="w">
		</span><span class="s2">"debug"</span><span class="p">:</span><span class="w">     </span><span class="kc">true</span><span class="p">,</span><span class="w">
		</span><span class="s2">"tls"</span><span class="p">:</span><span class="w">       </span><span class="kc">true</span><span class="p">,</span><span class="w">
		</span><span class="s2">"tlscacert"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C:</span><span class="se">\P</span><span class="s2">rogramData</span><span class="se">\d</span><span class="s2">ocker</span><span class="se">\d</span><span class="s2">aemoncerts</span><span class="se">\c</span><span class="s2">a.pem"</span><span class="p">,</span><span class="w">
		</span><span class="s2">"tlscert"</span><span class="p">:</span><span class="w">   </span><span class="s2">"C:</span><span class="se">\P</span><span class="s2">rogramData</span><span class="se">\d</span><span class="s2">ocker</span><span class="se">\d</span><span class="s2">aemoncerts</span><span class="se">\c</span><span class="s2">ert.pem"</span><span class="p">,</span><span class="w">
		</span><span class="s2">"tlskey"</span><span class="p">:</span><span class="w">    </span><span class="s2">"C:</span><span class="se">\P</span><span class="s2">rogramData</span><span class="se">\d</span><span class="s2">ocker</span><span class="se">\d</span><span class="s2">aemoncerts</span><span class="se">\k</span><span class="s2">ey.pem"</span><span class="p">,</span><span class="w">
		</span><span class="s2">"tlsverify"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
</span><span class="err">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="join-the-windows-node-to-the-cluster">Join the Windows node to the cluster</h2>

<p>Now you can join the cluster by using the <code class="highlighter-rouge">docker swarm join</code> command that’s
provided by the Docker UCP web interface and CLI.</p>

<ol>
  <li>Log in to the Docker UCP web interface with an administrator account.</li>
  <li>Navigate to the <strong>Nodes</strong> page.</li>
  <li>Click <strong>Add Node</strong> to add a new node.</li>
  <li>In the <strong>Node Type</strong> section, click <strong>Windows</strong>.</li>
  <li>In the <strong>Step 2</strong> section, click the checkbox for
“I’m ready to join my windows node.”</li>
  <li>Check the <strong>Use a custom listen address</strong> option to specify the address
and port where new node listens for inbound cluster management traffic.</li>
  <li>
    <p>Check the <strong>Use a custom listen address</strong> option to specify the
IP address that’s advertised to all members of the cluster for API access.</p>

    <p><img src="../../../images/join-windows-nodes-to-cluster-1.png" alt="" class="with-border" /></p>
  </li>
</ol>

<p>Copy the displayed command. It looks similar to the following:</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker swarm join --token &lt;token&gt; &lt;ucp-manager-ip&gt;
</code></pre></div></div>

<p>You can also use the command line to get the join token. Using your
<a href="docs.docker.jp.onthefly/datacenter/ucp/3.1/guides/user-access/cli/">UCP client bundle</a>, run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker swarm join-token worker
</code></pre></div></div>

<p>Run the <code class="highlighter-rouge">docker swarm join</code> command on each instance of Windows Server that
will be a worker node.</p>

<h2 id="configure-a-windows-worker-node-manually">Configure a Windows worker node manually</h2>

<p>The following sections describe how to run the commands in the setup script
manually to configure the <code class="highlighter-rouge">dockerd</code> service and the Windows environment.
The script opens ports in the firewall and sets up certificates for <code class="highlighter-rouge">dockerd</code>.</p>

<p>To see the script, you can run the <code class="highlighter-rouge">windows-script</code> command without piping
to the <code class="highlighter-rouge">Invoke-Expression</code> cmdlet.</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker container run --rm docker/ucp-agent-win:3.1.12 windows-script
</code></pre></div></div>

<h3 id="open-ports-in-the-windows-firewall">Open ports in the Windows firewall</h3>

<p>Docker Enterprise requires that ports 2376 and 12376 are open for inbound TCP traffic.</p>

<p>In a PowerShell terminal running as Administrator, run these commands
to add rules to the Windows firewall.</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>netsh advfirewall firewall add rule <span class="nv">name</span><span class="o">=</span><span class="s2">"docker_local"</span> <span class="nb">dir</span><span class="o">=</span><span class="k">in </span><span class="nv">action</span><span class="o">=</span>allow <span class="nv">protocol</span><span class="o">=</span>TCP <span class="nv">localport</span><span class="o">=</span>2376
netsh advfirewall firewall add rule <span class="nv">name</span><span class="o">=</span><span class="s2">"docker_proxy"</span> <span class="nb">dir</span><span class="o">=</span><span class="k">in </span><span class="nv">action</span><span class="o">=</span>allow <span class="nv">protocol</span><span class="o">=</span>TCP <span class="nv">localport</span><span class="o">=</span>12376
</code></pre></div></div>

<h3 id="set-up-certs-for-the-dockerd-service">Set up certs for the dockerd service</h3>

<ol>
  <li>Create the directory <code class="highlighter-rouge">C:\ProgramData\docker\daemoncerts</code>.</li>
  <li>
    <p>In a PowerShell terminal running as Administrator, run the following command
to generate certificates.</p>

    <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker container run --rm -v C:\ProgramData\docker\daemoncerts:C:\certs docker/ucp-agent-win:3.1.12 generate-certs
</code></pre></div>    </div>
  </li>
  <li>
    <p>To set up certificates, run the following commands to stop and unregister the
<code class="highlighter-rouge">dockerd</code> service, register the service with the certificates, and restart the service.</p>

    <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">Stop-Service </span>docker
dockerd --unregister-service
dockerd -H npipe:// -H 0.0.0.0:2376 --tlsverify --tlscacert<span class="o">=</span>C:\ProgramData\docker\daemoncerts\ca.pem --tlscert<span class="o">=</span>C:\ProgramData\docker\daemoncerts\cert.pem --tlskey<span class="o">=</span>C:\ProgramData\docker\daemoncerts\key.pem --register-service
<span class="nb">Start-Service </span>docker
</code></pre></div>    </div>
  </li>
</ol>

<p>The <code class="highlighter-rouge">dockerd</code> service and the Windows environment are now configured to join a Docker Enterprise cluster.</p>

<blockquote>
  <p>TLS certificate setup</p>

  <p>If the TLS certificates aren’t set up correctly, the Docker UCP web interface shows the
following warning.</p>

  <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Node WIN-NOOQV2PJGTE is a Windows node that cannot connect to its local Docker daemon.
</code></pre></div>  </div>
</blockquote>

<h2 id="windows-nodes-limitations">Windows nodes limitations</h2>

<p>Some features are not yet supported on Windows nodes:</p>

<ul>
  <li>Networking
    <ul>
      <li>The cluster mode routing mesh can’t be used on Windows nodes. You can expose
a port for your service in the host where it is running, and use the HTTP
routing mesh to make your service accessible using a domain name.</li>
      <li>Encrypted networks are not supported. If you’ve upgraded from a previous
version, you’ll also need to recreate the <code class="highlighter-rouge">ucp-hrm</code> network to make it
unencrypted.</li>
    </ul>
  </li>
  <li>Secrets
    <ul>
      <li>When using secrets with Windows services, Windows stores temporary secret
files on disk. You can use BitLocker on the volume containing the Docker
root directory to encrypt the secret data at rest.</li>
      <li>When creating a service which uses Windows containers, the options to
specify UID, GID, and mode are not supported for secrets. Secrets are
currently only accessible by administrators and users with system access
within the container.</li>
    </ul>
  </li>
  <li>Mounts
    <ul>
      <li>On Windows, Docker can’t listen on a Unix socket. Use TCP or a named pipe
instead.</li>
    </ul>
  </li>
</ul>

<h2 id="known-issues">Known Issues</h2>

<p>Refer to the <a href="docs.docker.jp.onthefly/ee/ucp/release-notes">Docker EE UCP release notes</a> for Known Issues information.</p>

							<!-- tags -->
							
							
							
							<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="https://matsuand.github.io/docs.docker.jp.onthefly/search/?q=Docker Enterprise">Docker Enterprise</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/search/?q=UCP">UCP</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/search/?q=cluster">cluster</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/search/?q=scale">scale</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/search/?q=worker">worker</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/search/?q=Windows">Windows</a></span>
							
							<!-- link corrections -->
              <script language="JavaScript">
							var x = document.links.length;
							var baseHref = document.getElementsByTagName('base')[0].href
							for (i = 0; i < x; i++) {
							  var munged = false;
							  var thisHREF = document.links[i].href;
							  var originalURL = "/datacenter/ucp/3.1/guides/admin/configure/join-nodes/join-windows-nodes-to-cluster/";
							  if (thisHREF.indexOf(baseHref + "#") > -1) {
							    // hash fix
							    //console.log('BEFORE: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							    thisHREF = originalURL + thisHREF.replace(baseHref, "");
							    //console.log('AFTER: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							  }
							  if ((thisHREF.indexOf(window.location.hostname) > -1 || thisHREF.indexOf('http') == -1) && document.links[i].className.indexOf("nomunge") < 0) {
							    munged = true;
							    thisHREF = thisHREF.replace(".md", "/").replace("/index/", "/");
							    document.links[i].setAttribute('href', thisHREF);
							  }
							}
							</script>
							
						  <div id="ratings-div" style="color:#b9c2cc; text-align: center; margin-top: 150px; visibility: hidden">
								<div id="pd_rating_holder_8453675"></div>
								<script type="text/javascript">
									PDRTJS_settings_8453675 = {
										"id": "8453675",
										"unique_id": "datacenter/ucp/3.1/guides/admin/configure/join-nodes/join-windows-nodes-to-cluster.md",
										"title": "Join Windows worker nodes to your cluster",
										"permalink": "https://github.com/docker/docker.github.io/blob/master/datacenter/ucp/3.1/guides/admin/configure/join-nodes/join-windows-nodes-to-cluster.md"
									};
									(function(d, c, j) {
										if (!document.getElementById(j)) {
											var pd = d.createElement(c),
												s;
											pd.id = j;
											pd.src = ('https:' == document.location.protocol) ? 'https://polldaddy.com/js/rating/rating.js' : 'http://i0.poll.fm/js/rating/rating.js';
											s = document.getElementsByTagName(c)[0];
											s.parentNode.insertBefore(pd, s);
										}
									}(document, 'script', 'pd-rating-js'));
								</script>
							</div>
							
						</section>
					</main>
					<nav class="col-nav">
						<div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
						<div id="navbar" class="nav-sidebar">
    <ul class="nav" id="jsTOCLeftNav">
    </ul>
</div>

						</div>
					</nav>
					<div class="col-toc">
							<div class="sidebar hidden-xs hidden-sm">
							<div class="toc-nav">
								<div class="feedback-links">
									<ul>
										
										<li style="visibility: hidden"><a href="https://github.com/matsuand/docs.docker.jp/edit/v19.03.local/datacenter/ucp/3.1/guides/admin/configure/join-nodes/join-windows-nodes-to-cluster.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> このページの編集</a></li>
										<li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/issues/new?body=File: [datacenter/ucp/3.1/guides/admin/configure/join-nodes/join-windows-nodes-to-cluster.md](https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/ucp/3.1/guides/admin/configure/join-nodes/join-windows-nodes-to-cluster/)"
															class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 文書変更のリクエスト</a></li>
										<li><a href="https://success.docker.com/support"><i class="fa fa-question" aria-hidden="true"></i> サポート依頼</a></li>
										<!-- toggle mode -->
										<li>
											<div class="toggle-mode">
												<div class="icon">
													<i class="fa fa-sun-o" aria-hidden="true"></i>
												</div>
												<div class="toggle-switch">
													<label class="switch">
														<input type="checkbox" id="switch-style">
														<div class="slider round"></div>
												</label>
												</div>
												<div class="icon">
													<i class="fa fa-moon-o" aria-hidden="true"></i>
												</div>
											</div>
										</li>
									</ul>
								</div>
								   
									<div id="side-toc-title">本ページ内</div>
									
<ul id="my_toc" class="inline_toc">
  <li><a href="docs.docker.jp.onthefly/join-windows-nodes-to-cluster.md#install-docker-engine---enterprise-on-windows-server" class="nomunge">Install Docker Engine - Enterprise on Windows Server</a></li>
  <li><a href="docs.docker.jp.onthefly/join-windows-nodes-to-cluster.md#configure-the-windows-node" class="nomunge">Configure the Windows node</a>
    <ul>
      <li><a href="docs.docker.jp.onthefly/join-windows-nodes-to-cluster.md#add-a-label-to-the-node" class="nomunge">Add a label to the node</a></li>
      <li><a href="docs.docker.jp.onthefly/join-windows-nodes-to-cluster.md#pull-the-windows-specific-images" class="nomunge">Pull the Windows-specific images</a></li>
      <li><a href="docs.docker.jp.onthefly/join-windows-nodes-to-cluster.md#run-the-windows-node-setup-script" class="nomunge">Run the Windows node setup script</a></li>
      <li><a href="docs.docker.jp.onthefly/join-windows-nodes-to-cluster.md#compatibility-with-daemonjson" class="nomunge">Compatibility with daemon.json</a></li>
    </ul>
  </li>
  <li><a href="docs.docker.jp.onthefly/join-windows-nodes-to-cluster.md#join-the-windows-node-to-the-cluster" class="nomunge">Join the Windows node to the cluster</a></li>
  <li><a href="docs.docker.jp.onthefly/join-windows-nodes-to-cluster.md#configure-a-windows-worker-node-manually" class="nomunge">Configure a Windows worker node manually</a>
    <ul>
      <li><a href="docs.docker.jp.onthefly/join-windows-nodes-to-cluster.md#open-ports-in-the-windows-firewall" class="nomunge">Open ports in the Windows firewall</a></li>
      <li><a href="docs.docker.jp.onthefly/join-windows-nodes-to-cluster.md#set-up-certs-for-the-dockerd-service" class="nomunge">Set up certs for the dockerd service</a></li>
    </ul>
  </li>
  <li><a href="docs.docker.jp.onthefly/join-windows-nodes-to-cluster.md#windows-nodes-limitations" class="nomunge">Windows nodes limitations</a></li>
  <li><a href="docs.docker.jp.onthefly/join-windows-nodes-to-cluster.md#known-issues" class="nomunge">Known Issues</a></li>
</ul>


								</div>
								
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	
	<footer class="footer">
		  
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/what-docker">What is Docker</a></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container</a></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners/partner-program">Partners</a></li>
                        <li class="break"><a href="https://www.docker.com/industry-government">For Government</a></li>
                        <li><a href="https://www.docker.com/company">About Docker</a></li>
                        <li><a href="https://www.docker.com/company/management">Management</a></li>
                        <li><a href="https://www.docker.com/company/news-and-press">Press &amp; News</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/products/overview">Product</a></li>
                        <li><a href="https://www.docker.com/pricing">Pricing</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community Edition</a></li>
                        <li class="break"><a href="https://www.docker.com/enterprise">Enterprise Edition </a></li>
                        <li><a href="https://www.docker.com/products/docker-datacenter">Docker Datacenter</a></li>
                        <li><a href="https://hub.docker.com/">Docker Hub</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/">Documentation</a></li>
                        <li><a href="https://www.docker.com/docker">Learn</a></li>
                        <li><a href="https://blog.docker.com" target="_blank">Blog</a></li>
                        <li><a href="https://engineering.docker.com" target="_blank">Engineering Blog</a></li>
                        <li><a href="https://training.docker.com/" target="_blank">Training</a></li>
                        <li><a href="https://success.docker.com/support">Support</a></li>
                        <li><a href="https://success.docker.com/kbase">Knowledge Base</a></li>
                        <li><a href="https://www.docker.com/products/resources">Resources</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/technologies/overview">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/events">Events</a></li>
                        <li><a href="https://forums.docker.com/" target="_blank">Forums</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                        <li><a href="https://www.docker.com/docker-community/scholarships">Scholarships</a></li>
                        <li><a href="https://blog.docker.com/curated/">Community News</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/docker-security">Security</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2019 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-reddit"><a href="http://www.reddit.com/r/docker">Reddit</a></li>
                    <li class="fa fa-slideshare"><a href="http://www.slideshare.net/docker">Slideshare</a></li>
                </ul>
            </div>
        </div>
    </div>

	</footer>
	<link rel="stylesheet" href="docs.docker.jp.onthefly/css/github.css">
	
	<script defer src="docs.docker.jp.onthefly/js/anchorlinks.js"></script>
	<script defer src="docs.docker.jp.onthefly/js/menu.js"></script>
	<script src="docs.docker.jp.onthefly/js/jquery.js"></script>
	<script src="docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
	<!-- Always include the archive.js, but it doesn't do much unless we are an archive -->
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v19.03';
	// In archives, we need to know the page root and we get it from JEKYLL_ENV in the jekyll build command
	var jekyllEnv = 'development';
	// If unset (in non-archive branches), defaults to "development". In that case, reset it to empty
	if (jekyllEnv == 'development') {
		jekyllEnv = '';
	}
	var pageURL = jekyllEnv + '/datacenter/ucp/3.1/guides/admin/configure/join-nodes/join-windows-nodes-to-cluster/';
	</script>
	<script src="docs.docker.jp.onthefly/js/archive.js"></script>
	<script src="docs.docker.jp.onthefly/js/stickyfill.min.js"></script>
	<script defer src="docs.docker.jp.onthefly/js/metadata.js"></script>
	<script src="docs.docker.jp.onthefly/js/glossary.js"></script>
	<script defer src="docs.docker.jp.onthefly/js/docs.js"></script>
	<script defer src="docs.docker.jp.onthefly/js/toc.js"></script>
	<script language="javascript">
	jQuery(document).ready(function(){
				hookupTOCEvents();
			});
	</script>
</body>

</html>
