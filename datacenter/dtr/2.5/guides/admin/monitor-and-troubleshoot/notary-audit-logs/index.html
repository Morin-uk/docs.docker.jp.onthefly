<!-- Page generated 2019-06-20 10:48:14 +0900 -->
<!-- relative link basehrefs -->

	
	
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
			


<!-- Logic for 'edit this button' -->


	

	

	

	

	

	

	

	

	


<!-- End of logic for 'edit this button' -->


<!DOCTYPE html>
<html lang="ja">

<head>
	<base href="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/dtr/2.5/guides/admin/monitor-and-troubleshoot/" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<style type="text/css">
		@charset "UTF-8";
		[ng\:cloak],
		[ng-cloak],
		[data-ng-cloak],
		[x-ng-cloak],
		.ng-cloak,
		.x-ng-cloak,
		.ng-hide:not(.ng-hide-animate) {
			display: none !important;
		}

		ng\:form {
			display: block;
		}
	</style>
	<script type="text/javascript">
	  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
	  analytics.load("IWj9D0UpZHZdZUZX9jl98PcpBFWBnBMy");
	  analytics.page();
	  }}();
	</script>
	
	<!-- favicon -->
	<link rel="icon" type="image/x-icon" href="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta name="msapplication-TileImage" content="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico">
	<link rel="apple-touch-icon" type="image/x-icon" href="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta property="og:image" content="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
	<!-- metadata -->
	<meta property="og:type" content="website"/>
	<meta property="og:updated_time" itemprop="dateUpdated" content="2019-06-20T10:48:14+09:00"/>
	<meta property="og:image" itemprop="image primaryImageOfPage" content="https://matsuand.github.io/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:card" content="summary"/>
	<meta name="twitter:domain" content="docs.docker.jp"/>
	<meta name="twitter:site" content="@docker_docs"/>
	<meta name="twitter:url" content="https://twitter.com/docker_docs"/>
	<meta name="twitter:title" itemprop="title name" content="Check Notary audit logs"/>
	<meta name="twitter:description" property="og:description" itemprop="description" content="Docker Content Trust (DCT) keeps audit logs of changes made to trusted repositories. Every time you push a signed image to a repository, or delete trust data for a repository,..." />
	<meta name="twitter:image:src" content="https://matsuand.github.io/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:image:alt" content="Docker Documentation"/>
	<meta property="article:published_time" itemprop="datePublished" content="2019-06-20T10:48:14+09:00"/>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="keywords" content="registry, monitor, troubleshoot">
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/bootstrap.min.css">
	<link id="pygments" rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/pygments/perldoc.css">
	<link id="pagestyle" rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/style.css">

	<!-- Go get "Open Sans" font from Google -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
	<!-- SEO stuff -->
	<title>Check Notary audit logs | Docker Documentation</title>
<meta property="og:title" content="Check Notary audit logs" />
<meta property="og:locale" content="ja_JP" />
<meta name="description" content="When you push signed images, Docker Trusted Registry keeps audit logs for the changes made to the image metadata. Learn how to view these logs." />
<meta property="og:description" content="When you push signed images, Docker Trusted Registry keeps audit logs for the changes made to the image metadata. Learn how to view these logs." />
<link rel="canonical" href="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/dtr/2.5/guides/admin/monitor-and-troubleshoot/notary-audit-logs/" />
<meta property="og:url" content="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/dtr/2.5/guides/admin/monitor-and-troubleshoot/notary-audit-logs/" />
<meta property="og:site_name" content="Docker Documentation" />
<script type="application/ld+json">
{"@context":"http://schema.org","@type":"WebPage","headline":"Check Notary audit logs","description":"When you push signed images, Docker Trusted Registry keeps audit logs for the changes made to the image metadata. Learn how to view these logs.","url":"https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/dtr/2.5/guides/admin/monitor-and-troubleshoot/notary-audit-logs/"}</script>
	<!-- END SEO STUFF -->
	<meta name="robots" content="noindex" />
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v18.09';
	</script>
</head>
<body ng-app="Docker" ng-controller="DockerController" class="colums">
	<header>
		 <nav class="nav-secondary navbar navbar-fixed-top">
    <!-- <div class="fan"></div> -->
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="https://matsuand.github.io/docs.docker.jp.onthefly/"><img class="logo" src="https://matsuand.github.io/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs"></a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="search-form" id="search-div" style="visibility: hidden">
    <form class="search-form form-inline ng-pristine ng-valid" /id="searchForm" action="/docs.docker.jp.onthefly/search/">
        <input class="search-field form-control ds-input" id="st-search-input" value="" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteContainer">
            <div id="autocompleteResults"></div>
        </div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container">
    <div id="tabs">
        <ul class="tabs" id="jsTOCHorizontal">

        </ul>
    </div>
    <div class="ctrl-right hidden-xs hidden-sm">
        <a href="javascript:void(0)" id="menu-toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
        <div class="btn-group" style="visibility: hidden">
  <button type="button" class="btn btn-default dropdown-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Docker v18.09 (current)        <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
    <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/edge/">Docker edge</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.03/">Docker v18.03</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.12/">Docker v17.12</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.09/">Docker v17.09</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.06/">Docker v17.06</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.03/">Docker v17.03</a></li>
  </ul>
</div>

    </div>
</div>

        </div>
    </div>
</nav>

	</header>

	<div class="wrapper right-open">
		<div class="container-fluid">
			<div class="row">
				<div class="col-body">
					<main class="col-content content">
						<section class="section">
							
								
							<h1>Check Notary audit logs</h1>  <span class="reading-time" title="Estimated reading time">
  <span class="reading-time-label">読む時間の目安: </span>
  
  
    6 分
  
</span>

							


<blockquote><p>These are the docs for DTR version 2.5.11</p>
<p>To select a different version, use the selector below.</p>
<p>
  <div class="dropdown">
    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">2.5.11
    <span class="caret"></span></button>
    <ul class="dropdown-menu">
      
        <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/dtr/">2.6 (latest)</a></li>
      
        
      
        <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/dtr/2.4/guides/">2.4</a></li>
      
        <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/dtr/2.3/guides/">2.3</a></li>
      
        <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/dtr/2.2/guides/">2.2</a></li>
      
        <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/dtr/2.1/guides/">2.1</a></li>
      
        <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/dtr/2.0/">2.0</a></li>
      
    </ul>
  </div>
  </p>
</blockquote>

							
							<p>Docker Content Trust (DCT) keeps audit logs of changes made to trusted repositories.
Every time you push a signed image to a repository, or delete trust data for a
repository, DCT logs that information.</p>

<p>These logs are only available from the DTR API.</p>

<h2 id="get-an-authentication-token">Get an authentication token</h2>

<p>To access the audit logs you need to authenticate your requests using an
authentication token. You can get an authentication token for all repositories,
or one that is specific to a single repository.</p>

<ul class="nav nav-tabs">
  <li class="active"><a data-toggle="tab" data-target="#tab1">Global</a></li>
  <li><a data-toggle="tab" data-target="#tab2">Repository-specific</a></li>
</ul>
<div class="tab-content">
  <div id="tab1" class="tab-pane fade in active">

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">--insecure</span> <span class="nt">--silent</span> <span class="se">\</span>
<span class="nt">--user</span> &lt;user&gt;:&lt;password&gt; <span class="se">\</span>
<span class="s2">"https://&lt;dtr-url&gt;/auth/token?realm=dtr&amp;service=dtr&amp;scope=registry:catalog:*"</span>
</code></pre></div>    </div>

    <hr />
  </div>
  <div id="tab2" class="tab-pane fade">

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">--insecure</span> <span class="nt">--silent</span> <span class="se">\</span>
<span class="nt">--user</span> &lt;user&gt;:&lt;password&gt; <span class="se">\</span>
<span class="s2">"https://&lt;dtr-url&gt;/auth/token?realm=dtr&amp;service=dtr&amp;scope=repository:&lt;dtr-url&gt;/&lt;repository&gt;:pull"</span>
</code></pre></div>    </div>

    <hr />
  </div>
</div>

<p>DTR returns a JSON file with a token, even when the user doesn’t have access
to the repository to which they requested the authentication token. This token
doesn’t grant access to DTR repositories.</p>

<p>The JSON file returned has the following structure:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;token&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;token&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;expiration in seconds&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"issued_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;time&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><a href="https://matsuand.github.io/docs.docker.jp.onthefly/registry/spec/auth/token/">Learn more about the authentication API</a>.</p>

<h2 id="changefeed-api">Changefeed API</h2>

<p>Once you have an authentication token you can use the following endpoints to
get audit logs:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">URL</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Authorization</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">GET /v2/_trust/changefeed</code></td>
      <td style="text-align: left">Get audit logs for all repositories.</td>
      <td style="text-align: left">Global scope token</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">GET /v2/&lt;dtr-url&gt;/&lt;repository&gt;/_trust/changefeed</code></td>
      <td style="text-align: left">Get audit logs for a specific repository.</td>
      <td style="text-align: left">Repository-specific token</td>
    </tr>
  </tbody>
</table>

<p>Both endpoints have the following query string parameters:</p>

<table>
  <thead>
    <tr>
      <th>Field name</th>
      <th>Required</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>change_id</code></td>
      <td>Yes</td>
      <td>String</td>
      <td>
        <p>A non-inclusive starting change ID from which to start returning results. This will
        typically be the first or last change ID from the previous page of records
        requested, depending on which direction your are paging in.</p>
        <p>The value <code>0</code> indicates records should be returned starting from the beginning
        of time.</p>
        <p>The value <code>1</code> indicates records should be returned starting from the most
        recent record. If <code>1</code> is provided, the implementation will also assume the
        records value is meant to be negative, regardless of the given sign.</p>
      </td>
    </tr>
    <tr>
      <td><code>records</code></td>
      <td>Yes</td>
      <td>Signed integer</td>
      <td>
      <p>The number of records to return. A negative value indicates the number
      of records preceding the <code>change_id</code> should be returned.
      Records are always returned sorted from oldest to newest. </p>
      </td>
    </tr>
  </tbody>
</table>

<h3 id="response">Response</h3>

<p>The response is a JSON like:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"records"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"ID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0a60ec31-d2aa-4565-9b74-4171a5083bef"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"CreatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-06T18:45:58.428Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"GUN"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dtr.example.org/library/wordpress"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"SHA256"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4ffcae03710ae61f6d15d20ed5e3f3a6a91ebfd2a4ba7f31fc6308ec6cc3e3d"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Below is the description for each of the fields in the response:</p>

<table>
  <thead>
    <tr>
      <th>Field name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>count</code></td>
      <td>The number of records returned.</td>
    </tr>
    <tr>
      <td><code>ID</code></td>
      <td>The ID of the change record. Should be used in the <code>change_id</code>
      field of requests to provide a non-exclusive starting index. It should be treated
      as an opaque value that is guaranteed to be unique within an instance of
      notary.</td>
    </tr>
    <tr>
      <td><code>CreatedAt</code></td>
      <td>The time the change happened.</td>
    </tr>
    <tr>
      <td><code>GUN</code></td>
      <td>The DTR repository that was changed.</td>
    </tr>
    <tr>
      <td><code>Version</code></td>
      <td>
        <p>The version that the repository was updated to. This increments
        every time there's a change to the trust repository.</p>
        <p>This is always <code>0</code> for events representing trusted data being
        removed from the repository.</p>
        </td>
    </tr>
    <tr>
      <td><code>SHA256</code></td>
      <td>
        <p>The checksum of the timestamp being updated to. This can be used
        with the existing notary APIs to request said timestamp.</p>
        <p>This is always an empty string for events representing trusted data
        being removed from the repository</p>
      </td>
    </tr>
    <tr>
      <td><code>Category</code></td>
      <td>The kind of change that was made to the trusted repository. Can be
      <code>update</code>, or <code>deletion</code>.</td>
    </tr>
  </tbody>
</table>

<p>The results only include audit logs for events that happened more than 60
seconds ago, and are sorted from oldest to newest.</p>

<p>Even though the authentication API always returns a token, the changefeed
API validates if the user has access to see the audit logs or not:</p>

<ul>
  <li>If the user is an admin they can see the audit logs for any repositories,</li>
  <li>All other users can only see audit logs for repositories they have read access.</li>
</ul>

<h2 id="example---get-audit-logs-for-all-repositories">Example - Get audit logs for all repositories</h2>

<p>Before going through this example, make sure that you:</p>

<ul>
  <li>Are a DTR admin user.</li>
  <li>Configured your <a href="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/dtr/2.5/guides/user/access-dtr/">machine to trust DTR</a>.</li>
  <li>Created the <code class="highlighter-rouge">library/wordpress</code> repository.</li>
  <li>Installed <code class="highlighter-rouge">jq</code>, to make it easier to parse the JSON responses.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Pull an image from Docker Hub</span>
docker pull wordpress:latest

<span class="c"># Tag that image</span>
docker tag wordpress:latest &lt;dtr-url&gt;/library/wordpress:1

<span class="c"># Log into DTR</span>
docker login &lt;dtr-url&gt;

<span class="c"># Push the image to DTR and sign it</span>
<span class="nv">DOCKER_CONTENT_TRUST</span><span class="o">=</span>1 docker push &lt;dtr-url&gt;/library/wordpress:1

<span class="c"># Get global-scope authorization token, and store it in TOKEN</span>
<span class="nb">export </span><span class="nv">TOKEN</span><span class="o">=</span><span class="k">$(</span>curl <span class="nt">--insecure</span> <span class="nt">--silent</span> <span class="se">\</span>
<span class="nt">--user</span> <span class="s1">'&lt;user&gt;:&lt;password&gt;'</span> <span class="se">\</span>
<span class="s1">'https://&lt;dtr-url&gt;/auth/token?realm=dtr&amp;service=dtr&amp;scope=registry:catalog:*'</span> | jq <span class="nt">--raw-output</span> .token<span class="k">)</span>

<span class="c"># Get audit logs for all repositories and pretty-print it</span>
<span class="c"># If you pushed the image less than 60 seconds ago, it's possible</span>
<span class="c"># That DTR doesn't show any events. Retry the command after a while.</span>
curl <span class="nt">--insecure</span> <span class="nt">--silent</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s2">"Authorization: Bearer </span><span class="nv">$TOKEN</span><span class="s2">"</span> <span class="se">\</span>
<span class="s2">"https://&lt;dtr-url&gt;/v2/_trust/changefeed?records=10&amp;change_id=0"</span> | jq <span class="nb">.</span>
</code></pre></div></div>

<h2 id="example---get-audit-logs-for-a-single-repository">Example - Get audit logs for a single repository</h2>

<p>Before going through this example, make sure that you:</p>

<ul>
  <li>Configured your <a href="https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/dtr/2.5/guides/user/access-dtr/">machine to trust DTR</a>.</li>
  <li>Created the <code class="highlighter-rouge">library/nginx</code> repository.</li>
  <li>Installed <code class="highlighter-rouge">jq</code>, to make it easier to parse the JSON responses.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Pull an image from Docker Hub</span>
docker pull nginx:latest

<span class="c"># Tag that image</span>
docker tag nginx:latest &lt;dtr-url&gt;/library/nginx:1

<span class="c"># Log into DTR</span>
docker login &lt;dtr-url&gt;

<span class="c"># Push the image to DTR and sign it</span>
<span class="nv">DOCKER_CONTENT_TRUST</span><span class="o">=</span>1 docker push &lt;dtr-url&gt;/library/nginx:1

<span class="c"># Get global-scope authorization token, and store it in TOKEN</span>
<span class="nb">export </span><span class="nv">TOKEN</span><span class="o">=</span><span class="k">$(</span>curl <span class="nt">--insecure</span> <span class="nt">--silent</span> <span class="se">\</span>
<span class="nt">--user</span> <span class="s1">'&lt;user&gt;:&lt;password&gt;'</span> <span class="se">\</span>
<span class="s1">'https://&lt;dtr-url&gt;/auth/token?realm=dtr&amp;service=dtr&amp;scope=repository:&lt;dtr-url&gt;/&lt;repository&gt;:pull'</span> | jq <span class="nt">--raw-output</span> .token<span class="k">)</span>

<span class="c"># Get audit logs for all repositories and pretty-print it</span>
<span class="c"># If you pushed the image less than 60 seconds ago, Docker Content Trust may not</span>
<span class="c"># show any events. Retry the command after a while.</span>
curl <span class="nt">--insecure</span> <span class="nt">--silent</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s2">"Authorization: Bearer </span><span class="nv">$TOKEN</span><span class="s2">"</span> <span class="se">\</span>
<span class="s2">"https://&lt;dtr-url&gt;/v2/&lt;dtr-url&gt;/&lt;dtr-repo&gt;/_trust/changefeed?records=10&amp;change_id=0"</span> | jq <span class="nb">.</span>
</code></pre></div></div>

							<!-- tags -->
							
							
							
							<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=registry">registry</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=monitor">monitor</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=troubleshoot">troubleshoot</a></span>
							
							<!-- link corrections -->
              <script language="JavaScript">
							var x = document.links.length;
							var baseHref = document.getElementsByTagName('base')[0].href
							for (i = 0; i < x; i++) {
							  var munged = false;
							  var thisHREF = document.links[i].href;
							  var originalURL = "/datacenter/dtr/2.5/guides/admin/monitor-and-troubleshoot/notary-audit-logs/";
							  if (thisHREF.indexOf(baseHref + "#") > -1) {
							    // hash fix
							    //console.log('BEFORE: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							    thisHREF = originalURL + thisHREF.replace(baseHref, "");
							    //console.log('AFTER: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							  }
							  if ((thisHREF.indexOf(window.location.hostname) > -1 || thisHREF.indexOf('http') == -1) && document.links[i].className.indexOf("nomunge") < 0) {
							    munged = true;
							    thisHREF = thisHREF.replace(".md", "/").replace("/index/", "/");
							    document.links[i].setAttribute('href', thisHREF);
							  }
							}
							</script>
							
						  <div id="ratings-div" style="color:#b9c2cc; text-align: center; margin-top: 150px; visibility: hidden">
								<div id="pd_rating_holder_8453675"></div>
								<script type="text/javascript">
									PDRTJS_settings_8453675 = {
										"id": "8453675",
										"unique_id": "datacenter/dtr/2.5/guides/admin/monitor-and-troubleshoot/notary-audit-logs.md",
										"title": "Check Notary audit logs",
										"permalink": "https://github.com/docker/docker.github.io/blob/master/datacenter/dtr/2.5/guides/admin/monitor-and-troubleshoot/notary-audit-logs.md"
									};
									(function(d, c, j) {
										if (!document.getElementById(j)) {
											var pd = d.createElement(c),
												s;
											pd.id = j;
											pd.src = ('https:' == document.location.protocol) ? 'https://polldaddy.com/js/rating/rating.js' : 'http://i0.poll.fm/js/rating/rating.js';
											s = document.getElementsByTagName(c)[0];
											s.parentNode.insertBefore(pd, s);
										}
									}(document, 'script', 'pd-rating-js'));
								</script>
							</div>
							
						</section>
					</main>
					<nav class="col-nav">
						<div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
						<div id="navbar" class="nav-sidebar">
    <ul class="nav" id="jsTOCLeftNav">
    </ul>
</div>

						</div>
					</nav>
					<div class="col-toc">
							<div class="sidebar hidden-xs hidden-sm">
							<div class="toc-nav">
								<div class="feedback-links">
									<ul>
										
										<li style="visibility: hidden"><a href="https://github.com/matsuand/docs.docker.jp/edit/v18.09.local/datacenter/dtr/2.5/guides/admin/monitor-and-troubleshoot/notary-audit-logs.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> このページの編集</a></li>
										<li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/issues/new?body=File: [datacenter/dtr/2.5/guides/admin/monitor-and-troubleshoot/notary-audit-logs.md](https://matsuand.github.io/docs.docker.jp.onthefly/datacenter/dtr/2.5/guides/admin/monitor-and-troubleshoot/notary-audit-logs/)"
															class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 文書変更のリクエスト</a></li>
										<li><a href="https://success.docker.com/support"><i class="fa fa-question" aria-hidden="true"></i> サポート依頼</a></li>
										<!-- toggle mode -->
										<li>
											<div class="toggle-mode">
												<div class="icon">
													<i class="fa fa-sun-o" aria-hidden="true"></i>
												</div>
												<div class="toggle-switch">
													<label class="switch">
														<input type="checkbox" id="switch-style">
														<div class="slider round"></div>
												</label>
												</div>
												<div class="icon">
													<i class="fa fa-moon-o" aria-hidden="true"></i>
												</div>
											</div>
										</li>
									</ul>
								</div>
								   
									<div id="side-toc-title">本ページ内</div>
									
<ul id="my_toc" class="inline_toc">
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/notary-audit-logs.md#get-an-authentication-token" class="nomunge">Get an authentication token</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/notary-audit-logs.md#changefeed-api" class="nomunge">Changefeed API</a>
    <ul>
      <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/notary-audit-logs.md#response" class="nomunge">Response</a></li>
    </ul>
  </li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/notary-audit-logs.md#example---get-audit-logs-for-all-repositories" class="nomunge">Example - Get audit logs for all repositories</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/notary-audit-logs.md#example---get-audit-logs-for-a-single-repository" class="nomunge">Example - Get audit logs for a single repository</a></li>
</ul>


								</div>
								
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	
	<footer class="footer">
		  
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/what-docker">What is Docker</a></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container</a></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners/partner-program">Partners</a></li>
                        <li class="break"><a href="https://www.docker.com/industry-government">For Government</a></li>
                        <li><a href="https://www.docker.com/company">About Docker</a></li>
                        <li><a href="https://www.docker.com/company/management">Management</a></li>
                        <li><a href="https://www.docker.com/company/news-and-press">Press &amp; News</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/products/overview">Product</a></li>
                        <li><a href="https://www.docker.com/pricing">Pricing</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community Edition</a></li>
                        <li class="break"><a href="https://www.docker.com/enterprise">Enterprise Edition </a></li>
                        <li><a href="https://www.docker.com/products/docker-datacenter">Docker Datacenter</a></li>
                        <li><a href="https://hub.docker.com/">Docker Hub</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/">Documentation</a></li>
                        <li><a href="https://www.docker.com/docker">Learn</a></li>
                        <li><a href="https://blog.docker.com" target="_blank">Blog</a></li>
                        <li><a href="https://engineering.docker.com" target="_blank">Engineering Blog</a></li>
                        <li><a href="https://training.docker.com/" target="_blank">Training</a></li>
                        <li><a href="https://success.docker.com/support">Support</a></li>
                        <li><a href="https://success.docker.com/kbase">Knowledge Base</a></li>
                        <li><a href="https://www.docker.com/products/resources">Resources</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/technologies/overview">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/events">Events</a></li>
                        <li><a href="https://forums.docker.com/" target="_blank">Forums</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                        <li><a href="https://www.docker.com/docker-community/scholarships">Scholarships</a></li>
                        <li><a href="https://blog.docker.com/curated/">Community News</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/docker-security">Security</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2019 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-reddit"><a href="http://www.reddit.com/r/docker">Reddit</a></li>
                    <li class="fa fa-slideshare"><a href="http://www.slideshare.net/docker">Slideshare</a></li>
                </ul>
            </div>
        </div>
    </div>

	</footer>
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/github.css">
	
	<!-- <script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/anchorlinks.js"></script> -->
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/menu.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/jquery.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
	<!-- Always include the archive.js, but it doesn't do much unless we are an archive -->
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v18.09';
	// In archives, we need to know the page root and we get it from JEKYLL_ENV in the jekyll build command
	var jekyllEnv = 'development';
	// If unset (in non-archive branches), defaults to "development". In that case, reset it to empty
	if (jekyllEnv == 'development') {
		jekyllEnv = '';
	}
	var pageURL = jekyllEnv + '/datacenter/dtr/2.5/guides/admin/monitor-and-troubleshoot/notary-audit-logs/';
	</script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/archive.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/stickyfill.min.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/metadata.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/glossary.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/collections_tocs.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/docs.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/toc.js"></script>
	<script language="javascript">
	jQuery(document).ready(function(){
				hookupTOCEvents();
			});
	</script>
</body>

</html>
