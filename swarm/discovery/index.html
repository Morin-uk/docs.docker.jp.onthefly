<!-- Page generated 2019-05-10 16:39:30 +0900 -->
<!-- relative link basehrefs -->

	
	
	
		
			
		
	
		
			
			


<!-- Logic for 'edit this button' -->


	

	

	

	

	

	

	

	

	


<!-- End of logic for 'edit this button' -->


<!DOCTYPE html>
<html lang="ja">

<head>
	<base href="https://matsuand.github.io/docs.docker.jp.onthefly/swarm/" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<style type="text/css">
		@charset "UTF-8";
		[ng\:cloak],
		[ng-cloak],
		[data-ng-cloak],
		[x-ng-cloak],
		.ng-cloak,
		.x-ng-cloak,
		.ng-hide:not(.ng-hide-animate) {
			display: none !important;
		}

		ng\:form {
			display: block;
		}
	</style>
	<script type="text/javascript">
	  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
	  analytics.load("IWj9D0UpZHZdZUZX9jl98PcpBFWBnBMy");
	  analytics.page();
	  }}();
	</script>
	
	<!-- favicon -->
	<link rel="icon" type="image/x-icon" href="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta name="msapplication-TileImage" content="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico">
	<link rel="apple-touch-icon" type="image/x-icon" href="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta property="og:image" content="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
	<!-- metadata -->
	<meta property="og:type" content="website"/>
	<meta property="og:updated_time" itemprop="dateUpdated" content="2019-05-10T16:39:30+09:00"/>
	<meta property="og:image" itemprop="image primaryImageOfPage" content="https://matsuand.github.io/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:card" content="summary"/>
	<meta name="twitter:domain" content="docs.docker.jp"/>
	<meta name="twitter:site" content="@docker_docs"/>
	<meta name="twitter:url" content="https://twitter.com/docker_docs"/>
	<meta name="twitter:title" itemprop="title name" content="Docker Swarm discovery"/>
	<meta name="twitter:description" property="og:description" itemprop="description" content="Docker Swarm comes with multiple discovery backends. You use a hosted discovery service with Docker Swarm. The service maintains a list of IPs in your cluster. This page describes the..." />
	<meta name="twitter:image:src" content="https://matsuand.github.io/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:image:alt" content="Docker Documentation"/>
	<meta property="article:published_time" itemprop="datePublished" content="2019-05-10T16:39:30+09:00"/>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="keywords" content="docker, swarm, clustering, discovery">
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/bootstrap.min.css">
	<link id="pygments" rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/pygments/perldoc.css">
	<link id="pagestyle" rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/style.css">

	<!-- Go get "Open Sans" font from Google -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
	<!-- SEO stuff -->
	<title>Docker Swarm discovery | Docker Documentation</title>
<meta property="og:title" content="Docker Swarm discovery" />
<meta property="og:locale" content="ja_JP" />
<meta name="description" content="Swarm discovery" />
<meta property="og:description" content="Swarm discovery" />
<link rel="canonical" href="https://matsuand.github.io/docs.docker.jp.onthefly/swarm/discovery/" />
<meta property="og:url" content="https://matsuand.github.io/docs.docker.jp.onthefly/swarm/discovery/" />
<meta property="og:site_name" content="Docker Documentation" />
<script type="application/ld+json">
{"@context":"http://schema.org","@type":"WebPage","headline":"Docker Swarm discovery","description":"Swarm discovery","url":"https://matsuand.github.io/docs.docker.jp.onthefly/swarm/discovery/"}</script>
	<!-- END SEO STUFF -->
	<meta name="robots" content="noindex" />
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v18.09';
	</script>
</head>
<body ng-app="Docker" ng-controller="DockerController" class="colums">
	<header>
		 <nav class="nav-secondary navbar navbar-fixed-top">
    <!-- <div class="fan"></div> -->
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="https://matsuand.github.io/docs.docker.jp.onthefly/"><img class="logo" src="https://matsuand.github.io/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs"></a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="search-form" id="search-div" style="visibility: hidden">
    <form class="search-form form-inline ng-pristine ng-valid" /id="searchForm" action="/docs.docker.jp.onthefly/search/">
        <input class="search-field form-control ds-input" id="st-search-input" value="" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteContainer">
            <div id="autocompleteResults"></div>
        </div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container">
    <div id="tabs">
        <ul class="tabs" id="jsTOCHorizontal">

        </ul>
    </div>
    <div class="ctrl-right hidden-xs hidden-sm">
        <a href="javascript:void(0)" id="menu-toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
        <div class="btn-group" style="visibility: hidden">
  <button type="button" class="btn btn-default dropdown-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Docker v18.09 (current)        <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
    <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/edge/">Docker edge</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.03/">Docker v18.03</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.12/">Docker v17.12</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.09/">Docker v17.09</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.06/">Docker v17.06</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.03/">Docker v17.03</a></li>
  </ul>
</div>

    </div>
</div>

        </div>
    </div>
</nav>

	</header>

	<div class="wrapper right-open">
		<div class="container-fluid">
			<div class="row">
				<div class="col-body">
					<main class="col-content content">
						<section class="section">
							
								
							<h1>Docker Swarm discovery</h1> 
							<blockquote><p><strong>この文書は古いスタンドアロン版の Swarm に関するものです。</strong> ここではスタンドアロン版 Docker Swarm について説明しています。Docker 1.12 およびそれ以降においては、Docker Engine に対して<a href="https://matsuand.github.io/docs.docker.jp.onthefly/engine/swarm/">スウォームモード</a>が組み入れられました。たいていのユーザーは、統合されたスウォームモードを利用してください。これに関して読み進めるべきドキュメントは、<a href="https://matsuand.github.io/docs.docker.jp.onthefly/engine/swarm/swarm-tutorial/">スウォームモードをはじめよう</a>、<a href="https://matsuand.github.io/docs.docker.jp.onthefly/engine/swarm/index.md#swarm-mode-cli-commands">スウォームモード CLI コマンド</a>、<a href="https://matsuand.github.io/docs.docker.jp.onthefly/get-started/">Docker ウォークスルー</a> です。スタンドアロン版の Docker Swarm は Docker Engine API や CLI コマンドには統合されていません。</p>
</blockquote> <span class="reading-time" title="Estimated reading time">
  <span class="reading-time-label">読む時間の目安: </span>
  
  
    6 分
  
</span>

							
							
							<p>Docker Swarm comes with multiple discovery backends. You use a hosted discovery service with Docker Swarm. The service maintains a list of IPs in your cluster.
This page describes the different types of hosted discovery. These are:</p>

<h2 id="use-a-distributed-keyvalue-store">Use a distributed key/value store</h2>

<p>The recommended way to do node discovery in Swarm is Docker’s libkv project. The libkv project is an abstraction layer over existing distributed key/value stores. As of this writing, the project supports:</p>

<ul>
  <li>Consul 0.5.1 or higher</li>
  <li>Etcd 2.0 or higher</li>
  <li>ZooKeeper 3.4.5 or higher</li>
</ul>

<p>For details about libkv and a detailed technical overview of the supported backends, refer to the <a href="https://github.com/docker/libkv">libkv project</a>.</p>

<h3 id="use-a-hosted-discovery-key-store">Use a hosted discovery key store</h3>

<ol>
  <li>
    <p>On each node, start the Swarm agent.</p>

    <p>The node IP address doesn’t need to be public as long as the Swarm manager can access it. In a large cluster, the nodes joining swarm may trigger request spikes to discovery. For example, a large number of nodes are added by a script, or recovered from a network partition. This may result in discovery failure. You can use <code class="highlighter-rouge">--delay</code> option to specify a delay limit. The <code class="highlighter-rouge">swarm join</code> command adds a random delay less than this limit to reduce pressure to discovery.</p>

    <p><strong>Etcd</strong>:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> swarm join --advertise=&lt;node_ip:2375&gt; etcd://&lt;etcd_addr1&gt;,&lt;etcd_addr2&gt;/&lt;optional path prefix&gt;
</code></pre></div>    </div>

    <p><strong>Consul</strong>:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> swarm join --advertise=&lt;node_ip:2375&gt; consul://&lt;consul_addr&gt;/&lt;optional path prefix&gt;
</code></pre></div>    </div>

    <p><strong>ZooKeeper</strong>:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> swarm join --advertise=&lt;node_ip:2375&gt; zk://&lt;zookeeper_addr1&gt;,&lt;zookeeper_addr2&gt;/&lt;optional path prefix&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>Start the swarm manager on any machine or your laptop.</p>

    <p><strong>Etcd</strong>:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> swarm manage -H tcp://&lt;swarm_ip:swarm_port&gt; etcd://&lt;etcd_addr1&gt;,&lt;etcd_addr2&gt;/&lt;optional path prefix&gt;
</code></pre></div>    </div>

    <p><strong>Consul</strong>:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> swarm manage -H tcp://&lt;swarm_ip:swarm_port&gt; consul://&lt;consul_addr&gt;/&lt;optional path prefix&gt;
</code></pre></div>    </div>

    <p><strong>ZooKeeper</strong>:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> swarm manage -H tcp://&lt;swarm_ip:swarm_port&gt; zk://&lt;zookeeper_addr1&gt;,&lt;zookeeper_addr2&gt;/&lt;optional path prefix&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>Use the regular Docker commands.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> docker -H tcp://&lt;swarm_ip:swarm_port&gt; info
 docker -H tcp://&lt;swarm_ip:swarm_port&gt; run ...
 docker -H tcp://&lt;swarm_ip:swarm_port&gt; ps
 docker -H tcp://&lt;swarm_ip:swarm_port&gt; logs ...
 ...
</code></pre></div>    </div>
  </li>
  <li>
    <p>Try listing the nodes in your cluster.</p>

    <p><strong>Etcd</strong>:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> swarm list etcd://&lt;etcd_addr1&gt;,&lt;etcd_addr2&gt;/&lt;optional path prefix&gt;
 &lt;node_ip:2375&gt;
</code></pre></div>    </div>

    <p><strong>Consul</strong>:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> swarm list consul://&lt;consul_addr&gt;/&lt;optional path prefix&gt;
 &lt;node_ip:2375&gt;
</code></pre></div>    </div>

    <p><strong>ZooKeeper</strong>:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> swarm list zk://&lt;zookeeper_addr1&gt;,&lt;zookeeper_addr2&gt;/&lt;optional path prefix&gt;
 &lt;node_ip:2375&gt;
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="use-tls-with-distributed-keyvalue-discovery">Use TLS with distributed key/value discovery</h3>

<p>You can securely talk to the distributed k/v store using TLS. To connect
securely to the store, you must generate the certificates for a node when you
<code class="highlighter-rouge">join</code> it to the swarm. You can only use with Consul and Etcd. The following example illustrates this with Consul:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>swarm join \
    --advertise=&lt;node_ip:2375&gt; \
    --discovery-opt kv.cacertfile=/path/to/mycacert.pem \
    --discovery-opt kv.certfile=/path/to/mycert.pem \
    --discovery-opt kv.keyfile=/path/to/mykey.pem \
    consul://&lt;consul_addr&gt;/&lt;optional path prefix&gt;
</code></pre></div></div>

<p>This works the same way for the swarm <code class="highlighter-rouge">manage</code> and <code class="highlighter-rouge">list</code> commands.</p>

<h2 id="a-static-file-or-list-of-nodes">A static file or list of nodes</h2>

<blockquote>
  <p><strong>Note</strong>: This discovery method is incompatible with replicating swarm
managers. If you require replication, you should use a hosted discovery key
store.</p>
</blockquote>

<p>You can use a static file or list of nodes for your discovery backend. The file must be stored on a host that is accessible from the swarm manager. You can also pass a node list as an option when you start Swarm.</p>

<p>Both the static file and the <code class="highlighter-rouge">nodes</code> option support an IP address range. To specify a range supply a pattern, for example, <code class="highlighter-rouge">10.0.0.[10:200]</code> refers to nodes starting from <code class="highlighter-rouge">10.0.0.10</code> to <code class="highlighter-rouge">10.0.0.200</code>. For example for the <code class="highlighter-rouge">file</code> discovery method.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    $ echo "10.0.0.[11:100]:2375"   &gt;&gt; /tmp/my_cluster
    $ echo "10.0.1.[15:20]:2375"    &gt;&gt; /tmp/my_cluster
    $ echo "192.168.1.2:[2:20]375"  &gt;&gt; /tmp/my_cluster
</code></pre></div></div>

<p>Or with node discovery:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    swarm manage -H &lt;swarm_ip:swarm_port&gt; "nodes://10.0.0.[10:200]:2375,10.0.1.[2:250]:2375"
</code></pre></div></div>

<h3 id="to-create-a-file">To create a file</h3>

<ol>
  <li>
    <p>Edit the file and add line for each of your nodes.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> echo &lt;node_ip1:2375&gt; &gt;&gt; /opt/my_cluster
 echo &lt;node_ip2:2375&gt; &gt;&gt; /opt/my_cluster
 echo &lt;node_ip3:2375&gt; &gt;&gt; /opt/my_cluster
</code></pre></div>    </div>

    <p>This example creates a file named <code class="highlighter-rouge">/tmp/my_cluster</code>. You can use any name you like.</p>
  </li>
  <li>
    <p>Start the swarm manager on any machine.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> swarm manage -H tcp://&lt;swarm_ip:swarm_port&gt; file:///tmp/my_cluster
</code></pre></div>    </div>
  </li>
  <li>
    <p>Use the regular Docker commands.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> docker -H tcp://&lt;swarm_ip:swarm_port&gt; info
 docker -H tcp://&lt;swarm_ip:swarm_port&gt; run ...
 docker -H tcp://&lt;swarm_ip:swarm_port&gt; ps
 docker -H tcp://&lt;swarm_ip:swarm_port&gt; logs ...
 ...
</code></pre></div>    </div>
  </li>
  <li>
    <p>List the nodes in your cluster.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ swarm list file:///tmp/my_cluster
 &lt;node_ip1:2375&gt;
 &lt;node_ip2:2375&gt;
 &lt;node_ip3:2375&gt;
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="to-use-a-node-list">To use a node list</h3>

<ol>
  <li>
    <p>Start the manager on any machine or your laptop.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> swarm manage -H &lt;swarm_ip:swarm_port&gt; nodes://&lt;node_ip1:2375&gt;,&lt;node_ip2:2375&gt;
</code></pre></div>    </div>

    <p>or</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> swarm manage -H &lt;swarm_ip:swarm_port&gt; &lt;node_ip1:2375&gt;,&lt;node_ip2:2375&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>Use the regular Docker commands.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> docker -H &lt;swarm_ip:swarm_port&gt; info
 docker -H &lt;swarm_ip:swarm_port&gt; run ...
 docker -H &lt;swarm_ip:swarm_port&gt; ps
 docker -H &lt;swarm_ip:swarm_port&gt; logs ...
</code></pre></div>    </div>
  </li>
  <li>
    <p>List the nodes in your cluster.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ swarm list file:///tmp/my_cluster
 &lt;node_ip1:2375&gt;
 &lt;node_ip2:2375&gt;
 &lt;node_ip3:2375&gt;
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="docker-hub-as-a-hosted-discovery-service">Docker Hub as a hosted discovery service</h2>

<blockquote class="warning">
  <p><strong>Warning</strong>:
The Docker Hub Hosted Discovery Service <strong>is not recommended</strong> for production use. It’s intended to be used for testing/development. See the discovery backends for production use.</p>
</blockquote>

<p>This example uses the hosted discovery service on Docker Hub. Using
Docker Hub’s hosted discovery service requires that each node in the
swarm is connected to the public internet. To create your cluster:</p>

<ol>
  <li>
    <p>Create a cluster.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ swarm create
 6856663cdefdec325839a4b7e1de38e8 # &lt;- this is your unique &lt;cluster_id&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>Create each node and join them to the cluster.</p>

    <p>On each of your nodes, start the swarm agent. The node IP address doesn’t need to be public (eg. 192.168.0.X) but the swarm manager must be able to access it.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ swarm join --advertise=&lt;node_ip:2375&gt; token://&lt;cluster_id&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>Start the swarm manager.</p>

    <p>This can be on any machine or even your laptop.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ swarm manage -H tcp://&lt;swarm_ip:swarm_port&gt; token://&lt;cluster_id&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>Use regular Docker commands to interact with your cluster.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> docker -H tcp://&lt;swarm_ip:swarm_port&gt; info
 docker -H tcp://&lt;swarm_ip:swarm_port&gt; run ...
 docker -H tcp://&lt;swarm_ip:swarm_port&gt; ps
 docker -H tcp://&lt;swarm_ip:swarm_port&gt; logs ...
 ...
</code></pre></div>    </div>
  </li>
  <li>
    <p>List the nodes in your cluster.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> swarm list token://&lt;cluster_id&gt;
 &lt;node_ip:2375&gt;
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="contribute-a-new-discovery-backend">Contribute a new discovery backend</h2>

<p>You can contribute a new discovery backend to Swarm. For information on how to
do this, see <a href="https://github.com/moby/moby/tree/master/pkg/discovery"> github.com/moby/moby/pkg/discovery</a>.</p>

<h2 id="docker-swarm-documentation-index">Docker Swarm documentation index</h2>

<ul>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/swarm/">Docker Swarm overview</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/swarm/scheduler/strategy/">Scheduler strategies</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/swarm/scheduler/filter/">Scheduler filters</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/swarm/swarm-api/">Swarm API</a></li>
</ul>

							<!-- tags -->
							
							
							
							<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=docker">docker</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=swarm">swarm</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=clustering">clustering</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=discovery">discovery</a></span>
							
							<!-- link corrections -->
              <script language="JavaScript">
							var x = document.links.length;
							var baseHref = document.getElementsByTagName('base')[0].href
							for (i = 0; i < x; i++) {
							  var munged = false;
							  var thisHREF = document.links[i].href;
							  var originalURL = "/swarm/discovery/";
							  if (thisHREF.indexOf(baseHref + "#") > -1) {
							    // hash fix
							    //console.log('BEFORE: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							    thisHREF = originalURL + thisHREF.replace(baseHref, "");
							    //console.log('AFTER: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							  }
							  if ((thisHREF.indexOf(window.location.hostname) > -1 || thisHREF.indexOf('http') == -1) && document.links[i].className.indexOf("nomunge") < 0) {
							    munged = true;
							    thisHREF = thisHREF.replace(".md", "/").replace("/index/", "/");
							    document.links[i].setAttribute('href', thisHREF);
							  }
							}
							</script>
							
						  <div id="ratings-div" style="color:#b9c2cc; text-align: center; margin-top: 150px; visibility: hidden">
								<div id="pd_rating_holder_8453675"></div>
								<script type="text/javascript">
									PDRTJS_settings_8453675 = {
										"id": "8453675",
										"unique_id": "swarm/discovery.md",
										"title": "Docker Swarm discovery",
										"permalink": "https://github.com/docker/docker.github.io/blob/master/swarm/discovery.md"
									};
									(function(d, c, j) {
										if (!document.getElementById(j)) {
											var pd = d.createElement(c),
												s;
											pd.id = j;
											pd.src = ('https:' == document.location.protocol) ? 'https://polldaddy.com/js/rating/rating.js' : 'http://i0.poll.fm/js/rating/rating.js';
											s = document.getElementsByTagName(c)[0];
											s.parentNode.insertBefore(pd, s);
										}
									}(document, 'script', 'pd-rating-js'));
								</script>
							</div>
							
						</section>
					</main>
					<nav class="col-nav">
						<div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
						<div id="navbar" class="nav-sidebar">
    <ul class="nav" id="jsTOCLeftNav">
    </ul>
</div>

						</div>
					</nav>
					<div class="col-toc">
							<div class="sidebar hidden-xs hidden-sm">
							<div class="toc-nav">
								<div class="feedback-links">
									<ul>
										
										<li style="visibility: hidden"><a href="https://github.com/matsuand/docs.docker.jp/edit/v18.09.local/swarm/discovery.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> このページの編集</a></li>
										<li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/issues/new?body=File: [swarm/discovery.md](https://matsuand.github.io/docs.docker.jp.onthefly/swarm/discovery/)"
															class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 文書変更のリクエスト</a></li>
										<li><a href="https://success.docker.com/support"><i class="fa fa-question" aria-hidden="true"></i> サポート依頼</a></li>
										<!-- toggle mode -->
										<li>
											<div class="toggle-mode">
												<div class="icon">
													<i class="fa fa-sun-o" aria-hidden="true"></i>
												</div>
												<div class="toggle-switch">
													<label class="switch">
														<input type="checkbox" id="switch-style">
														<div class="slider round"></div>
												</label>
												</div>
												<div class="icon">
													<i class="fa fa-moon-o" aria-hidden="true"></i>
												</div>
											</div>
										</li>
									</ul>
								</div>
								   
									<div id="side-toc-title">本ページ内</div>
									
<ul id="my_toc" class="inline_toc">
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/swarm/discovery/#use-a-distributed-keyvalue-store" class="nomunge">Use a distributed key/value store</a>
    <ul>
      <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/swarm/discovery/#use-a-hosted-discovery-key-store" class="nomunge">Use a hosted discovery key store</a></li>
      <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/swarm/discovery/#use-tls-with-distributed-keyvalue-discovery" class="nomunge">Use TLS with distributed key/value discovery</a></li>
    </ul>
  </li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/swarm/discovery/#a-static-file-or-list-of-nodes" class="nomunge">A static file or list of nodes</a>
    <ul>
      <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/swarm/discovery/#to-create-a-file" class="nomunge">To create a file</a></li>
      <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/swarm/discovery/#to-use-a-node-list" class="nomunge">To use a node list</a></li>
    </ul>
  </li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/swarm/discovery/#docker-hub-as-a-hosted-discovery-service" class="nomunge">Docker Hub as a hosted discovery service</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/swarm/discovery/#contribute-a-new-discovery-backend" class="nomunge">Contribute a new discovery backend</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/swarm/discovery/#docker-swarm-documentation-index" class="nomunge">Docker Swarm documentation index</a></li>
</ul>


								</div>
								
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	
	<footer class="footer">
		  
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/what-docker">What is Docker</a></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container</a></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners/partner-program">Partners</a></li>
                        <li class="break"><a href="https://www.docker.com/industry-government">For Government</a></li>
                        <li><a href="https://www.docker.com/company">About Docker</a></li>
                        <li><a href="https://www.docker.com/company/management">Management</a></li>
                        <li><a href="https://www.docker.com/company/news-and-press">Press &amp; News</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/products/overview">Product</a></li>
                        <li><a href="https://www.docker.com/pricing">Pricing</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community Edition</a></li>
                        <li class="break"><a href="https://www.docker.com/enterprise">Enterprise Edition </a></li>
                        <li><a href="https://www.docker.com/products/docker-datacenter">Docker Datacenter</a></li>
                        <li><a href="https://hub.docker.com/">Docker Hub</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/">Documentation</a></li>
                        <li><a href="https://www.docker.com/docker">Learn</a></li>
                        <li><a href="https://blog.docker.com" target="_blank">Blog</a></li>
                        <li><a href="https://engineering.docker.com" target="_blank">Engineering Blog</a></li>
                        <li><a href="https://training.docker.com/" target="_blank">Training</a></li>
                        <li><a href="https://success.docker.com/support">Support</a></li>
                        <li><a href="https://success.docker.com/kbase">Knowledge Base</a></li>
                        <li><a href="https://www.docker.com/products/resources">Resources</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/technologies/overview">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/events">Events</a></li>
                        <li><a href="https://forums.docker.com/" target="_blank">Forums</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                        <li><a href="https://www.docker.com/docker-community/scholarships">Scholarships</a></li>
                        <li><a href="https://blog.docker.com/curated/">Community News</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/docker-security">Security</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2019 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-reddit"><a href="http://www.reddit.com/r/docker">Reddit</a></li>
                    <li class="fa fa-slideshare"><a href="http://www.slideshare.net/docker">Slideshare</a></li>
                </ul>
            </div>
        </div>
    </div>

	</footer>
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/github.css">
	
	<!-- <script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/anchorlinks.js"></script> -->
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/menu.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/jquery.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
	<!-- Always include the archive.js, but it doesn't do much unless we are an archive -->
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v18.09';
	// In archives, we need to know the page root and we get it from JEKYLL_ENV in the jekyll build command
	var jekyllEnv = 'development';
	// If unset (in non-archive branches), defaults to "development". In that case, reset it to empty
	if (jekyllEnv == 'development') {
		jekyllEnv = '';
	}
	var pageURL = jekyllEnv + '/swarm/discovery/';
	</script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/archive.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/stickyfill.min.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/metadata.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/glossary.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/collections_tocs.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/docs.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/toc.js"></script>
	<script language="javascript">
	jQuery(document).ready(function(){
				hookupTOCEvents();
			});
	</script>
</body>

</html>
