
<p>コンテナーに対して <code class="language-plaintext highlighter-rouge">host</code> ネットワークモードを利用すると、コンテナーのネットワーク構成は Docker ホストからは分離されません。
（そのコンテナーはホストのネットワーク名前空間を共有します。）
そしてそのコンテナーは、独自に割り当てられる IP アドレスを用いません。
たとえばポート 80 を割り当てているコンテナーを実行するにあたり、<code class="language-plaintext highlighter-rouge">host</code> ネットワークとしている場合、コンテナー上に動作するアプリケーションは、ホストの IP アドレスにおけるポート 80 が利用可能となります。</p>

<blockquote>
  <p><strong>メモ</strong>: <code class="language-plaintext highlighter-rouge">host</code> モードのネットワークを利用する場合、コンテナーは独自の IP アドレスを持たないため、<a href="/docs.docker.jp.onthefly/network/overlay/#publish-ports">ポートマッピング</a> は機能しません。
したがって <code class="language-plaintext highlighter-rouge">-p</code>、<code class="language-plaintext highlighter-rouge">--publish</code>、<code class="language-plaintext highlighter-rouge">-P</code>、<code class="language-plaintext highlighter-rouge">--publish-all</code> の各オプションは無視され、警告メッセージが表示されます。</p>

  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>WARNING: Published ports are discarded when using host network mode
</code></pre></div>  </div>
</blockquote>

<p>ネットワークをホストモードにすると、性能を最適化できます。
またコンテナーが広範囲にわたるポートを取り扱う必要がある場合に役立ちます。
これは、ネットワークアドレス変換（NAT）が不要であり、各ポートに「ユーザーランドプロキシー」が生成されないからです。</p>

<p>ホストネットワークにおけるドライバーは Linux ホスト上においてのみ動作します。
Docker Desktop for Mac、Docker Desktop for Windows、Docker EE for Windows Server ではサポートされていません。</p>

<p><code class="language-plaintext highlighter-rouge">host</code> ネットワークは Swarm サービスに対しても利用できます。
利用するには <code class="language-plaintext highlighter-rouge">docker service create</code> コマンドに <code class="language-plaintext highlighter-rouge">--network host</code> を指定します。
この場合、制御情報のトラフィック（Swarm やサービスの管理に関連するトラフィック）は、変わらずオーバーレイネットワークを介して送信されます。
一方、個々の Swarm サービスコンテナーは、Docker デーモンホスト上のネットワークとポートを利用して、データ送信を行います。
このときには、新たな制約が発生します。
たとえば 1 つのサービスコンテナーがポート 80 に割り当てられると、指定された Swarm ノード上では 1 つのサービスコンテナーしか稼動できません。</p>

<h2 id="next-steps">次のステップ</h2>

<ul>
  <li><a href="/docs.docker.jp.onthefly/network/network-tutorial-host/">ホストネットワークのチュートリアル</a> をひととおり読んでください。</li>
  <li><a href="/docs.docker.jp.onthefly/config/containers/container-networking/">コンテナーから見たネットワーク</a> について。</li>
  <li><a href="/docs.docker.jp.onthefly/network/bridge/">ブリッジネットワーク</a> について。</li>
  <li><a href="/docs.docker.jp.onthefly/network/overlay/">オーバーレイネットワーク</a> について。</li>
  <li><a href="/docs.docker.jp.onthefly/network/macvlan/">Macvlan ネットワーク</a> について。</li>
</ul>
