<h2 id="17062-ce">17.06.2-ce</h2>
<p>2017-09-05</p>

<h3 id="client">Client</h3>

<ul>
  <li>Enable TCP keepalive in the client to prevent loss of connection <a href="https://github.com/docker/cli/pull/415">docker/cli#415</a></li>
</ul>

<h3 id="runtime">Runtime</h3>

<ul>
  <li>Devmapper: ensure UdevWait is called after calls to setCookie <a href="https://github.com/moby/moby/pull/33732">moby/moby#33732</a></li>
  <li>Aufs: ensure diff layers are correctly removed to prevent leftover files from using up storage <a href="https://github.com/moby/moby/pull/34587">moby/moby#34587</a></li>
</ul>

<h3 id="swarm-mode">Swarm mode</h3>

<ul>
  <li>Ignore PullOptions for running tasks <a href="https://github.com/docker/swarmkit/pull/2351">docker/swarmkit#2351</a></li>
</ul>

<h2 id="17061-ce">17.06.1-ce</h2>
<p>2017-08-15</p>

<h3 id="builder">Builder</h3>

<ul>
  <li>Fix a regression, where <code class="language-plaintext highlighter-rouge">ADD</code> from remote URL’s extracted archives <a href="https://github.com/docker/docker-ce/pull/89">#89</a></li>
  <li>Fix handling of remote “git@” notation <a href="https://github.com/docker/docker-ce/pull/100">#100</a></li>
  <li>Fix copy <code class="language-plaintext highlighter-rouge">--from</code> conflict with force pull <a href="https://github.com/docker/docker-ce/pull/86">#86</a></li>
</ul>

<h3 id="client-1">Client</h3>

<ul>
  <li>Make pruning volumes optional when running <code class="language-plaintext highlighter-rouge">docker system prune</code>, and add a <code class="language-plaintext highlighter-rouge">--volumes</code> flag <a href="https://github.com/docker/docker-ce/pull/109">#109</a></li>
  <li>Show progress of replicated tasks before they are assigned <a href="https://github.com/docker/docker-ce/pull/97">#97</a></li>
  <li>Fix <code class="language-plaintext highlighter-rouge">docker wait</code> hanging if the container does not exist <a href="https://github.com/docker/docker-ce/pull/106">#106</a></li>
  <li>If <code class="language-plaintext highlighter-rouge">docker swarm ca</code> is called without the <code class="language-plaintext highlighter-rouge">--rotate</code> flag, warn if other flags are passed <a href="https://github.com/docker/docker-ce/pull/110">#110</a></li>
  <li>Fix API version negotiation not working if the daemon returns an error <a href="https://github.com/docker/docker-ce/pull/115">#115</a></li>
  <li>Print an error if “until” filter is combined with “--volumes” on system prune <a href="https://github.com/docker/docker-ce/pull/154">#154</a></li>
</ul>

<h3 id="logging">Logging</h3>

<ul>
  <li>Fix stderr logging for <code class="language-plaintext highlighter-rouge">journald</code> and <code class="language-plaintext highlighter-rouge">syslog</code> <a href="https://github.com/docker/docker-ce/pull/95">#95</a></li>
  <li>Fix log readers can block writes indefinitely <a href="https://github.com/docker/docker-ce/pull/98">#98</a></li>
  <li>Fix <code class="language-plaintext highlighter-rouge">awslogs</code> driver repeating last event <a href="https://github.com/docker/docker-ce/pull/151">#151</a></li>
</ul>

<h3 id="networking">Networking</h3>

<ul>
  <li>Fix issue with driver options not received by network drivers <a href="https://github.com/docker/docker-ce/pull/127">#127</a></li>
</ul>

<h3 id="plugins">Plugins</h3>

<ul>
  <li>Make plugin removes more resilient to failure <a href="https://github.com/docker/docker-ce/pull/91">#91</a></li>
</ul>

<h3 id="runtime-1">Runtime</h3>

<ul>
  <li>Prevent a <code class="language-plaintext highlighter-rouge">goroutine</code> leak when <code class="language-plaintext highlighter-rouge">healthcheck</code> gets stopped <a href="https://github.com/docker/docker-ce/pull/90">#90</a></li>
  <li>Do not error on relabel when relabel not supported <a href="https://github.com/docker/docker-ce/pull/92">#92</a></li>
  <li>Limit max backoff delay to 2 seconds for GRPC connection <a href="https://github.com/docker/docker-ce/pull/94">#94</a></li>
  <li>Fix issue preventing containers to run when memory cgroup was specified due to bug in certain kernels <a href="https://github.com/docker/docker-ce/pull/102">#102</a></li>
  <li>Fix container not responding to SIGKILL when paused <a href="https://github.com/docker/docker-ce/pull/102">#102</a></li>
  <li>Improve error message if an image for an incompatible OS is loaded <a href="https://github.com/docker/docker-ce/pull/108">#108</a></li>
  <li>Fix a handle leak in <code class="language-plaintext highlighter-rouge">go-winio</code> <a href="https://github.com/docker/docker-ce/pull/112">#112</a></li>
  <li>Fix issue upon upgrade, preventing docker from showing running containers when <code class="language-plaintext highlighter-rouge">--live-restore</code> is enabled <a href="https://github.com/docker/docker-ce/pull/117">#117</a></li>
  <li>Fix bug where services using secrets would fail to start on daemons using the <code class="language-plaintext highlighter-rouge">userns-remap</code> feature <a href="https://github.com/docker/docker-ce/pull/121">#121</a></li>
  <li>Fix error handling with <code class="language-plaintext highlighter-rouge">not-exist</code> errors on remove <a href="https://github.com/docker/docker-ce/pull/142">#142</a></li>
  <li>Fix REST API Swagger representation cannot be loaded with SwaggerUI <a href="https://github.com/docker/docker-ce/pull/156">#156</a></li>
</ul>

<h3 id="security">Security</h3>

<ul>
  <li>Redact secret data on secret creation <a href="https://github.com/docker/docker-ce/pull/99">#99</a></li>
</ul>

<h3 id="swarm-mode-1">Swarm mode</h3>

<ul>
  <li>Do not add duplicate platform information to service spec <a href="https://github.com/docker/docker-ce/pull/107">#107</a></li>
  <li>Cluster update and memory issue fixes <a href="https://github.com/docker/docker-ce/pull/114">#114</a></li>
  <li>Changing get network request to return predefined network in swarm <a href="https://github.com/docker/docker-ce/pull/150">#150</a></li>
</ul>

<h2 id="17060-ce">17.06.0-ce</h2>
<p>2017-06-28</p>

<blockquote>
  <p><strong>Note</strong>: Docker 17.06.0 has an issue in the image builder causing a change in the behavior
of the <code class="language-plaintext highlighter-rouge">ADD</code> instruction of Dockerfile when referencing a remote <code class="language-plaintext highlighter-rouge">.tar.gz</code> file. The issue will be
fixed in Docker 17.06.1.</p>
</blockquote>

<blockquote>
  <p><strong>Note</strong>: Starting with Docker CE 17.06, Ubuntu packages are also available
for IBM Z using the s390x architecture.</p>
</blockquote>

<blockquote>
  <p><strong>Note</strong>: Docker 17.06 by default disables communication with legacy (v1)
registries. If you require interaction with registries that have not yet
migrated to the v2 protocol, set the <code class="language-plaintext highlighter-rouge">--disable-legacy-registry=false</code> daemon
option. Interaction with v1 registries will be removed in Docker 17.12.</p>
</blockquote>

<h3 id="builder-1">Builder</h3>

<ul>
  <li>Add <code class="language-plaintext highlighter-rouge">--iidfile</code> option to docker build. It allows specifying a location where to save the resulting image ID</li>
  <li>Allow specifying any remote ref in git checkout URLs <a href="https://github.com/moby/moby/pull/32502">#32502</a></li>
</ul>

<h3 id="client-2">Client</h3>

<ul>
  <li>Add <code class="language-plaintext highlighter-rouge">--format</code> option to <code class="language-plaintext highlighter-rouge">docker stack ls</code> <a href="https://github.com/moby/moby/pull/31557">#31557</a></li>
  <li>Add support for labels in compose initiated builds <a href="https://github.com/moby/moby/pull/32632">#32632</a> <a href="https://github.com/moby/moby/pull/32972">#32972</a></li>
  <li>Add <code class="language-plaintext highlighter-rouge">--format</code> option to <code class="language-plaintext highlighter-rouge">docker history</code> <a href="https://github.com/moby/moby/pull/30962">#30962</a></li>
  <li>Add <code class="language-plaintext highlighter-rouge">--format</code> option to <code class="language-plaintext highlighter-rouge">docker system df</code> <a href="https://github.com/moby/moby/pull/31482">#31482</a></li>
  <li>Allow specifying Nameservers and Search Domains in stack files <a href="https://github.com/moby/moby/pull/32059">#32059</a></li>
  <li>Add support for <code class="language-plaintext highlighter-rouge">read_only</code> service to <code class="language-plaintext highlighter-rouge">docker stack deploy</code> <a href="https://github.com/docker/cli/pull/73">#docker/cli/73</a></li>
  <li>Display Swarm cluster and node TLS information <a href="https://github.com/docker/cli/pull/44">#docker/cli/44</a></li>
  <li>Add support for placement preference to <code class="language-plaintext highlighter-rouge">docker stack deploy</code> <a href="https://github.com/docker/cli/pull/35">#docker/cli/35</a></li>
  <li>Add new <code class="language-plaintext highlighter-rouge">ca </code> subcommand to <code class="language-plaintext highlighter-rouge">docker swarm</code> to allow managing a swarm CA <a href="https://github.com/docker/cli/pull/48">#docker/cli/48</a></li>
  <li>Add credential-spec to compose <a href="https://github.com/docker/cli/pull/71">#docker/cli/71</a></li>
  <li>Add support for csv format options to <code class="language-plaintext highlighter-rouge">--network</code> and <code class="language-plaintext highlighter-rouge">--network-add</code> <a href="https://github.com/docker/cli/pull/62">#docker/cli/62</a> <a href="https://github.com/moby/moby/pull/33130">#33130</a></li>
  <li>Fix stack compose bind-mount volumes on Windows <a href="https://github.com/docker/cli/pull/136">#docker/cli/136</a></li>
  <li>Correctly handle a Docker daemon without registry info <a href="https://github.com/docker/cli/pull/126">#docker/cli/126</a></li>
  <li>Allow <code class="language-plaintext highlighter-rouge">--detach</code> and <code class="language-plaintext highlighter-rouge">--quiet</code> flags when using --rollback <a href="https://github.com/docker/cli/pull/144">#docker/cli/144</a></li>
  <li>Remove deprecated <code class="language-plaintext highlighter-rouge">--email</code> flag from <code class="language-plaintext highlighter-rouge">docker login</code> <a href="https://github.com/docker/cli/pull/143">#docker/cli/143</a></li>
  <li>Adjusted <code class="language-plaintext highlighter-rouge">docker stats</code> memory output <a href="https://github.com/docker/cli/pull/80">#docker/cli/80</a></li>
</ul>

<h3 id="distribution">Distribution</h3>

<ul>
  <li>Select digest over tag when both are provided during a pull <a href="https://github.com/moby/moby/pull/33214">#33214</a></li>
</ul>

<h3 id="logging-1">Logging</h3>

<ul>
  <li>Add monitored resource type metadata for GCP logging driver <a href="https://github.com/moby/moby/pull/32930">#32930</a></li>
  <li>Add multiline processing to the AWS CloudWatch logs driver <a href="https://github.com/moby/moby/pull/30891">#30891</a></li>
</ul>

<h3 id="networking-1">Networking</h3>

<ul>
  <li>Add Support swarm-mode services with node-local networks such as macvlan, ipvlan, bridge, host <a href="https://github.com/moby/moby/pull/32981">#32981</a></li>
  <li>Pass driver-options to network drivers on service creation <a href="https://github.com/moby/moby/pull/33130">#32981</a></li>
  <li>Isolate Swarm Control-plane traffic from Application data traffic using --data-path-addr <a href="https://github.com/moby/moby/pull/32717">#32717</a></li>
  <li>Several improvements to Service Discovery <a href="https://github.com/docker/libnetwork/pull/1796">#docker/libnetwork/1796</a></li>
</ul>

<h3 id="packaging">Packaging</h3>

<ul>
  <li>Rely on <code class="language-plaintext highlighter-rouge">container-selinux</code> on Centos/Fedora/RHEL when available <a href="https://github.com/moby/moby/pull/32437">#32437</a></li>
</ul>

<h3 id="runtime-2">Runtime</h3>

<ul>
  <li>Add build &amp; engine info prometheus metrics <a href="https://github.com/moby/moby/pull/32792">#32792</a></li>
  <li>Update containerd to d24f39e203aa6be4944f06dd0fe38a618a36c764 <a href="https://github.com/moby/moby/pull/33007">#33007</a></li>
  <li>Update runc to 992a5be178a62e026f4069f443c6164912adbf09 <a href="https://github.com/moby/moby/pull/33007">#33007</a></li>
  <li>Add option to auto-configure blkdev for devmapper <a href="https://github.com/moby/moby/pull/31104">#31104</a></li>
  <li>Add log driver list to <code class="language-plaintext highlighter-rouge">docker info</code> <a href="https://github.com/moby/moby/pull/32540">#32540</a></li>
  <li>Add API endpoint to allow retrieving an image manifest <a href="https://github.com/moby/moby/pull/32061">#32061</a></li>
  <li>Do not remove container from memory on error with <code class="language-plaintext highlighter-rouge">forceremove</code> <a href="https://github.com/moby/moby/pull/31012">#31012</a></li>
  <li>Add support for metric plugins <a href="https://github.com/moby/moby/pull/32874">#32874</a></li>
  <li>Return an error when an invalid filter is given to <code class="language-plaintext highlighter-rouge">prune</code> commands <a href="https://github.com/moby/moby/pull/33023">#33023</a></li>
  <li>Add daemon option to allow pushing foreign layers <a href="https://github.com/moby/moby/pull/33151">#33151</a></li>
  <li>Fix an issue preventing containerd to be restarted after it died <a href="https://github.com/moby/moby/pull/32986">#32986</a></li>
  <li>Add cluster events to Docker event stream. <a href="https://github.com/moby/moby/pull/32421">#32421</a></li>
  <li>Add support for DNS search on windows <a href="https://github.com/moby/moby/pull/33311">#33311</a></li>
  <li>Upgrade to Go 1.8.3 <a href="https://github.com/moby/moby/pull/33387">#33387</a></li>
  <li>Prevent a containerd crash when journald is restarted <a href="https://github.com/containerd/containerd/pull/930">#containerd/930</a></li>
  <li>Fix healthcheck failures due to invalid environment variables <a href="https://github.com/moby/moby/pull/33249">#33249</a></li>
  <li>Prevent a directory to be created in lieu of the daemon socket when a container mounting it is to be restarted during a shutdown <a href="https://github.com/moby/moby/pull/33330">#30348</a></li>
  <li>Prevent a container to be restarted upon stop if its stop signal is set to <code class="language-plaintext highlighter-rouge">SIGKILL</code> <a href="https://github.com/moby/moby/pull/33335">#33335</a></li>
  <li>Ensure log drivers get passed the same filename to both StartLogging and StopLogging endpoints <a href="https://github.com/moby/moby/pull/33583">#33583</a></li>
  <li>Remove daemon data structure dump on <code class="language-plaintext highlighter-rouge">SIGUSR1</code> to avoid a panic <a href="https://github.com/moby/moby/pull/33598">#33598</a></li>
</ul>

<h3 id="security-1">Security</h3>

<ul>
  <li>Allow personality with UNAME26 bit set in default seccomp profile <a href="https://github.com/moby/moby/pull/32965">#32965</a></li>
</ul>

<h3 id="swarm-mode-2">Swarm Mode</h3>

<ul>
  <li>Add an option to allow specifying a different interface for the data traffic (as opposed to control traffic) <a href="https://github.com/moby/moby/pull/32717">#32717</a></li>
  <li>Allow specifying a secret location within the container <a href="https://github.com/moby/moby/pull/32571">#32571</a></li>
  <li>Add support for secrets on Windows <a href="https://github.com/moby/moby/pull/32208">#32208</a></li>
  <li>Add TLS Info to swarm info and node info endpoint <a href="https://github.com/moby/moby/pull/32875">#32875</a></li>
  <li>Add support for services to carry arbitrary config objects <a href="https://github.com/moby/moby/pull/32336">#32336</a>, <a href="https://github.com/docker/cli/pull/45">#docker/cli/45</a>,<a href="https://github.com/moby/moby/pull/33169">#33169</a></li>
  <li>Add API to rotate swarm CA certificate <a href="https://github.com/moby/moby/pull/32993">#32993</a></li>
  <li>Service digest pining is now handled client side <a href="https://github.com/moby/moby/pull/32388">#32388</a>, <a href="https://github.com/moby/moby/pull/33239">#33239</a></li>
  <li>Placement now also take platform in account <a href="https://github.com/moby/moby/pull/33144">#33144</a></li>
  <li>Fix possible hang when joining fails <a href="https://github.com/docker/docker-ce/pull/19">#docker-ce/19</a></li>
  <li>Fix an issue preventing external CA to be accepted <a href="https://github.com/moby/moby/pull/33341">#33341</a></li>
  <li>Fix possible orchestration panic in mixed version clusters <a href="https://github.com/docker/swarmkit/pull/2233">#swarmkit/2233</a></li>
  <li>Avoid assigning duplicate IPs during initialization <a href="https://github.com/docker/swarmkit/pull/2237">#swarmkit/2237</a></li>
</ul>

<h3 id="deprecation">Deprecation</h3>

<ul>
  <li>Disable legacy registry (v1) by default <a href="https://github.com/moby/moby/pull/33629">#33629</a></li>
</ul>
