<h2 id="17040-ce">17.04.0-ce</h2>
<p>2017-04-05</p>

<h3 id="builder">Builder</h3>

<ul>
  <li>Disable container logging for build containers <a href="https://github.com/docker/docker/pull/29552">#29552</a></li>
  <li><code class="language-plaintext highlighter-rouge">.dockerignore</code> における <code class="language-plaintext highlighter-rouge">**/</code> 利用時の修正。<a href="https://github.com/docker/docker/pull/29043">#29043</a></li>
</ul>

<h3 id="client">クライアント</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">docker stack ls</code> を名前によりソート。<a href="https://github.com/docker/docker/pull/31085">#31085</a></li>
  <li>Flags for specifying bind mount consistency <a href="https://github.com/docker/docker/pull/31047">#31047</a></li>
  <li>Output of docker CLI --help is now wrapped to the terminal width <a href="https://github.com/docker/docker/pull/28751">#28751</a></li>
  <li>Suppress image digest in docker ps <a href="https://github.com/docker/docker/pull/30848">#30848</a></li>
  <li>Hide command options that are related to Windows <a href="https://github.com/docker/docker/pull/30788">#30788</a></li>
  <li>Fix <code class="language-plaintext highlighter-rouge">docker plugin install</code> prompt to accept “enter” for the “N” default <a href="https://github.com/docker/docker/pull/30769">#30769</a></li>
  <li>Add <code class="language-plaintext highlighter-rouge">truncate</code> function for Go templates <a href="https://github.com/docker/docker/pull/30484">#30484</a></li>
  <li>Support expanded syntax of ports in <code class="language-plaintext highlighter-rouge">stack deploy</code> <a href="https://github.com/docker/docker/pull/30476">#30476</a></li>
  <li>Support expanded syntax of mounts in <code class="language-plaintext highlighter-rouge">stack deploy</code> <a href="https://github.com/docker/docker/pull/30597">#30597</a> <a href="https://github.com/docker/docker/pull/31795">#31795</a></li>
  <li>Add <code class="language-plaintext highlighter-rouge">--add-host</code> for docker build <a href="https://github.com/docker/docker/pull/30383">#30383</a></li>
  <li>Add <code class="language-plaintext highlighter-rouge">.CreatedAt</code> placeholder for <code class="language-plaintext highlighter-rouge">docker network ls --format</code> <a href="https://github.com/docker/docker/pull/29900">#29900</a></li>
  <li>Update order of <code class="language-plaintext highlighter-rouge">--secret-rm</code> and <code class="language-plaintext highlighter-rouge">--secret-add</code> <a href="https://github.com/docker/docker/pull/29802">#29802</a></li>
  <li>Add <code class="language-plaintext highlighter-rouge">--filter enabled=true</code> for <code class="language-plaintext highlighter-rouge">docker plugin ls</code> <a href="https://github.com/docker/docker/pull/28627">#28627</a></li>
  <li>Add <code class="language-plaintext highlighter-rouge">--format</code> to <code class="language-plaintext highlighter-rouge">docker service ls</code> <a href="https://github.com/docker/docker/pull/28199">#28199</a></li>
  <li>Add <code class="language-plaintext highlighter-rouge">publish</code> and <code class="language-plaintext highlighter-rouge">expose</code> filter for <code class="language-plaintext highlighter-rouge">docker ps --filter</code> <a href="https://github.com/docker/docker/pull/27557">#27557</a></li>
  <li>Support multiple service IDs on <code class="language-plaintext highlighter-rouge">docker service ps</code> <a href="https://github.com/docker/docker/pull/25234">#25234</a></li>
  <li>Allow swarm join with <code class="language-plaintext highlighter-rouge">--availability=drain</code> <a href="https://github.com/docker/docker/pull/24993">#24993</a></li>
  <li>Docker inspect now shows “docker-default” when AppArmor is enabled and no other profile was defined <a href="https://github.com/docker/docker/pull/27083">#27083</a></li>
</ul>

<h3 id="logging">Logging</h3>

<ul>
  <li>Implement optional ring buffer for container logs <a href="https://github.com/docker/docker/pull/28762">#28762</a></li>
  <li>Add <code class="language-plaintext highlighter-rouge">--log-opt awslogs-create-group=&lt;true|false&gt;</code> for awslogs (CloudWatch) to support creation of log groups as needed <a href="https://github.com/docker/docker/pull/29504">#29504</a></li>
  <li>Fix segfault when using the gcplogs logging driver with a “static” binary <a href="https://github.com/docker/docker/pull/29478">#29478</a></li>
</ul>

<h3 id="networking">ネットワーク</h3>

<ul>
  <li>Check parameter <code class="language-plaintext highlighter-rouge">--ip</code>, <code class="language-plaintext highlighter-rouge">--ip6</code> and <code class="language-plaintext highlighter-rouge">--link-local-ip</code> in <code class="language-plaintext highlighter-rouge">docker network connect</code> <a href="https://github.com/docker/docker/pull/30807">#30807</a></li>
  <li>Added support for <code class="language-plaintext highlighter-rouge">dns-search</code> <a href="https://github.com/docker/docker/pull/30117">#30117</a></li>
  <li>Added --verbose option for docker network inspect to show task details from all swarm nodes <a href="https://github.com/docker/docker/pull/31710">#31710</a></li>
  <li>Clear stale datapath encryption states when joining the cluster <a href="https://github.com/docker/libnetwork/pull/1354">docker/libnetwork#1354</a></li>
  <li>Ensure iptables initialization only happens once <a href="https://github.com/docker/libnetwork/pull/1676">docker/libnetwork#1676</a></li>
  <li>Fix bad order of iptables filter rules <a href="https://github.com/docker/libnetwork/pull/961">docker/libnetwork#961</a></li>
  <li>Add anonymous container alias to service record on attachable network <a href="https://github.com/docker/libnetwork/pull/1651">docker/libnetwork#1651</a></li>
  <li>Support for <code class="language-plaintext highlighter-rouge">com.docker.network.container_interface_prefix</code> driver label <a href="https://github.com/docker/libnetwork/pull/1667">docker/libnetwork#1667</a></li>
  <li>Improve network list performance by omitting network details that are not used <a href="https://github.com/docker/docker/pull/30673">#30673</a></li>
</ul>

<h3 id="runtime">ランタイム</h3>

<ul>
  <li>Handle paused container when restoring without live-restore set <a href="https://github.com/docker/docker/pull/31704">#31704</a></li>
  <li>Do not allow sub second in healthcheck options in Dockerfile <a href="https://github.com/docker/docker/pull/31177">#31177</a></li>
  <li>Support name and id prefix in <code class="language-plaintext highlighter-rouge">secret update</code> <a href="https://github.com/docker/docker/pull/30856">#30856</a></li>
  <li>Use binary frame for websocket attach endpoint <a href="https://github.com/docker/docker/pull/30460">#30460</a></li>
  <li>Fix linux mount calls not applying propagation type changes <a href="https://github.com/docker/docker/pull/30416">#30416</a></li>
  <li>Fix ExecIds leak on failed <code class="language-plaintext highlighter-rouge">exec -i</code> <a href="https://github.com/docker/docker/pull/30340">#30340</a></li>
  <li>Prune named but untagged images if <code class="language-plaintext highlighter-rouge">danglingOnly=true</code> <a href="https://github.com/docker/docker/pull/30330">#30330</a></li>
  <li>Add daemon flag to set <code class="language-plaintext highlighter-rouge">no_new_priv</code> as default for unprivileged containers <a href="https://github.com/docker/docker/pull/29984">#29984</a></li>
  <li>Add daemon option <code class="language-plaintext highlighter-rouge">--default-shm-size</code> <a href="https://github.com/docker/docker/pull/29692">#29692</a></li>
  <li>Support registry mirror config reload <a href="https://github.com/docker/docker/pull/29650">#29650</a></li>
  <li>Ignore the daemon log config when building images <a href="https://github.com/docker/docker/pull/29552">#29552</a></li>
  <li>Move secret name or ID prefix resolving from client to daemon <a href="https://github.com/docker/docker/pull/29218">#29218</a></li>
  <li>Allow adding rules to <code class="language-plaintext highlighter-rouge">cgroup devices.allow</code> on container create/run <a href="https://github.com/docker/docker/pull/22563">#22563</a></li>
  <li>Fix <code class="language-plaintext highlighter-rouge">cpu.cfs_quota_us</code> being reset when running <code class="language-plaintext highlighter-rouge">systemd daemon-reload</code> <a href="https://github.com/docker/docker/pull/31736">#31736</a></li>
</ul>

<h3 id="swarm-mode">Swarm モード</h3>

<ul>
  <li>Topology-aware scheduling <a href="https://github.com/docker/docker/pull/30725">#30725</a></li>
  <li>Automatic service rollback on failure <a href="https://github.com/docker/docker/pull/31108">#31108</a></li>
  <li>Worker and manager on the same node are now connected through a UNIX socket <a href="https://github.com/docker/swarmkit/pull/1828">docker/swarmkit#1828</a>, <a href="https://github.com/docker/swarmkit/pull/1850">docker/swarmkit#1850</a>, <a href="https://github.com/docker/swarmkit/pull/1851">docker/swarmkit#1851</a></li>
  <li>Improve raft transport package <a href="https://github.com/docker/swarmkit/pull/1748">docker/swarmkit#1748</a></li>
  <li>No automatic manager shutdown on demotion/removal <a href="https://github.com/docker/swarmkit/pull/1829">docker/swarmkit#1829</a></li>
  <li>Use TransferLeadership to make leader demotion safer <a href="https://github.com/docker/swarmkit/pull/1939">docker/swarmkit#1939</a></li>
  <li>Decrease default monitoring period <a href="https://github.com/docker/swarmkit/pull/1967">docker/swarmkit#1967</a></li>
  <li>Add Service logs formatting <a href="https://github.com/docker/docker/pull/31672">#31672</a></li>
  <li>Fix service logs API to be able to specify stream <a href="https://github.com/docker/docker/pull/31313">#31313</a></li>
  <li>Add <code class="language-plaintext highlighter-rouge">--stop-signal</code> for <code class="language-plaintext highlighter-rouge">service create</code> and <code class="language-plaintext highlighter-rouge">service update</code> <a href="https://github.com/docker/docker/pull/30754">#30754</a></li>
  <li>Add <code class="language-plaintext highlighter-rouge">--read-only</code> for <code class="language-plaintext highlighter-rouge">service create</code> and <code class="language-plaintext highlighter-rouge">service update</code> <a href="https://github.com/docker/docker/pull/30162">#30162</a></li>
  <li>Renew the context after communicating with the registry <a href="https://github.com/docker/docker/pull/31586">#31586</a></li>
  <li>(experimental) Add <code class="language-plaintext highlighter-rouge">--tail</code> and <code class="language-plaintext highlighter-rouge">--since</code> options to <code class="language-plaintext highlighter-rouge">docker service logs</code> <a href="https://github.com/docker/docker/pull/31500">#31500</a></li>
  <li>(experimental) Add <code class="language-plaintext highlighter-rouge">--no-task-ids</code> and <code class="language-plaintext highlighter-rouge">--no-trunc</code> options to <code class="language-plaintext highlighter-rouge">docker service logs</code> <a href="https://github.com/docker/docker/pull/31672">#31672</a></li>
</ul>

<h3 id="windows">Windows</h3>

<ul>
  <li>Block pulling Windows images on non-Windows daemons <a href="https://github.com/docker/docker/pull/29001">#29001</a></li>
</ul>
