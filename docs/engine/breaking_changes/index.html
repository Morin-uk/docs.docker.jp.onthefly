
<p>Docker Engine の各リリースでは、前バージョンとの下位互換性を保つように努めています。
インターフェースを安定させることは Docker において常に最重要なことです。</p>

<p>どのような場合でも将来的に削除する予定の機能は、前もって 3 リリースの期間は議論を継続し、<a href="/docs.docker.jp.onthefly/engine/deprecated/">廃止機能</a> において文書化しています。</p>

<p>以下に示す一覧は、それまでの Docker ツール類との互換性がなくなった Docker Engine のアップデートについてまとめるものです。</p>

<blockquote>
  <p><strong>メモ</strong>: お手元のローカル環境において <a href="/docker-for-mac">Docker Desktop for Mac</a> や <a href="/docker-for-windows">Docker Desktop for Windows</a> を利用している場合は、Docker Engine のアップデートが必要です。
  アップデートを行えば、各種ツールと Docker Engine を引き続き利用していくことができます。</p>
</blockquote>

<h2 id="engine-110">Engine 1.10</h2>

<p>1.10 のリリースにおいては、互換性を維持しない変更が 2 つ存在し、Registry と Docker コンテントトラストに影響を与えています。</p>

<p><strong>Registry</strong></p>

<p>Registry 2.3 においてはイメージマニフェストに対する変更が行われ、これは下位互換性のないものとなりました。
Engine 1.10 によって Registry 2.3 にプッシュされたイメージは、古い Engine バージョンを用いた場合には、ダイジェスト値を用いたプルができません。
<code class="language-plaintext highlighter-rouge">docker pull</code> がこの状況において実行されると、以下のようなエラーが返されます。</p>

<pre><code class="language-none"> Error response from daemon: unsupported schema version 2 for tag TAGNAME
 （デーモンからのエラー： タグ TAGNAME に対してスキーマバージョン 2 はサポートされません）
</code></pre>

<p>Docker コンテントトラストは、ダイジェスト値によるイメージの取得機能に大きく依存しています。
したがって Engine 1.10 CLI から Registry 2.3 にプッシュされたイメージは、Docker コンテントトラストを有効にしていても、古いバージョンの Engine CLI （1.10 以前）ではプルすることはできません。</p>

<p>かつての Registry バージョン（2.3 以前）を利用している場合は、Docker Engine CLI がどのバージョンであっても問題ありません。
プッシュやプルでも、また Docker コンテントトラストを利用するしないに関係なく、思いどおりに動くはずです。</p>

<p><strong>Docker コンテントトラスト</strong></p>

<p>現在の Docker Engine 1.10 よりも古いバージョンでは、認証鍵の委任機能を持っているレポジトリからのイメージ取得ができません。
認証鍵の委任を有効にするためには、手動での操作を必要とします。</p>
