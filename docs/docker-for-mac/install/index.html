
<p>Docker Desktop for Mac は Mac 向け Docker の<a href="https://www.docker.com/community-edition">Community</a> バージョンです。
Docker Desktop for Mac のダウンロードは Docker Hub からダウンロードすることができます。</p>

<p><a href="https://hub.docker.com/editions/community/docker-ce-desktop-mac/" class="button outline-btn">Docker Hub からのダウンロード</a></p>

<p>Docker Desktop のダウンロードによって、<a href="https://www.docker.com/legal/docker-software-end-user-license-agreement" target="_blank" rel="noopener" class="_">Docker Software End User License Agreement</a> と <a href="https://www.docker.com/legal/data-processing-agreement" target="_blank" rel="noopener" class="_">Docker Data Processing Agreement</a> に同意したことになります。</p>

<h2 id="what-to-know-before-you-install">インストールの前に</h2>

<p><strong>Docker Machine との関係</strong>: Mac 上に Docker Desktop  をインストールしても、Docker Machine を使って生成していたマシンへの影響はありません。ローカルの <code class="language-plaintext highlighter-rouge">default</code> マシンがあるとして、ここから Docker Desktop <a href="https://github.com/docker/HyperKit/">HyperKit</a> VM に向けて、コンテナーやイメージをコピーすることができます。
Docker Desktop の実行中に、Docker Machine のノードをローカルで（あるいはどこであっても）起動しておく必要はありません。
Docker Desktop を利用すると、VirtualBox システムにかわって、新たにネイティブな仮想システム（HyperKit）を起動することになります。</p>

<h2 id="system-requirements">システム要件</h2>

<p>Docker Desktop を Mac に正常にインストールするには、以下のシステム要件が満たされている必要があります。</p>

<ul>
  <li>
    <p><strong>Mac ハードウェアは 2010 あるいはそれより最新のモデルであること</strong>。
そして Extended Page Tables (EPT) や Unrestricted モードを含んだ、MMU 仮想化に対する Intel ハードウェアサポートが必要です。
利用マシンがこれをサポートしているかどうかは、端末画面から <code class="language-plaintext highlighter-rouge">sysctl kern.hv_support</code> を実行してみればわかります。</p>

    <p>利用している Mac が Hypervisor フレームワークをサポートしている場合は、上のコマンドの出力に <code class="language-plaintext highlighter-rouge">kern.hv_support: 1</code> が表示されます。</p>
  </li>
  <li>
    <p><strong>macOS はバージョン 10.14 またはそれ以降であること</strong>。
つまり Catalina または Mojave であることが必要です。
macOS は最新バージョンにアップグレードすることをお勧めします。</p>

    <p>macOS をバージョン 10.15 にアップグレードしたときに問題が発生した場合は、その macOS のバージョンと互換性のある、最新の Docker Desktop をインストールすることが必要になります。</p>

    <p><strong>メモ:</strong> Docker では、ほぼ最新の macOS であれば Docker Desktop をサポートしています。
Docker Desktop が現時点でサポートするのは、macOS Catalina、macOS Mojave です。</p>

    <p>macOS の最新メジャーバージョンが公開された場合、Docker はそれまでの一番古い対応バージョンへのサポートを停止し、最新版をサポート対象とします。</p>
  </li>
  <li>
    <p>RAM 容量は最低でも 4GB</p>
  </li>
  <li>
    <p>VirtualBox バージョン 4.3.30 以前はインストールしないでください。
Docker Desktop との互換性がないからです。</p>
  </li>
</ul>

<h2 id="whats-included-in-the-installer">インストーラーに含まれるもの</h2>

<ul>
  <li>Docker Desktop のインストールにより以下のものが利用できます。
<a href="/docs.docker.jp.onthefly/engine/">Docker Engine</a>、Docker CLI クライアント、<a href="/docs.docker.jp.onthefly/compose/">Docker Compose</a>、<a href="../notary/getting_started/">Notary</a>、<a href="https://github.com/kubernetes/kubernetes/">Kubernetes</a>、<a href="https://github.com/docker/docker-credential-helpers/">Credential Helper</a>。</li>
</ul>

<h2 id="install-and-run-docker-desktop-on-Mac">Docker Desktop の Mac へのインストールと実行</h2>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">Docker.dmg</code> をダブルクリックしてインストーラーを開きます。
 Docker アイコンをアプリケーションフォルダーへドラッグします。</p>

    <p><img src="/docs.docker.jp.onthefly/docker-for-mac/images/docker-app-drag.png" alt="Docker アプリのインストール" /></p>
  </li>
  <li>
    <p>アプリケーションフォルダー内の <code class="language-plaintext highlighter-rouge">Docker.app</code> をダブルクリックして Docker を起動します。
 （以下の例において、アプリケーションフォルダーは「グリッド」表示モードにしています。）</p>

    <p><img src="/docs.docker.jp.onthefly/docker-for-mac/images/docker-app-in-apps.png" alt="Hockeyapp 内の Docker" /></p>

    <p>最上段のスタータスバーにある Docker メニューには Docker Desktop が起動していることが示されているので、ターミナル画面からアクセスすることができます。</p>

    <p><img src="/docs.docker.jp.onthefly/docker-for-mac/images/whale-in-menu-bar.png" alt="メニューバー内のクジラアイコン" /></p>

    <p>インストーラーによるインストールを終えたら、Docker Desktop はオンボードのチュートリアルを開始します。
 このチュートリアルでは、単純な課題を通じてサンプルの Docker イメージを構築し、コンテナーとして実行、そのイメージを Docker Hub にプッシュして保存することを行います。</p>

    <p><img src="/docs.docker.jp.onthefly/docker-for-mac/images/docker-tutorial-mac.png" alt="Docker クィックスタートチュートリアル" /></p>
  </li>
  <li>
    <p>Docker メニュー (<img src="/docs.docker.jp.onthefly/docker-for-mac/images/whale-x.png" alt="クジラメニュー" class="inline" />) をクリックして、<strong>Preferences</strong> やその他のオプションを確認します。</p>
  </li>
  <li>
    <p><strong>About Docker</strong> をクリックして、最新版を入手していることを確認します。</p>
  </li>
</ol>

<p>おめでとうございます！
Docker Desktop を正常に実行することができました。</p>

<p>チュートリアルを再実行したい場合は Docker Desktop メニューから <strong>Learn</strong> を実行してください。</p>

<h2 id="uninstall-docker-desktop">Docker Desktop のアンインストール</h2>

<p>Mac から Docker Desktop をアンインストールするには以下を実行します。</p>

<ol>
  <li>Docker メニューから <strong>Troubleshoot</strong>、<strong>Uninstall</strong> を選択します。</li>
  <li>選択が正しければ <strong>Uninstall</strong> をクリックします。</li>
</ol>

<blockquote>
  <p><strong>メモ:</strong> Docker Desktop をアンインストールすると、マシン上のローカルな Docker コンテナーやイメージ、あるいはアプリケーションによって生成されたファイル類はすべて削除されます。</p>
</blockquote>

<h2 id="switch-between-stable-and-edge-versions">安定版と最新版の切り替え</h2>

<p>Docker Desktop では安定版と最新版の切り替えができるようになっています。
ただし <strong>一度にインストールしておくことができるバージョンはただ一つです</strong>。
安定版と最新版を切り替えると、開発環境を不安定にする原因となることがあります。
特に、より新しい最新版から、それに比べて古い安定版に切り替える場合には、注意してください。</p>

<p>たとえば、より新しい最新版によって生成したコンテナーは、安定版に切り替えたときに動作しない場合があります。
それは最新版の機能を利用してコンテナーを生成している場合であり、そのような機能が安定版にはないからです。
したがって最新版においてコンテナーを生成して利用する場合には十分に注意してください。
問題の解決ややり直しは自分で行わなければならない、そういうお試し版であることを覚えておいてください。</p>

<p>試験的機能は、最新版においてはデフォルトで有効になっています。
しかし安定版から最新版に切り替えた場合は、試験的機能のフラグを有効にしないと、その機能にアクセスすることはできません。
Docker Desktop メニューから <strong>Preferences</strong> &gt; <strong>Command Line</strong> をクリックして、<strong>Enable experimental features</strong>（試験的機能の有効化）トグルをオンにしてください。
そして <strong>Apply &amp; Restart</strong> をクリックして変更を適用します。</p>

<p>最新版と安定版を安全に切り替えるために、イメージの保存や、必要に応じてコンテナーのエクスポートを行っておいてください。
これを行ってから、旧バージョンをアンインストールし、新バージョンをインストールするようにしてください。
詳しくは、以下の <strong>データの保存と復元</strong> の節を参照してください。</p>

<h3 id="savevand-restore-data">データの保存と復元</h3>

<p>イメージやコンテナーのデータを保存し復元するためには、以下に示す手順を実施します。
たとえば最新版から安定版に切り替える場合、あるいは VM ディスクを入れ替える場合とします。</p>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">docker save -o images.tar image1 [image2 ...]</code> を実行して、対象とするイメージを保存します。
Docker Engine のコマンドラインインターフェースにある <a href="/engine/reference/commandline/save">save</a> コマンドを参照してください。</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">docker export -o myContainner1.tar container1</code> を実行して、対象とするコンテナーをエクスポートします。
 Docker Engine のコマンドラインインターフェースにある <a href="/engine/reference/commandline/export">export</a> コマンドを参照してください。</p>
  </li>
  <li>
    <p>Docker Desktop の現バージョンをアンインストールし、別のバージョン（安定版あるいは最新版) をインストールします。
あるいは VM ディスクを入れ替えます。</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">docker load -i images.tar</code> を実行して、上で保存したイメージをリロードします。
 Docker Engine の <a href="/engine/reference/commandline/load">load</a> コマンドを参照してください。</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">docker import -i myContainer1.tar</code> を実行して、上でエクスポートしたコンテナーに応じたファイルシステムイメージを生成します。
 Docker Engine の <a href="/engine/reference/commandline/import">import</a> コマンドを参照してください。</p>
  </li>
</ol>

<p>データボリュームのバックアップと復元方法については、<a href="/storage/volumes/#backup-restore-or-migrate-data-volumes">データボリュームのバックアップ、復元、移行</a> を参照してください。</p>

<h2 id="where-to-go-next">次に読むものは</h2>

<ul>
  <li><a href="/docs.docker.jp.onthefly/docker-for-mac/">はじめよう</a>では Mac 上での Docker Desktop の概要、基本的な Docker コマンド例、ヘルプを得たりフィードバックを行う方法、また Mac 上の Docker Desktop に関する他のトピックへのリンクを示しています。</li>
  <li><a href="/docs.docker.jp.onthefly/docker-for-mac/troubleshoot/">トラブルシューティング</a> では一般的な質問、解決方法、診断実行や課題送信などを示しています。</li>
  <li><a href="/docs.docker.jp.onthefly/docker-for-mac/faqs/">FAQ</a> はよくたずねられる質問とその回答を示します。</li>
  <li><a href="/docs.docker.jp.onthefly/docker-for-mac/release-notes/">リリースノート</a> ではコンポーネントのアップデート、新機能、また安定版に関連した改善機能を示しています。
最新版については <a href="/docs.docker.jp.onthefly/docker-for-mac/edge-release-notes/">最新版リリースノート</a> を参照してください。</li>
  <li><a href="/get-started/">Docker をはじめよう</a> は Docker の全般的なチュートリアルです。</li>
</ul>
