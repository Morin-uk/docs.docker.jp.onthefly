
<h2 id="about-two-factor-authentication">２要素認証について</h2>

<p>２要素認証は Docker Hub アカウントに対してセキュリティレベルを一段と高めるものです。
アカウントにログインする際には、ユニークなセキュリティコードの入力を行います。
セキュリティコードは、パスワードに加えて必要になるものです。</p>

<p>２要素認証を有効にすると、リカバリーコードというものも同時に提供されます。
リカバリーコードもユニークなものであり、アカウントに固有のものです。
このコードは、認証アプリへアクセスできなくなった際に、アカウントを復旧させるために利用します。
<a href="recover-hub-account/">Docker Hub アカウントの復旧</a> を参照してください。</p>

<h2 id="prerequisites">前提条件</h2>

<p>携帯端末が必要になります。
そこに時間制限つきのワンタイムパスワード認証アプリがインストールされていることが必要です。
一般的な例として Google Authenticator や、登録済み YubiKey を利用する Yubico Authenticator があります。</p>

<blockquote class="important">
  <p><strong>Note:</strong>
２要素認証は、今のところベータ版です。
フィードバックは <a href="https://github.com/docker/hub-feedback/issues">Docker Hub フィードバックリポジトリ</a> までお気軽にお寄せください。</p>
</blockquote>

<h2 id="enable-two-factor-authentication">２要素認証の有効化</h2>

<p>２要素認証を有効化するには、まず Docker Hub アカウントにログインします。
ユーザー名をクリックして <strong>Account Settings</strong> を実行します。
Security にアクセスして <strong>Enable Two-Factor Authentication</strong>（２要素認証を有効化） をクリックします。</p>

<p><img src="/docs.docker.jp.onthefly/docker-hub/images/2fa-security-home.png" alt="２要素認証画面" /></p>

<p>次のページでは認証アプリをダウンロードするように求められるので <strong>Set up using an app</strong>（アプリを利用して設定）をクリックします。
ここでリカバリーコードが示されます。</p>

<blockquote class="important">
  <p><strong>リカバリーコードを書きとめて、どこか安全なところに保存してください</strong></p>

  <p>リカバリーコードは、認証アプリにアクセスできなくなった場合に、アカウントを復旧させるために利用するものです。</p>
</blockquote>

<p><img src="/docs.docker.jp.onthefly/docker-hub/images/2fa-recovery-code.png" alt="リカバリーコードの例" /></p>

<p>リカバリーコードを保存したら <strong>Next</strong> をクリックします。</p>

<p>認証アプリを開きます。
認証アプリの開き方としては、QR コードをスキャンするか、テキストコードを入力するか、いずれかを選びます。
認証アプリにリンクできていれば、テキスト欄に入力する 6 桁のコードが示されます。
<strong>Next</strong> をクリックします。</p>

<p><img src="/docs.docker.jp.onthefly/docker-hub/images/2fa-enter-code.png" alt="特別なコードを入力" /></p>

<p>これにより２要素認証が有効化されました。
Docker Hub アカウントの次回からのログインでは、セキュリティコードの入力が求められます。</p>

<blockquote class="important">
  <p><strong>メモ</strong>
アカウントに対して２要素認証を有効化したので、個人用のアクセストークンを少なくとも 1 つ生成する必要があります。
これを行っていないと、Docker CLI を使ってアカウントへのログインを行うことができません。
詳しくは <a href="../access-tokens">アクセストークンの管理</a> を参照してください。</p>
</blockquote>
