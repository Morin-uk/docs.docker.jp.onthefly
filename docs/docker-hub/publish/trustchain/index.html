<h2 id="for-consumers">For consumers</h2>

<p>Docker can ensure that all content is securely received and verified from original
producers, and additionally audits images before adding them to the Docker
Hub. Docker cryptographically signs the images upon completion of a
satisfactory image check, so that you can verify and trust certified content
from the Docker Hub.</p>

<p>Here’s the full trust chain in detail, with details on how to cryptographically
verify completion of the process when pulling an image from Docker Hub:</p>

<ol>
  <li>
    <p>Publishers sign and push their images using Docker Content Trust to a private staging area.</p>
  </li>
  <li>
    <p>Docker pulls the image, verifies the signatures to guarantee authenticity, integrity, and freshness of the image.</p>
  </li>
  <li>
    <p>The Docker Hub certification team performs a thorough review of the image, looking for vulnerabilities and verifying best practices for image hygiene, such as ensuring minimal image sizes and working health-checks.</p>
  </li>
  <li>
    <p>Upon a successful review, Docker signs the image and makes it officially available on Docker Hub. As a consumer, you can confirm that Docker signed the image by pulling and running with Docker Content Trust:</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">DOCKER_CONTENT_TRUST</span><span class="o">=</span>1 docker pull &lt;image&gt;

 <span class="nv">DOCKER_CONTENT_TRUST</span><span class="o">=</span>1 docker run &lt;image&gt;
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="for-publishers">For publishers</h2>

<p>The Docker Hub has a thorough and well-defined certification process to ensure
top-quality content from producers is delivered to consumers in a trusted
manner. As a producer of content, you are required to sign your images so
that Docker can verify that your content is not tampered with upon starting the
image certification and publishing process as outlined below:</p>

<ol>
  <li>
    <p>Producers sign and push their images using Docker Content Trust to a private staging area. To do this, run a <code class="language-plaintext highlighter-rouge">docker push</code> command with Content Trust enabled:</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">DOCKER_CONTENT_TRUST</span><span class="o">=</span>1 docker push &lt;image&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>Docker verifies the signatures to guarantee authenticity, integrity, and freshness of the image. All of the individual layers of your image, and the combination thereof, are encompassed as part of this verification check. <a href="/docs.docker.jp.onthefly/engine/security/trust/">Read more detail about Content Trust in Docker’s documentation</a>.</p>
  </li>
  <li>
    <p>Upon a successful signature verification, Docker pulls the original image to a private, internal staging area only accessible to the Docker Hub certification team.</p>
  </li>
  <li>
    <p>The Docker Hub certification team performs a thorough review of the image, looking for vulnerabilities and verifying best practices for image hygiene, such as ensuring minimal image sizes and working health-checks.</p>
  </li>
  <li>
    <p>Upon a successful review, Docker signs the image and makes it officially available on Docker Hub. Similar to artifacts on the Apple Store, this is the final and only signature on the image. Your consumers confirm that the full certification process was completed by checking Docker’s signature by pulling and running with Docker Content Trust:</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">DOCKER_CONTENT_TRUST</span><span class="o">=</span>1 docker pull &lt;image&gt;

 <span class="nv">DOCKER_CONTENT_TRUST</span><span class="o">=</span>1 docker run &lt;image&gt;
</code></pre></div>    </div>
  </li>
</ol>

<p><img src="/docs.docker.jp.onthefly/docker-hub/publish/images/image_0.png" alt="Store Trust Chain signing process" /></p>

<p>To learn more the trust chain and certification for publishing content, see
<a href="/docs.docker.jp.onthefly/docker-hub/publish/publish/#security-and-audit-policies">Security and Audit Policies</a> in the
publishers guide.</p>
