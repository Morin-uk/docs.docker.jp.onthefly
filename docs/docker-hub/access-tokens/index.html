
<p>Docker Hub では、パスワードに代わるものとして個人用のアクセストークンを利用することができます。
このトークンを使って Docker CLI から Docker Hub イメージにアクセスできます</p>

<p>個人用のアクセストークンを利用すると、パスワードに比べて以下の利点があります。</p>
<ul>
  <li>アクセストークンの前回利用状況を確認できます。
そのため何か疑わしい履歴が残っていたら、アクセストークンを無効化したり削除したりすることができます。</li>
  <li>アクセストークンを使ってログインしている際には、ログインアカウントに対する管理操作、たとえばパスワードの変更といったことを行うことはできません。</li>
</ul>

<p>アクセストークンは複数環境で利用する際に活用できます。
複数のトークンを生成しておき、環境ごとにトークンを使い分けます。
不要になったらいつでも削除することができます。</p>

<blockquote class="important">
  <p>メモ: 利用アカウントに対して <a href="../2fa">２要素認証（two-factor authentication; 2FA）</a> を有効にしている場合は、個人用のアクセストークンを少なくとも 1 つ生成しておかなければなりません。
これを行っていないと、Docker CLI を使ってアカウントへのログインを行うことができません。</p>
</blockquote>

<h2 id="create-an-access-token">アクセストークンの生成</h2>

<p>アクセストークンは必要な分だけ生成することができます。</p>

<ol>
  <li>
    <p><a href="https://hub.docker.com">hub.docker.com</a> にログインします。</p>
  </li>
  <li>
    <p>画面右上に表示されている自身のユーザー名をクリックして、<strong>Account Settings</strong> を実行します。</p>
  </li>
  <li>
    <p><strong>Security &gt; New Access Token</strong> を実行します。</p>

    <p><img src="images/hub-create-token.png" alt="" /></p>
  </li>
  <li>
    <p>トークンに対する説明を書きます。
トークンをどのように用いるべきか、トークンの利用目的は何か、といったことを書きます。</p>
  </li>
  <li>
    <p>画面上に表示されるトークンをコピーします。
これは必ず実施するようにしてください。
この表示画面を閉じてしまうと、トークンは二度と表示されません。</p>

    <p><img src="images/hub-copy-token.png" alt="" /></p>

    <p>トークンはパスワードと同様に、大切な情報として扱ってください。
   トークンは安全な方法で保存するようにします（たとえば Credential マネージャー内など）。</p>
  </li>
</ol>

<h2 id="modify-existing-tokens">既存トークンの修正</h2>

<p>トークンは必要に応じて、名称変更、無効化、削除を行うことができます。</p>

<ol>
  <li>
    <p><strong>Account Settings &gt; Security</strong> の下にトークンを表示します。</p>
  </li>
  <li>
    <p>トークンを選択して <strong>Delete</strong> や <strong>Edit</strong> をクリックします。
あるいはトークンが表示されている行の一番右にあるメニューを用いて、編集画面を開きます。
複数のトークンを選択状態にして、一括で削除することもできます。</p>

    <p><img src="images/hub-edit-token.png" alt="" /></p>
  </li>
</ol>

<h2 id="use-an-access-token">アクセストークンの利用</h2>

<p>Docker Hub のパスワードを必要とする場面では、どこでもアクセストークンを利用することができます。</p>

<p>Docker CLI クライアントからログインする場合（<code class="language-plaintext highlighter-rouge">docker login --username &lt;ユーザー名&gt;</code>）、ログインコマンドにおけるパスワード入力は行いません。
パスワードの入力プロンプトには、パスワードでなくトークンを入力します。</p>

<p>２要素認証を有効にしている場合、Docker CLI によりログインを行うには、個人用アクセストークンを用いる必要があります。
２要素認証を有効にしていない場合、認証手段としてトークンを利用するかどうかは任意です（ただしトークンを利用することがより安全です）。</p>
