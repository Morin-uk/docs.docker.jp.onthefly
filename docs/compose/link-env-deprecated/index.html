
<blockquote>
  <p><strong>メモ</strong>: リンクされているサービスに接続する方法として、環境変数を用いることは推奨されなくなりました。
その代わりに、接続するホスト名としてリンク名（デフォルトはリンクされているサービス名）を用いてください。
詳しくは <a href="compose-file/#links">docker-compose.yml ドキュメント</a> を参照してください。</p>

  <p>環境変数は <a href="/docs.docker.jp.onthefly/compose/compose-file/compose-versioning/#versioning">かつての Compose ファイルフォーマットバージョン 1</a> においてのみ定義されます。</p>
</blockquote>

<p>Compose は <a href="/docs.docker.jp.onthefly/network/links/">Docker links</a> を利用して、サービスのコンテナーをその他のコンテナーに対して情報を公開します。
リンクされたコンテナーは複数の環境変数を提供します。
各環境変数は、コンテナー名を大文字にしたものが先頭につきます。</p>

<p>サービスにおいて利用可能な環境変数を見るには、<code class="language-plaintext highlighter-rouge">docker-compose run SERVICE env</code> を実行します。</p>

<p><strong><em>name</em>_PORT</strong><br />
完全な  URL。
たとえば <code class="language-plaintext highlighter-rouge">DB_PORT=tcp://172.17.0.5:5432</code></p>

<p><strong><em>name</em>_PORT_<em>num</em>_<em>protocol</em></strong><br />
完全な URL。
たとえば <code class="language-plaintext highlighter-rouge">DB_PORT_5432_TCP=tcp://172.17.0.5:5432</code></p>

<p><strong><em>name</em>_PORT_<em>num</em>_<em>protocol</em>_ADDR</strong><br />
コンテナーの IP アドレス。
たとえば <code class="language-plaintext highlighter-rouge">DB_PORT_5432_TCP_ADDR=172.17.0.5</code></p>

<p><strong><em>name</em>_PORT_<em>num</em>_<em>protocol</em>_PORT</strong><br />
公開されているポート番号。
たとえば <code class="language-plaintext highlighter-rouge">DB_PORT_5432_TCP_PORT=5432</code></p>

<p><strong><em>name</em>_PORT_<em>num</em>_<em>protocol</em>_PROTO</strong><br />
プロトコル（tcp または udp）。
たとえば <code class="language-plaintext highlighter-rouge">DB_PORT_5432_TCP_PROTO=tcp</code></p>

<p><strong><em>name</em>_NAME</strong><br />
完全修飾コンテナー名。
たとえば <code class="language-plaintext highlighter-rouge">DB_1_NAME=/myapp_web_1/myapp_db_1</code></p>

<h2 id="related-information">関連情報</h2>

<ul>
  <li><a href="/docs.docker.jp.onthefly/compose/">ユーザーガイド</a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/install/">Compose のインストール</a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/gettingstarted/">はじめよう</a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/reference/">コマンドラインリファレンス</a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/">Compose ファイルリファレンス</a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/samples-for-compose/">Compose を使ったサンプルアプリ</a></li>
</ul>
