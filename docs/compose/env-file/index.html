
<p>Compose では環境変数のデフォルトを定義しておくことができます。
これは <code class="language-plaintext highlighter-rouge">.env</code> という名前の環境ファイルに環境変数を定義するもので、このファイルを
<code class="language-plaintext highlighter-rouge">docker-compose</code> コマンドが実行されるディレクトリ（<em>カレントワーキングディレクトリ</em>）に置きます。</p>

<h2 id="syntax-rules">文法</h2>

<p><code class="language-plaintext highlighter-rouge">.env</code> ファイルに適用される文法は以下のとおりです。</p>

<ul>
  <li>Compose は <code class="language-plaintext highlighter-rouge">env</code> ファイル内の各行が <code class="language-plaintext highlighter-rouge">変数=値</code> という形式で書かれているものとして扱います。</li>
  <li>先頭が <code class="language-plaintext highlighter-rouge">#</code> で始まる行は、コメント行となり無視されます。</li>
  <li>空行は無視されます。</li>
  <li>引用符は特別に扱われません。
つまりそれは<strong>値の一部として扱われます</strong>。</li>
</ul>

<h2 id="compose-file-and-cli-variables">Compose ファイルと CLI 変数</h2>

<p>環境変数を定義すると Compose ファイル内では<a href="/docs.docker.jp.onthefly/compose/compose-file/#variable-substitution">変数置換</a> が行われます。
また以下の <a href="/docs.docker.jp.onthefly/compose/reference/envvars/">CLI 変数</a> の定義に利用することもできます。</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">COMPOSE_API_VERSION</code></li>
  <li><code class="language-plaintext highlighter-rouge">COMPOSE_CONVERT_WINDOWS_PATHS</code></li>
  <li><code class="language-plaintext highlighter-rouge">COMPOSE_FILE</code></li>
  <li><code class="language-plaintext highlighter-rouge">COMPOSE_HTTP_TIMEOUT</code></li>
  <li><code class="language-plaintext highlighter-rouge">COMPOSE_TLS_VERSION</code></li>
  <li><code class="language-plaintext highlighter-rouge">COMPOSE_PROJECT_NAME</code></li>
  <li><code class="language-plaintext highlighter-rouge">DOCKER_CERT_PATH</code></li>
  <li><code class="language-plaintext highlighter-rouge">DOCKER_HOST</code></li>
  <li><code class="language-plaintext highlighter-rouge">DOCKER_TLS_VERIFY</code></li>
</ul>

<blockquote>
  <p><strong>メモ</strong></p>

  <ul>
    <li>
      <p>実行時に環境から得られる値は、常に <code class="language-plaintext highlighter-rouge">.env</code> ファイルにて定義された値を上書きします。
同じこととして、コマンドライン引数から与えられた値も、同様に優先され上書きされます。</p>
    </li>
    <li>
      <p><code class="language-plaintext highlighter-rouge">.env</code> ファイルにて定義された環境変数は、コンテナー内部では自動的に見えるものではありません。
コンテナーが認識できる環境変数として設定するには、<a href="/docs.docker.jp.onthefly/compose/environment-variables/">Compose における環境変数</a> に示されているガイドラインに従ってください。
そこでは、シェル環境変数をコンテナーに受け渡す方法や、Compose ファイル内での環境変数の定義方法などを説明しています。</p>
    </li>
  </ul>
</blockquote>

<h2 id="more-compose-documentation">その他の Compose ドキュメント</h2>

<ul>
  <li><a href="/docs.docker.jp.onthefly/compose/">ユーザーガイド</a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/install/">Compose のインストール</a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/gettingstarted/">はじめよう</a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/reference/">コマンドラインリファレンス</a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/compose-file/">Compose ファイルリファレンス</a></li>
  <li><a href="/docs.docker.jp.onthefly/compose/samples-for-compose/">Compose を使ったサンプルアプリ</a></li>
</ul>
