<ul class="nav nav-tabs">
  <li class="active"><a data-toggle="tab" href="#origin">英語表記</a></li>
  <li><a data-toggle="tab" href="#japanese">日本語訳</a></li>
</ul>
<div class="tab-content">
  <div id="origin" class="tab-pane fade in active">
    <pre><code class="language-none">Usage: docker-machine inspect [OPTIONS] [arg...]

Inspect information about a machine

Description:
   Argument is a machine name.

Options:
   --format, -f 	Format the output using the given go template.
</code></pre>
  </div>
  <div id="japanese" class="tab-pane fade">

    <pre><code class="language-none">利用方法: docker-machine inspect [オプション] [arg...]

マシンに関する情報を表示します。

内容説明:
   引数にはマシン名を指定します。

オプション:
   --format, -f 	指定したGo言語テンプレートによりフォーマット出力を行います。
</code></pre>

  </div>
</div>

<p>このコマンドが出力するマシン情報は、デフォルトでは JSON 形式です。
フォーマットが指定された場合は、出力に対してそのフォーマットテンプレートが適用されます。</p>

<p>Go 言語の <a href="http://golang.org/pkg/text/template/">text/template</a> パッケージにおいて、フォーマットの詳細が説明されています。</p>

<p><code class="language-plaintext highlighter-rouge">text/template</code> の文法に加えて、追加の機能として <code class="language-plaintext highlighter-rouge">json</code> と <code class="language-plaintext highlighter-rouge">prettyjson</code> があります。
これは JSON 書式の出力をフォーマットするために用いられます。
（以降に説明します。）</p>

<h2 id="examples">利用例</h2>

<p><strong>マシン情報詳細の一覧表示</strong></p>

<p>これが <code class="language-plaintext highlighter-rouge">inspect</code> のデフォルトの利用方法です。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-machine inspect dev

<span class="o">{</span>
    <span class="s2">"DriverName"</span>: <span class="s2">"virtualbox"</span>,
    <span class="s2">"Driver"</span>: <span class="o">{</span>
        <span class="s2">"MachineName"</span>: <span class="s2">"docker-host-128be8d287b2028316c0ad5714b90bcfc11f998056f2f790f7c1f43f3d1e6eda"</span>,
        <span class="s2">"SSHPort"</span>: 55834,
        <span class="s2">"Memory"</span>: 1024,
        <span class="s2">"DiskSize"</span>: 20000,
        <span class="s2">"Boot2DockerURL"</span>: <span class="s2">""</span>,
        <span class="s2">"IPAddress"</span>: <span class="s2">"192.168.5.99"</span>
    <span class="o">}</span>,
    ...
<span class="o">}</span>
</code></pre></div></div>

<p><strong>マシンの IP アドレス取得</strong></p>

<p>JSON 書式においては、ほとんどの項目をごく普通の方法で引き出すことができます。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-machine inspect <span class="nt">--format</span><span class="o">=</span><span class="s1">'{{.Driver.IPAddress}}'</span> dev

192.168.5.99
</code></pre></div></div>

<p><strong>詳細フォーマット</strong></p>

<p>JSON 書式から部分的に情報を引き出したい場合には、テンプレートとして <code class="language-plaintext highlighter-rouge">json</code> 機能を利用することができます。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-machine inspect <span class="nt">--format</span><span class="o">=</span><span class="s1">''</span> dev-fusion

<span class="o">{</span><span class="s2">"Boot2DockerURL"</span>:<span class="s2">""</span>,<span class="s2">"CPUS"</span>:8,<span class="s2">"CPUs"</span>:8,<span class="s2">"CaCertPath"</span>:<span class="s2">"/Users/hairyhenderson/.docker/machine/certs/ca.pem"</span>,<span class="s2">"DiskSize"</span>:20000,<span class="s2">"IPAddress"</span>:<span class="s2">"172.16.62.129"</span>,<span class="s2">"ISO"</span>:<span class="s2">"/Users/hairyhenderson/.docker/machine/machines/dev-fusion/boot2docker-1.5.0-GH747.iso"</span>,<span class="s2">"MachineName"</span>:<span class="s2">"dev-fusion"</span>,<span class="s2">"Memory"</span>:1024,<span class="s2">"PrivateKeyPath"</span>:<span class="s2">"/Users/hairyhenderson/.docker/machine/certs/ca-key.pem"</span>,<span class="s2">"SSHPort"</span>:22,<span class="s2">"SSHUser"</span>:<span class="s2">"docker"</span>,<span class="s2">"SwarmDiscovery"</span>:<span class="s2">""</span>,<span class="s2">"SwarmHost"</span>:<span class="s2">"tcp://0.0.0.0:3376"</span>,<span class="s2">"SwarmMaster"</span>:false<span class="o">}</span>
</code></pre></div></div>

<p>上は十分利用できるものですが、人間が読むには不便です。
この理由から <code class="language-plaintext highlighter-rouge">prettyjson</code> があります。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-machine inspect <span class="nt">--format</span><span class="o">=</span><span class="s1">'{{prettyjson .Driver}}'</span> dev-fusion

<span class="o">{</span>
  <span class="s2">"Boot2DockerURL"</span>: <span class="s2">""</span>,
  <span class="s2">"CPUS"</span>: 8,
  <span class="s2">"CPUs"</span>: 8,
  <span class="s2">"CaCertPath"</span>: <span class="s2">"/Users/hairyhenderson/.docker/machine/certs/ca.pem"</span>,
  <span class="s2">"DiskSize"</span>: 20000,
  <span class="s2">"IPAddress"</span>: <span class="s2">"172.16.62.129"</span>,
  <span class="s2">"ISO"</span>: <span class="s2">"/Users/hairyhenderson/.docker/machine/machines/dev-fusion/boot2docker-1.5.0-GH747.iso"</span>,
  <span class="s2">"MachineName"</span>: <span class="s2">"dev-fusion"</span>,
  <span class="s2">"Memory"</span>: 1024,
  <span class="s2">"PrivateKeyPath"</span>: <span class="s2">"/Users/hairyhenderson/.docker/machine/certs/ca-key.pem"</span>,
  <span class="s2">"SSHPort"</span>: 22,
  <span class="s2">"SSHUser"</span>: <span class="s2">"docker"</span>,
  <span class="s2">"SwarmDiscovery"</span>: <span class="s2">""</span>,
  <span class="s2">"SwarmHost"</span>: <span class="s2">"tcp://0.0.0.0:3376"</span>,
  <span class="s2">"SwarmMaster"</span>: <span class="nb">false</span>
<span class="o">}</span>

</code></pre></div></div>
