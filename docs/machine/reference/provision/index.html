
<p>生成済みマシン上でプロビジョンを再実行します。</p>

<p>生成済みマシン上において、プロビジョニング処理を再実行することが効果を発揮する場合があります。
その理由として、もともとのプロビジョニング処理に失敗していたり、期待しているシステムの状態（もともとの Swarm や Engine の設定）からずれてしまうことがあるからです。</p>

<p>実行は <code class="language-plaintext highlighter-rouge">docker-machine provision [マシン名]</code> とします。
マシン名は複数指定することができます。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-machine provision foo bar

Copying certs to the <span class="nb">local </span>machine directory...
Copying certs to the remote machine...
Setting Docker configuration on the remote daemon...
</code></pre></div></div>

<p>マシンのプロビジョニング処理は以下を行います。</p>

<ol>
  <li>インスタンス上のホスト名を、Docker Machine が処理している名前に設定します。
たとえば <code class="language-plaintext highlighter-rouge">default</code> などです。</li>
  <li>Docker が存在していない場合はインストールします。</li>
  <li>一連の証明書（通常はデフォルトの自己署名 CA）を生成します。
そしてデーモンが TLS を介しての接続を可能とします。</li>
  <li>生成した証明書を、サーバーとローカルディレクトリにコピーします。</li>
  <li>マシン生成時に指定されたオプションに基づいて Docker Engine を設定します。</li>
  <li>Swarm である場合、その設定とアクティブ化を行います。</li>
</ol>
