
<p>マシンからローカルホストに向けてディレクトリをマウントします。
マウントには <code class="language-plaintext highlighter-rouge">sshfs</code> が用いられます。</p>

<p>引数の書式は <code class="language-plaintext highlighter-rouge">machinename:/path/to/dir</code> です。
マウントポイントに別名を指定することもできます。
（デフォルトは同名のパスです。）</p>

<h2 id="example">利用例</h2>

<p>以下の例を取り上げます。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">mkdir </span>foo
<span class="nv">$ </span>docker-machine ssh dev <span class="nb">mkdir </span>foo
<span class="nv">$ </span>docker-machine mount dev:/home/docker/foo foo
<span class="nv">$ </span><span class="nb">touch </span>foo/bar
<span class="nv">$ </span>docker-machine ssh dev <span class="nb">ls </span>foo
bar
</code></pre></div></div>

<p>マシン上のディレクトリは、コンテナー内にマウントしたディレクトリとして利用できます。
つまりローカルディレクトリ内で変更を行うと、それがマシン上にも反映されます。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">eval</span> <span class="si">$(</span>docker-machine <span class="nb">env </span>dev<span class="si">)</span>
<span class="nv">$ </span>docker run <span class="nt">-v</span> /home/docker/foo:/tmp/foo busybox <span class="nb">ls</span> /tmp/foo
bar
<span class="nv">$ </span><span class="nb">touch </span>foo/baz
<span class="nv">$ </span>docker run <span class="nt">-v</span> /home/docker/foo:/tmp/foo busybox <span class="nb">ls</span> /tmp/foo
bar
baz
</code></pre></div></div>

<p>対象のファイルは、実際には <code class="language-plaintext highlighter-rouge">sftp</code>（ssh 接続を介した）を利用して転送されます。
したがってこのプログラム（sftp）がマシン上になければなりませんが、普通は存在しているものです。</p>

<p>ディレクトリをアンマウントするには、同じオプションに加えて <code class="language-plaintext highlighter-rouge">-u</code> フラグを使います。
コマンド <code class="language-plaintext highlighter-rouge">fuserunmount</code>（または <code class="language-plaintext highlighter-rouge">fusermount -u</code>）を直接実行してもかまいません。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-machine mount <span class="nt">-u</span> dev:/home/docker/foo foo
<span class="nv">$ </span><span class="nb">rmdir </span>foo
</code></pre></div></div>

<p><strong>ファイルが保存されるのはマシン上であって、ホスト上ではありません。</strong>
したがってマシンを削除するなら、保存しておきたいファイルはコピーをとっておいてください。</p>
