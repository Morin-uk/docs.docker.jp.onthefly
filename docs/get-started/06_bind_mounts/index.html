<!-- Page generated 2020-12-19 12:03:50 +0900-->
<!DOCTYPE html>
<html lang="ja"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Using bind mounts | Docker ドキュメント</title>
  <meta name="description" content="Using bind mounts in our application" />
  <meta name="keywords" content="get started, setup, orientation, quickstart, intro, concepts, containers, docker desktop">
  <link rel="canonical" href="https://localhost:4000{{ site.baseurl }}/get-started/06_bind_mounts/" />

  <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <link rel="apple-touch-icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <meta name="msapplication-TileImage" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico">
  <meta property="og:image" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
  <meta name="theme-color" content="#2496ed" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"><script defer src="/docs.docker.jp.onthefly/js/theme-switcher.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/anchorlinks.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/jquery.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/docs.js"></script><script defer src="/docs.docker.jp.onthefly/js/search.js"></script><link rel="preload" as="font" href="https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0bf8pkAg.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/geomanist/hinted-Geomanist-Book.woff2"    type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/geomanist/hinted-Geomanist-Regular.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/glyphicons-halflings-regular.woff2"       type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/fontawesome-webfont.woff2?v=4.7.0"        type="font/woff2" crossorigin="anonymous">

  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/font-awesome.min.css">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/bootstrap.min.css">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/style.css" id="pagestyle">

  <!-- SEO stuff -->
  <meta name="twitter:title" itemprop="title name" content="Using bind mounts"/>
  <meta name="twitter:description" property="og:description" itemprop="description" content="" />
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:domain" content="matsuand.github.io"/>
  <meta name="twitter:site" content="@docker_docs"/>
  <meta name="twitter:url" content="https://twitter.com/docker_docs"/>
  <meta name="twitter:image:src" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta name="twitter:image:alt" content="Docker ドキュメント"/>
  <meta property="og:title" content="Using bind mounts" />
  <meta property="og:description" content="Using bind mounts in our application" />
  <meta property="og:type" content="website"/>
  <meta property="og:updated_time" itemprop="dateUpdated" content="2020-12-19T12:03:50+09:00"/>
  <meta property="og:image" itemprop="image primaryImageOfPage" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta property="og:locale" content="ja_JP" />
  <meta property="og:url" content="https://matsuand.github.io/docs.docker.jp.onthefly/get-started/06_bind_mounts/" />
  <meta property="og:site_name" content="Docker ドキュメント" />
  <meta property="article:published_time" itemprop="datePublished" content="2020-12-19T12:03:50+09:00"/>
  <script type="application/ld+json">{"@context":"http://schema.org","@type":"WebPage","headline":"Using bind mounts","description":"Using bind mounts in our application","url":"https://docs.docker.com/get-started/06_bind_mounts/"}</script>
  <!-- END SEO STUFF -->
</head>
<body class="colums">
    <header>
        <nav class="nav-secondary navbar navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="/docs.docker.jp.onthefly/">
                <img class="logo" src="/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs" width="160" height="28" />
            </a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="logo-mobile">
    <a href="/docs.docker.jp.onthefly/">
        <img src="/docs.docker.jp.onthefly/images/docker-icon.svg" alt="Docker Docs" title="Docker Docs" width="30" height="30" />
    </a>
</div>
<div class="search-form" id="search-div">
    <form class="search-form form-inline" id="searchForm" action="/docs.docker.jp.onthefly/search/" method="get">
        <label for="st-search-input" class="sr-only">検索</label>
        <input class="search-field form-control ds-input" id="st-search-input" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteResults"></div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container hidden-sm hidden-xs">
    <div id="tabs">
        <ul class="tabs jsTOCHorizontal"><li><a href="/docs.docker.jp.onthefly/" id="home">ホーム</a></li><li><a href="/docs.docker.jp.onthefly/get-started/overview/" id="guides">ガイド</a></li><li><a href="/docs.docker.jp.onthefly/engine/" id="manuals">製品マニュアル</a></li><li><a href="/docs.docker.jp.onthefly/reference/" id="reference">リファレンス</a></li><li><a href="/docs.docker.jp.onthefly/samples/" id="samples">サンプル</a></li></ul>
    </div>
    <div class="ctrl-right">
        <a href="javascript:void(0)" id="menu-toggle" aria-label="現在ページのメニュートグル"><i class="fa fa-indent" aria-hidden="true"></i></a>
    </div>
</div>

        </div>
    </div>
</nav>

    </header>
    <div class="wrapper right-open">
        <div class="container-fluid">
            <div class="row">
                <div class="col-body">
                    <main class="col-content content">
                        <section class="section"><h1>Using bind mounts</h1><p><em class="reading-time">読む時間の目安: 5 分</em></p><p>In the previous chapter, we talked about and used a <strong>named volume</strong> to persist the data in our database.
Named volumes are great if we simply want to store data, as we don’t have to worry about <em>where</em> the data
is stored.</p>

<p>With <strong>bind mounts</strong>, we control the exact mountpoint on the host. We can use this to persist data, but is often
used to provide additional data into containers. When working on an application, we can use a bind mount to
mount our source code into the container to let it see code changes, respond, and let us see the changes right
away.</p>

<p>For Node-based applications, <a href="https://npmjs.com/package/nodemon">nodemon</a> is a great tool to watch for file
changes and then restart the application. There are equivalent tools in most other languages and frameworks.</p>

<h2 id="quick-volume-type-comparisons">Quick Volume Type Comparisons</h2>

<p>Bind mounts and named volumes are the two main types of volumes that come with the Docker engine. However, additional
volume drivers are available to support other uses cases (<a href="https://github.com/vieux/docker-volume-sshfs">SFTP</a>, <a href="https://ceph.com/geen-categorie/getting-started-with-the-docker-rbd-volume-plugin/">Ceph</a>, <a href="https://netappdvp.readthedocs.io/en/stable/">NetApp</a>, <a href="https://github.com/elementar/docker-s3-volume">S3</a>, and more).</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>Named Volumes</th>
      <th>Bind Mounts</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Host Location</td>
      <td>Docker chooses</td>
      <td>You control</td>
    </tr>
    <tr>
      <td>Mount Example (using <code class="language-plaintext highlighter-rouge">-v</code>)</td>
      <td>my-volume:/usr/local/data</td>
      <td>/path/to/data:/usr/local/data</td>
    </tr>
    <tr>
      <td>Populates new volume with container contents</td>
      <td>Yes</td>
      <td>No</td>
    </tr>
    <tr>
      <td>Supports Volume Drivers</td>
      <td>Yes</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<h2 id="starting-a-dev-mode-container">Starting a Dev-Mode Container</h2>

<p>To run our container to support a development workflow, we will do the following:</p>

<ul>
  <li>Mount our source code into the container</li>
  <li>Install all dependencies, including the “dev” dependencies</li>
  <li>Start nodemon to watch for filesystem changes</li>
</ul>

<p>So, let’s do it!</p>

<ol>
  <li>
    <p>Make sure you don’t have any previous <code class="language-plaintext highlighter-rouge">getting-started</code> containers running.</p>
  </li>
  <li>
    <p>Run the following command. We’ll explain what’s going on afterwards:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> docker run <span class="nt">-dp</span> 3000:3000 <span class="se">\</span>
     <span class="nt">-w</span> /app <span class="nt">-v</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">pwd</span><span class="si">)</span><span class="s2">:/app"</span> <span class="se">\</span>
     node:12-alpine <span class="se">\</span>
     sh <span class="nt">-c</span> <span class="s2">"yarn install &amp;&amp; yarn run dev"</span>
</code></pre></div>    </div>

    <p>If you are using PowerShell then use this command.</p>

    <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w"> </span><span class="nf">docker</span><span class="w"> </span><span class="nx">run</span><span class="w"> </span><span class="nt">-dp</span><span class="w"> </span><span class="nx">3000:3000</span><span class="w"> </span><span class="se">`
</span><span class="w">     </span><span class="nt">-w</span><span class="w"> </span><span class="nx">/app</span><span class="w"> </span><span class="nt">-v</span><span class="w"> </span><span class="s2">"</span><span class="si">$(</span><span class="nf">pwd</span><span class="p">):</span><span class="nf">/app</span><span class="s2">" </span><span class="se">`</span><span class="s2">
     node:12-alpine </span><span class="se">`</span><span class="s2">
     sh -c "</span><span class="nx">yarn</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">yarn</span><span class="w"> </span><span class="nx">run</span><span class="w"> </span><span class="nx">dev</span><span class="s2">"
</span></code></pre></div>    </div>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">-dp 3000:3000</code> - same as before. Run in detached (background) mode and create a port mapping</li>
      <li><code class="language-plaintext highlighter-rouge">-w /app</code> - sets the “working directory” or the current directory that the command will run from</li>
      <li><code class="language-plaintext highlighter-rouge">-v "$(pwd):/app"</code> - bind mount the current directory from the host in the container into the <code class="language-plaintext highlighter-rouge">/app</code> directory</li>
      <li><code class="language-plaintext highlighter-rouge">node:12-alpine</code> - the image to use. Note that this is the base image for our app from the Dockerfile</li>
      <li><code class="language-plaintext highlighter-rouge">sh -c "yarn install &amp;&amp; yarn run dev"</code> - the command. We’re starting a shell using <code class="language-plaintext highlighter-rouge">sh</code> (alpine doesn’t have <code class="language-plaintext highlighter-rouge">bash</code>) and
running <code class="language-plaintext highlighter-rouge">yarn install</code> to install <em>all</em> dependencies and then running <code class="language-plaintext highlighter-rouge">yarn run dev</code>. If we look in the <code class="language-plaintext highlighter-rouge">package.json</code>,
we’ll see that the <code class="language-plaintext highlighter-rouge">dev</code> script is starting <code class="language-plaintext highlighter-rouge">nodemon</code>.</li>
    </ul>
  </li>
  <li>
    <p>You can watch the logs using <code class="language-plaintext highlighter-rouge">docker logs -f &lt;container-id&gt;</code>. You’ll know you’re ready to go when you see this...</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> docker logs <span class="nt">-f</span> &lt;container-id&gt;
 <span class="nv">$ </span>nodemon src/index.js
 <span class="o">[</span>nodemon] 1.19.2
 <span class="o">[</span>nodemon] to restart at any <span class="nb">time</span>, enter <span class="sb">`</span>rs<span class="sb">`</span>
 <span class="o">[</span>nodemon] watching <span class="nb">dir</span><span class="o">(</span>s<span class="o">)</span>: <span class="k">*</span>.<span class="k">*</span>
 <span class="o">[</span>nodemon] starting <span class="sb">`</span>node src/index.js<span class="sb">`</span>
 Using sqlite database at /etc/todos/todo.db
 Listening on port 3000
</code></pre></div>    </div>

    <p>When you’re done watching the logs, exit out by hitting <code class="language-plaintext highlighter-rouge">Ctrl</code>+<code class="language-plaintext highlighter-rouge">C</code>.</p>
  </li>
  <li>
    <p>Now, let’s make a change to the app. In the <code class="language-plaintext highlighter-rouge">src/static/js/app.js</code> file, let’s change the “Add Item” button to simply say
“Add”. This change will be on line 109.</p>

    <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code> -                         {submitting ? 'Adding...' : 'Add Item'}
 +                         {submitting ? 'Adding...' : 'Add'}
</code></pre></div>    </div>
  </li>
  <li>
    <p>Simply refresh the page (or open it) and you should see the change reflected in the browser almost immediately. It might
take a few seconds for the Node server to restart, so if you get an error, just try refreshing after a few seconds.</p>

    <p class="text-center"><img src="/docs.docker.jp.onthefly/get-started/images/updated-add-button.png" alt="Screenshot of updated label for Add button" style="width:75%;" /></p>
  </li>
  <li>
    <p>Feel free to make any other changes you’d like to make. When you’re done, stop the container and build your new image
using <code class="language-plaintext highlighter-rouge">docker build -t getting-started .</code>.</p>
  </li>
</ol>

<p>Using bind mounts is <em>very</em> common for local development setups. The advantage is that the dev machine doesn’t need to have
all of the build tools and environments installed. With a single <code class="language-plaintext highlighter-rouge">docker run</code> command, the dev environment is pulled and ready
to go. We’ll talk about Docker Compose in a future step, as this will help simplify our commands (we’re already getting a lot
of flags).</p>

<h2 id="recap">Recap</h2>

<p>At this point, we can persist our database and respond rapidly to the needs and demands of our investors and founders. Hooray!
But, guess what? We received great news!</p>

<p><strong>Your project has been selected for future development!</strong></p>

<p>In order to prepare for production, we need to migrate our database from working in SQLite to something that can scale a
little better. For simplicity, we’ll keep with a relational database and switch our application to use MySQL. But, how
should we run MySQL? How do we allow the containers to talk to each other? We’ll talk about that next!</p>
<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="/docs.docker.jp.onthefly/search/?q=get started">get started</a>, <a href="/docs.docker.jp.onthefly/search/?q=setup">setup</a>, <a href="/docs.docker.jp.onthefly/search/?q=orientation">orientation</a>, <a href="/docs.docker.jp.onthefly/search/?q=quickstart">quickstart</a>, <a href="/docs.docker.jp.onthefly/search/?q=intro">intro</a>, <a href="/docs.docker.jp.onthefly/search/?q=concepts">concepts</a>, <a href="/docs.docker.jp.onthefly/search/?q=containers">containers</a>, <a href="/docs.docker.jp.onthefly/search/?q=docker desktop">docker desktop</a></span><div class="ratings-div"><div id="pd_rating_holder_8453675"></div></div></section>
                    </main>
                    <nav class="col-nav">
                        <div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
                            <div id="navbar" class="nav-sidebar">
                                <ul class="nav jsTOCHorizontal hidden-md hidden-lg"></ul>
                                <ul class="nav" id="jsTOCLeftNav"></ul>
                            </div>
                        </div>
                    </nav>
                    <div class="col-toc">
                        <div class="sidebar hidden-xs hidden-sm">
                            <div class="toc-nav">
                                <div class="feedback-links">
                                    <ul><li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/edit/master/src/get-started/06_bind_mounts.ch"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> 本ページの編集</a></li><li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/issues/new?body=File: [get-started/06_bind_mounts.ch](https://matsuand.github.io/docs.docker.jp.onthefly/get-started/06_bind_mounts/)" class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 変更リクエスト</a></li>
                                        <li><div class="toggle-mode">
  <div class="icon">
      <i class="fa fa-sun-o" aria-hidden="true"></i>
  </div>
  <div class="toggle-switch">
      <label class="switch">
          <input type="checkbox" id="switch-style">
          <span class="slider round"></span>
      </label>
  </div>
  <div class="icon">
      <i class="fa fa-moon-o" aria-hidden="true"></i>
  </div>
</div>
</li>
                                    </ul>
                                </div><div id="side-toc-title">本ページ内:</div>
<ul id="my_toc" class="inline_toc">
  <li><a href="#quick-volume-type-comparisons" class="nomunge">Quick Volume Type Comparisons</a></li>
  <li><a href="#starting-a-dev-mode-container" class="nomunge">Starting a Dev-Mode Container</a></li>
  <li><a href="#recap" class="nomunge">Recap</a></li>
</ul>

</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
          
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/why-docker">なぜ Docker なのか？</a></b></li>
                        <li><a href="https://www.docker.com/what-container">コンテナーって何？</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/overview">製品</a></b></li>
                        <li><a href="https://www.docker.com/products/docker-desktop">Docker Desktop</a></li>
                        <li><a href="https://www.docker.com/products/docker-hub">Docker Hub</a></li>
                        <li><b><a href="https://www.docker.com/products/docker-desktop">機能</a></b></li>
                        <li><a href="https://www.docker.com/products/container-runtime">コンテナーランタイム</a></li>
                        <li><a href="https://www.docker.com/products/developer-tools">開発ツール</a></li>
                        <li><a href="https://www.docker.com/products/kubernetes">Kubernetes</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop">開発者</a></b></li>
                        <li><a href="https://www.docker.com/use-cases">利用例</a></li>
                        <li><a href="https://www.docker.com/play-with-docker">Docker で遊ぶ</a></li>
                        <li><a href="https://www.docker.com/docker-community">コミュニティ</a></li>
                        <li><a href="https://www.docker.com/open-source">オープンソース</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker キャプテン</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/company" target="_blank" rel="noopener">会社</a></b></li>
                        <li><a href="https://www.docker.com/company">概要</a></li>
                        <li><a href="https://www.docker.com/blog/" target="_blank" rel="noopener">ブログ</a></li>
                        <li><a href="https://www.docker.com/customers">顧客</a></li>
                        <li><a href="https://www.docker.com/partners">パートナー</a></li>
                        <li><a href="https://www.docker.com/company/newsroom">ニュースルーム</a></li>
                        <li><a href="https://www.docker.com/careers">採用情報</a></li>
                        <li><a href="https://www.docker.com/company/contact">連絡先</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">ステータス</a></li>
                        <li><a href="https://www.docker.com/docker-security">セキュリティ</a></li>
                        <li><a href="https://www.docker.com/legal">法的情報</a></li>
                        <li><a href="https://www.docker.com/company/contact">連絡</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2013-2020 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-slideshare"><a href="https://www.slideshare.net/docker">Slideshare</a></li>
                    <li class="fa fa-reddit"><a href="https://www.reddit.com/r/docker">Reddit</a></li>
                </ul>
            </div>
        </div>
    </div>

    </footer>
    <script>const pageURL = "/get-started/06_bind_mounts/";</script></body>
</html>
