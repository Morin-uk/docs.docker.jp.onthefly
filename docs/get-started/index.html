<ul class="pagination">
  <li class="active"><a href="/docs.docker.jp.onthefly/get-started/part1/">概要と準備</a></li>
  <li><a href="/docs.docker.jp.onthefly/get-started/part2/">イメージの構築と実行</a></li>
  <li><a href="/docs.docker.jp.onthefly/get-started/part3/">Docker Hub におけるイメージ共有</a></li>
</ul>

<p>ようこそ！
みなさんが Docker の使い方を学ぼうとしているのはすばらしいことです。</p>

<p>このページでは順を追って手順を進めていくことで Docker を学んでいきます。
Dockercon 2020 のビデオウォークスルーもお勧めします。</p>

<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/iqqDU2crIEQ?start=30" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>Docker クイックスタートトレーニングでは、以下のことを学んでいきます。</p>

<ol>
  <li>
    <p>Docker 環境のセットアップ（このページ）</p>
  </li>
  <li>
    <p><a href="/docs.docker.jp.onthefly/get-started/part2/">イメージの構築と実行</a></p>
  </li>
  <li>
    <p><a href="/docs.docker.jp.onthefly/get-started/part3/">Docker Hub におけるイメージ共有</a></p>
  </li>
</ol>

<h2 id="docker-concepts">Docker の考え方</h2>

<p>Docker は開発者やシステム管理者が、コンテナーを使ってアプリケーションを<strong>ビルド、実行、共有</strong>するためのプラットフォームです。
コンテナーを利用してアプリケーションをデプロイすることを「コンテナー化」（<em>containerization</em>）と呼びます。
コンテナーは新たな技術というものではありませんが、これを使えばアプリケーションを簡単にデプロイできます。</p>

<p>コンテナー化は、よりポピュラーなものになっています。
その理由は以下です。</p>

<ul>
  <li><strong>柔軟性</strong>: より複雑なアプリケーションであるほど、コンテナー化ができます。</li>
  <li><strong>軽量</strong>: コンテナーはホストシステムのカーネルを活用し共有します。
システムリソースを活用する観点からは、仮想環境よりもさらに効率性が増します。</li>
  <li><strong>可搬性</strong>: ローカルでビルド、クラウドにデプロイ、どこでも動きます。</li>
  <li><strong>疎結合</strong>: コンテナーは自己完結度が高くカプセル化されています。
したがってコンテナーの入れ替えや更新は、他のものに影響を与えることなく行うことができます。</li>
  <li><strong>スケーラブル</strong>: データセンター内において、コンテナーのレプリカを増やしたり自動的に提供することができます。</li>
  <li><strong>セキュア</strong>: コンテナーはプロセスに対して強力な制約と分離を実現するため、ユーザー自身による制御を必要としません。</li>
</ul>

<h3 id="images-and-containers">イメージとコンテナー</h3>

<p>基本的にコンテナーとは、単にプロセスが起動しているものにすぎません。
ただしホストや別のコンテナーと切り離すために、カプセル化された機能が加えられています。
コンテナーを独立させる際に重要となる点として、各コンテナーが独自のプライベートなファイルシステムにアクセスすることがあげられます。
このファイルシステムは Docker <strong>イメージ</strong> によって提供されるものです。
イメージには、アプリケーションの実行に必要となるすべて、つまりコード、バイナリモジュール、ランタイム、依存パッケージなど、必要となるファイルシステムオブジェクトが含まれます。</p>

<h3 id="containers-and-virtual-machines">コンテナーと仮想マシン</h3>

<p>コンテナーは Linux 上においてネイティブに実行され、他のコンテナーも含めてホストマシン上のカーネルを共有します。
そのプロセスは分離されていて、通常の実行モジュールよりも少ないメモリで動作します。
つまり軽量化されています。</p>

<p>これとは対照的に<strong>仮想マシン（virtual machine; VM）</strong>は、本格的な「ゲスト」オペレーティングシステムを稼動させ、仮想的なアクセスはハイパーバイザーを通じてホストリソースを操作します。
VM ではより多くのオーバーヘッドが発生します。
それはアプリケーションロジックにより生成される以上のものとなりまう。
一般に仮想マシンが提供する環境は、通常のアプリケーションに比べて多くのリソースを必要とします。</p>

<table>
  <tbody>
    <tr>
      <td><img src="/docs.docker.jp.onthefly/images/Container%402x.png" alt="コンテナースタックの例" width="300px" /></td>
      <td><img src="/docs.docker.jp.onthefly/images/VM%402x.png" alt="仮想マシンスタックの例" width="300px" /></td>
    </tr>
  </tbody>
</table>

<h2 id="set-up-your-docker-environment">Docker 環境の構築</h2>

<h3 id="download-and-install-docker-desktop">Docker Desktop のダウンロードとインストール</h3>

<p>Docker Desktop は Mac や Windows 環境に簡単にインストールできるアプリケーションです。
これを使えば、すぐにコーディングとコンテナー化を行うことができます。
Docker Desktop には、コンテナー化するアプリケーションを自マシン上からビルド、実行するためのツールがすべて含まれています。</p>

<p>利用しているオペレーティングシステムに対応する以下の手順に従って、Docker Desktop のダウンロードとインストールを行ってください。</p>

<p><a href="/docs.docker.jp.onthefly/docker-for-mac/install/" target="_blank" rel="noopener" class="_ button outline-btn">Docker Desktop for Mac</a> <a href="/docs.docker.jp.onthefly/docker-for-windows/install/" target="_blank" rel="noopener" class="_ button outline-btn">Docker Desktop for Windows</a></p>

<h3 id="test-docker-version">Docker バージョンの確認</h3>

<p>Docker Desktop のインストールを正常に終えたら、端末画面を開いて <code class="language-plaintext highlighter-rouge">docker --version</code> を実行してください。
自マシンにインストールされている Docker のバージョンを確認することができます。</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker <span class="nt">--version</span>
Docker version 19.03.13, build 4484c46d9d
</code></pre></div></div>

<h3 id="test-docker-installation">Docker のインストール状況の確認</h3>

<ol>
  <li>
    <p>インストールが正常に行われているかを確認するために Docker イメージである <a href="https://hub.docker.com/_/hello-world/" target="_blank" rel="noopener" class="_">hello-world</a> を実行します。</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nv">$ </span>docker run hello-world

    Unable to find image <span class="s1">'hello-world:latest'</span> locally
    latest: Pulling from library/hello-world
    ca4f61b1923c: Pull <span class="nb">complete
    </span>Digest: sha256:ca0eeb6fb05351dfc8759c20733c91def84cb8007aa89a5bf606bc8b315b9fc7
    Status: Downloaded newer image <span class="k">for </span>hello-world:latest

    Hello from Docker!
    This message shows that your installation appears to be working correctly.
    ...
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">docker image ls</code> を実行します。
これにより自マシンにダウンロードされた <code class="language-plaintext highlighter-rouge">hello-world</code> イメージを確認します。</p>
  </li>
  <li>
    <p>（イメージから実行される）<code class="language-plaintext highlighter-rouge">hello-world</code> コンテナーを一覧表示します。
メッセージが表示された後は終了します。
実行中であれば <code class="language-plaintext highlighter-rouge">--all</code> オプションをつける必要はありません。</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nv">$ </span>docker ps <span class="nt">--all</span>

    CONTAINER ID     IMAGE           COMMAND      CREATED            STATUS
    54f4984ed6a8     hello-world     <span class="s2">"/hello"</span>     20 seconds ago     Exited <span class="o">(</span>0<span class="o">)</span> 19 seconds ago
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="conclusion">まとめ</h2>

<p>ここまでは開発マシン上に Docker Desktop をインストールし、簡単なテストを通じて、単純なコンテナー化アプリケーションを初めて構築し実行することを確認しました。</p>

<p><a href="/docs.docker.jp.onthefly/get-started/part2/" class="button outline-btn" style="margin-bottom: 30px; margin-right: 100%">2 部へ &gt;&gt;</a></p>

<p>Node.js を使ったはじめてのコンテナー化アプリケーションをビルドして実行する方法は、<a href="/docs.docker.jp.onthefly/get-started/nodejs/build-images/">Node.js イメージのビルド</a> を参照してください。</p>

<h2 id="cli-references">CLI リファレンス</h2>

<p>本節において用いた CLI コマンドの詳細は、以下から確認することができます。</p>

<ul>
  <li><a href="/docs.docker.jp.onthefly/engine/reference/commandline/version/">docker version</a></li>
  <li><a href="/docs.docker.jp.onthefly/engine/reference/commandline/run/">docker run</a></li>
  <li><a href="/docs.docker.jp.onthefly/engine/reference/commandline/image/">docker image</a></li>
  <li><a href="/docs.docker.jp.onthefly/engine/reference/commandline/container/">docker container</a></li>
</ul>
