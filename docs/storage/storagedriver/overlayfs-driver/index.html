<!-- Page generated 2021-03-03 14:58:47 +0900-->
<!DOCTYPE html>
<html lang="ja"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Use the OverlayFS storage driver | Docker ドキュメント</title>
  <meta name="description" content="Learn how to optimize your use of OverlayFS driver." />
  <meta name="keywords" content="container, storage, driver, OverlayFS, overlay2, overlay">
  <link rel="canonical" href="https://localhost:4000{{ site.baseurl }}/storage/storagedriver/overlayfs-driver/" />

  <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <link rel="apple-touch-icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <meta name="msapplication-TileImage" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico">
  <meta property="og:image" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
  <meta name="theme-color" content="#2496ed" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"><script defer src="/docs.docker.jp.onthefly/js/theme-switcher.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/anchorlinks.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/jquery.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
  <script defer src="/docs.docker.jp.onthefly/js/docs.js"></script><script defer src="/docs.docker.jp.onthefly/js/search.js"></script><link rel="preload" as="font" href="https://fonts.gstatic.com/s/opensans/v18/mem8YaGs126MiZpBA-UFVZ0bf8pkAg.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/geomanist/hinted-Geomanist-Book.woff2"    type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/geomanist/hinted-Geomanist-Regular.woff2" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/glyphicons-halflings-regular.woff2"       type="font/woff2" crossorigin="anonymous">
  <link rel="preload" as="font" href="/docs.docker.jp.onthefly/fonts/fontawesome-webfont.woff2?v=4.7.0"        type="font/woff2" crossorigin="anonymous">

  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/font-awesome.min.css">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/bootstrap.min.css">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/style.css" id="pagestyle">

  <!-- SEO stuff -->
  <meta name="twitter:title" itemprop="title name" content="Use the OverlayFS storage driver"/>
  <meta name="twitter:description" property="og:description" itemprop="description" content="" />
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:domain" content="matsuand.github.io"/>
  <meta name="twitter:site" content="@docker_docs"/>
  <meta name="twitter:url" content="https://twitter.com/docker_docs"/>
  <meta name="twitter:image:src" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta name="twitter:image:alt" content="Docker ドキュメント"/>
  <meta property="og:title" content="Use the OverlayFS storage driver" />
  <meta property="og:description" content="Learn how to optimize your use of OverlayFS driver." />
  <meta property="og:type" content="website"/>
  <meta property="og:updated_time" itemprop="dateUpdated" content="2021-03-03T14:58:47+09:00"/>
  <meta property="og:image" itemprop="image primaryImageOfPage" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta property="og:locale" content="ja_JP" />
  <meta property="og:url" content="https://matsuand.github.io/docs.docker.jp.onthefly/storage/storagedriver/overlayfs-driver/" />
  <meta property="og:site_name" content="Docker ドキュメント" />
  <meta property="article:published_time" itemprop="datePublished" content="2021-03-03T14:58:47+09:00"/>
  <script type="application/ld+json">{"@context":"http://schema.org","@type":"WebPage","headline":"Use the OverlayFS storage driver","description":"Learn how to optimize your use of OverlayFS driver.","url":"https://docs.docker.com/storage/storagedriver/overlayfs-driver/"}</script>
  <!-- END SEO STUFF -->
</head>
<body class="colums">
    <header>
        <nav class="nav-secondary navbar navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="/docs.docker.jp.onthefly/">
                <img class="logo" src="/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs" width="160" height="28" />
            </a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="logo-mobile">
    <a href="/docs.docker.jp.onthefly/">
        <img src="/docs.docker.jp.onthefly/images/docker-icon.svg" alt="Docker Docs" title="Docker Docs" width="30" height="30" />
    </a>
</div>
<div class="search-form" id="search-div">
    <form class="search-form form-inline" id="searchForm" action="/docs.docker.jp.onthefly/search/" method="get">
        <label for="st-search-input" class="sr-only">検索</label>
        <input class="search-field form-control ds-input" id="st-search-input" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteResults"></div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container hidden-sm hidden-xs">
    <div id="tabs">
        <ul class="tabs jsTOCHorizontal"><li><a href="/docs.docker.jp.onthefly/" id="home">ホーム</a></li><li><a href="/docs.docker.jp.onthefly/get-started/overview/" id="guides">ガイド</a></li><li><a href="/docs.docker.jp.onthefly/engine/" id="manuals">製品マニュアル</a></li><li><a href="/docs.docker.jp.onthefly/reference/" id="reference">リファレンス</a></li><li><a href="/docs.docker.jp.onthefly/samples/" id="samples">サンプル</a></li></ul>
    </div>
    <div class="ctrl-right">
        <a href="javascript:void(0)" id="menu-toggle" aria-label="現在ページのメニュートグル"><i class="fa fa-indent" aria-hidden="true"></i></a>
    </div>
</div>

        </div>
    </div>
</nav>

    </header>
    <div class="wrapper right-open">
        <div class="container-fluid">
            <div class="row">
                <div class="col-body">
                    <main class="col-content content">
                        <section class="section"><h1>Use the OverlayFS storage driver</h1><p><em class="reading-time">読む時間の目安: 19 分</em></p><p>OverlayFS is a modern <em>union filesystem</em> that is similar to AUFS, but faster
and with a simpler implementation. Docker provides two storage drivers for
OverlayFS: the original <code class="language-plaintext highlighter-rouge">overlay</code>, and the newer and more stable <code class="language-plaintext highlighter-rouge">overlay2</code>.</p>

<p>This topic refers to the Linux kernel driver as <code class="language-plaintext highlighter-rouge">OverlayFS</code> and to the Docker
storage driver as <code class="language-plaintext highlighter-rouge">overlay</code> or <code class="language-plaintext highlighter-rouge">overlay2</code>.</p>

<blockquote>
  <p><strong>Note</strong>: If you use OverlayFS, use the <code class="language-plaintext highlighter-rouge">overlay2</code> driver rather than the
<code class="language-plaintext highlighter-rouge">overlay</code> driver, because it is more efficient in terms of inode utilization.
To use the new driver, you need version 4.0 or higher of the Linux kernel,
or RHEL or CentOS using version 3.10.0-514 and above.</p>

  <p>For more information about differences between <code class="language-plaintext highlighter-rouge">overlay</code> vs <code class="language-plaintext highlighter-rouge">overlay2</code>, check
<a href="/docs.docker.jp.onthefly/storage/storagedriver/select-storage-driver/">Docker storage drivers</a>.</p>
</blockquote>

<blockquote>
  <p><strong>Note</strong>: For <code class="language-plaintext highlighter-rouge">fuse-overlayfs</code> driver, check <a href="/docs.docker.jp.onthefly/engine/security/rootless/">Rootless mode documentation</a>.</p>
</blockquote>

<h2 id="prerequisites">Prerequisites</h2>

<p>OverlayFS is the recommended storage driver, and supported if you meet the following
prerequisites:</p>

<ul>
  <li>Version 4.0 or higher of the Linux kernel, or RHEL or CentOS using
version 3.10.0-514 of the kernel or higher. If you use an older kernel, you need
to use the <code class="language-plaintext highlighter-rouge">overlay</code> driver, which is not recommended.</li>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">overlay</code> and <code class="language-plaintext highlighter-rouge">overlay2</code> drivers are supported on <code class="language-plaintext highlighter-rouge">xfs</code> backing filesystems,
but only with <code class="language-plaintext highlighter-rouge">d_type=true</code> enabled.</p>

    <p>Use <code class="language-plaintext highlighter-rouge">xfs_info</code> to verify that the <code class="language-plaintext highlighter-rouge">ftype</code> option is set to <code class="language-plaintext highlighter-rouge">1</code>. To format an
  <code class="language-plaintext highlighter-rouge">xfs</code> filesystem correctly, use the flag <code class="language-plaintext highlighter-rouge">-n ftype=1</code>.</p>

    <blockquote class="warning">
      <p><strong>Warning</strong>: Running on XFS without d_type support now causes Docker to
skip the attempt to use the <code class="language-plaintext highlighter-rouge">overlay</code> or <code class="language-plaintext highlighter-rouge">overlay2</code> driver. Existing
installs will continue to run, but produce an error. This is to allow
users to migrate their data. In a future version, this will be a fatal
error, which will prevent Docker from starting.</p>
    </blockquote>
  </li>
  <li>Changing the storage driver makes existing containers and images inaccessible
on the local system. Use <code class="language-plaintext highlighter-rouge">docker save</code> to save any images you have built or
push them to Docker Hub or a private registry before changing the storage driver,
so that you do not need to re-create them later.</li>
</ul>

<h2 id="configure-docker-with-the-overlay-or-overlay2-storage-driver">Configure Docker with the <code class="language-plaintext highlighter-rouge">overlay</code> or <code class="language-plaintext highlighter-rouge">overlay2</code> storage driver</h2>

<p>It is highly recommended that you use the <code class="language-plaintext highlighter-rouge">overlay2</code> driver if possible, rather
than the <code class="language-plaintext highlighter-rouge">overlay</code> driver. The <code class="language-plaintext highlighter-rouge">overlay</code> driver is <strong>not</strong> supported for
Docker EE.</p>

<p>To configure Docker to use the <code class="language-plaintext highlighter-rouge">overlay</code> storage driver your Docker host must be
running version 3.18 of the Linux kernel (preferably newer) with the overlay
kernel module loaded. For the <code class="language-plaintext highlighter-rouge">overlay2</code> driver, the version of your kernel must
be 4.0 or newer.</p>

<p>Before following this procedure, you must first meet all the
<a href="#prerequisites">prerequisites</a>.</p>

<p>The steps below outline how to configure the <code class="language-plaintext highlighter-rouge">overlay2</code> storage driver. If you
need to use the legacy <code class="language-plaintext highlighter-rouge">overlay</code> driver, specify it instead.</p>

<ol>
  <li>
    <p>Stop Docker.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>systemctl stop docker
</code></pre></div>    </div>
  </li>
  <li>
    <p>Copy the contents of <code class="language-plaintext highlighter-rouge">/var/lib/docker</code> to a temporary location.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cp</span> <span class="nt">-au</span> /var/lib/docker /var/lib/docker.bk
</code></pre></div>    </div>
  </li>
  <li>
    <p>If you want to use a separate backing filesystem from the one used by
<code class="language-plaintext highlighter-rouge">/var/lib/</code>, format the filesystem and mount it into <code class="language-plaintext highlighter-rouge">/var/lib/docker</code>.
Make sure add this mount to <code class="language-plaintext highlighter-rouge">/etc/fstab</code> to make it permanent.</p>
  </li>
  <li>
    <p>Edit <code class="language-plaintext highlighter-rouge">/etc/docker/daemon.json</code>. If it does not yet exist, create it. Assuming
that the file was empty, add the following contents.</p>

    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"storage-driver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"overlay2"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>    </div>

    <p>Docker does not start if the <code class="language-plaintext highlighter-rouge">daemon.json</code> file contains badly-formed JSON.</p>
  </li>
  <li>
    <p>Start Docker.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>systemctl start docker
</code></pre></div>    </div>
  </li>
  <li>
    <p>Verify that the daemon is using the <code class="language-plaintext highlighter-rouge">overlay2</code> storage driver.
Use the <code class="language-plaintext highlighter-rouge">docker info</code> command and look for <code class="language-plaintext highlighter-rouge">Storage Driver</code> and
<code class="language-plaintext highlighter-rouge">Backing filesystem</code>.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker info

Containers: 0
Images: 0
Storage Driver: overlay2
 Backing Filesystem: xfs
 Supports d_type: <span class="nb">true
 </span>Native Overlay Diff: <span class="nb">true</span>
&lt;...&gt;
</code></pre></div>    </div>
  </li>
</ol>

<p>Docker is now using the <code class="language-plaintext highlighter-rouge">overlay2</code> storage driver and has automatically
created the overlay mount with the required <code class="language-plaintext highlighter-rouge">lowerdir</code>, <code class="language-plaintext highlighter-rouge">upperdir</code>, <code class="language-plaintext highlighter-rouge">merged</code>,
and <code class="language-plaintext highlighter-rouge">workdir</code> constructs.</p>

<p>Continue reading for details about how OverlayFS works within your Docker
containers, as well as performance advice and information about limitations of
its compatibility with different backing filesystems.</p>

<h2 id="how-the-overlay2-driver-works">How the <code class="language-plaintext highlighter-rouge">overlay2</code> driver works</h2>

<p>If you are still using the <code class="language-plaintext highlighter-rouge">overlay</code> driver rather than <code class="language-plaintext highlighter-rouge">overlay2</code>, see
<a href="#how-the-overlay-driver-works">How the overlay driver works</a> instead.</p>

<p>OverlayFS layers two directories on a single Linux host and presents them as
a single directory. These directories are called <em>layers</em> and the unification
process is referred to as a <em>union mount</em>. OverlayFS refers to the lower directory
as <code class="language-plaintext highlighter-rouge">lowerdir</code> and the upper directory a <code class="language-plaintext highlighter-rouge">upperdir</code>. The unified view is exposed
through its own directory called <code class="language-plaintext highlighter-rouge">merged</code>.</p>

<p>The <code class="language-plaintext highlighter-rouge">overlay2</code> driver natively supports up to 128 lower OverlayFS layers. This
capability provides better performance for layer-related Docker commands such
as <code class="language-plaintext highlighter-rouge">docker build</code> and <code class="language-plaintext highlighter-rouge">docker commit</code>, and consumes fewer inodes on the backing
filesystem.</p>

<h3 id="image-and-container-layers-on-disk">Image and container layers on-disk</h3>

<p>After downloading a five-layer image using <code class="language-plaintext highlighter-rouge">docker pull ubuntu</code>, you can see
six directories under <code class="language-plaintext highlighter-rouge">/var/lib/docker/overlay2</code>.</p>

<blockquote>
  <p><strong>Warning</strong>: Do not directly manipulate any files or directories within
<code class="language-plaintext highlighter-rouge">/var/lib/docker/</code>. These files and directories are managed by Docker.</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span> /var/lib/docker/overlay2

total 24
drwx------ 5 root root 4096 Jun 20 07:36 223c2864175491657d238e2664251df13b63adb8d050924fd1bfcdb278b866f7
drwx------ 3 root root 4096 Jun 20 07:36 3a36935c9df35472229c57f4a27105a136f5e4dbef0f87905b2e506e494e348b
drwx------ 5 root root 4096 Jun 20 07:36 4e9fa83caff3e8f4cc83693fa407a4a9fac9573deaf481506c102d484dd1e6a1
drwx------ 5 root root 4096 Jun 20 07:36 e8876a226237217ec61c4baf238a32992291d059fdac95ed6303bdff3f59cff5
drwx------ 5 root root 4096 Jun 20 07:36 eca1e4e1694283e001f200a667bb3cb40853cf2d1b12c29feda7422fed78afed
drwx------ 2 root root 4096 Jun 20 07:36 l
</code></pre></div></div>

<p>The new <code class="language-plaintext highlighter-rouge">l</code> (lowercase <code class="language-plaintext highlighter-rouge">L</code>) directory contains shortened layer identifiers as
symbolic links. These identifiers are used to avoid hitting the page size
limitation on arguments to the <code class="language-plaintext highlighter-rouge">mount</code> command.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span> /var/lib/docker/overlay2/l

total 20
lrwxrwxrwx 1 root root 72 Jun 20 07:36 6Y5IM2XC7TSNIJZZFLJCS6I4I4 -&gt; ../3a36935c9df35472229c57f4a27105a136f5e4dbef0f87905b2e506e494e348b/diff
lrwxrwxrwx 1 root root 72 Jun 20 07:36 B3WWEFKBG3PLLV737KZFIASSW7 -&gt; ../4e9fa83caff3e8f4cc83693fa407a4a9fac9573deaf481506c102d484dd1e6a1/diff
lrwxrwxrwx 1 root root 72 Jun 20 07:36 JEYMODZYFCZFYSDABYXD5MF6YO -&gt; ../eca1e4e1694283e001f200a667bb3cb40853cf2d1b12c29feda7422fed78afed/diff
lrwxrwxrwx 1 root root 72 Jun 20 07:36 NFYKDW6APBCCUCTOUSYDH4DXAT -&gt; ../223c2864175491657d238e2664251df13b63adb8d050924fd1bfcdb278b866f7/diff
lrwxrwxrwx 1 root root 72 Jun 20 07:36 UL2MW33MSE3Q5VYIKBRN4ZAGQP -&gt; ../e8876a226237217ec61c4baf238a32992291d059fdac95ed6303bdff3f59cff5/diff
</code></pre></div></div>

<p>The lowest layer contains a file called <code class="language-plaintext highlighter-rouge">link</code>, which contains the name of the
shortened identifier, and a directory called <code class="language-plaintext highlighter-rouge">diff</code> which contains the
layer’s contents.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">ls</span> /var/lib/docker/overlay2/3a36935c9df35472229c57f4a27105a136f5e4dbef0f87905b2e506e494e348b/

diff  <span class="nb">link</span>

<span class="nv">$ </span><span class="nb">cat</span> /var/lib/docker/overlay2/3a36935c9df35472229c57f4a27105a136f5e4dbef0f87905b2e506e494e348b/link

6Y5IM2XC7TSNIJZZFLJCS6I4I4

<span class="nv">$ </span><span class="nb">ls</span>  /var/lib/docker/overlay2/3a36935c9df35472229c57f4a27105a136f5e4dbef0f87905b2e506e494e348b/diff

bin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
</code></pre></div></div>

<p>The second-lowest layer, and each higher layer, contain a file called <code class="language-plaintext highlighter-rouge">lower</code>,
which denotes its parent, and a directory called <code class="language-plaintext highlighter-rouge">diff</code> which contains its
contents. It also contains a <code class="language-plaintext highlighter-rouge">merged</code> directory, which contains the unified
contents of its parent layer and itself, and a <code class="language-plaintext highlighter-rouge">work</code> directory which is used
internally by OverlayFS.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">ls</span> /var/lib/docker/overlay2/223c2864175491657d238e2664251df13b63adb8d050924fd1bfcdb278b866f7

diff  <span class="nb">link  </span>lower  merged  work

<span class="nv">$ </span><span class="nb">cat</span> /var/lib/docker/overlay2/223c2864175491657d238e2664251df13b63adb8d050924fd1bfcdb278b866f7/lower

l/6Y5IM2XC7TSNIJZZFLJCS6I4I4

<span class="nv">$ </span><span class="nb">ls</span> /var/lib/docker/overlay2/223c2864175491657d238e2664251df13b63adb8d050924fd1bfcdb278b866f7/diff/

etc  sbin  usr  var
</code></pre></div></div>

<p>To view the mounts which exist when you use the <code class="language-plaintext highlighter-rouge">overlay</code> storage driver with
Docker, use the <code class="language-plaintext highlighter-rouge">mount</code> command. The output below is truncated for readability.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mount | <span class="nb">grep </span>overlay

overlay on /var/lib/docker/overlay2/9186877cdf386d0a3b016149cf30c208f326dca307529e646afce5b3f83f5304/merged
<span class="nb">type </span>overlay <span class="o">(</span>rw,relatime,
<span class="nv">lowerdir</span><span class="o">=</span>l/DJA75GUWHWG7EWICFYX54FIOVT:l/B3WWEFKBG3PLLV737KZFIASSW7:l/JEYMODZYFCZFYSDABYXD5MF6YO:l/UL2MW33MSE3Q5VYIKBRN4ZAGQP:l/NFYKDW6APBCCUCTOUSYDH4DXAT:l/6Y5IM2XC7TSNIJZZFLJCS6I4I4,
<span class="nv">upperdir</span><span class="o">=</span>9186877cdf386d0a3b016149cf30c208f326dca307529e646afce5b3f83f5304/diff,
<span class="nv">workdir</span><span class="o">=</span>9186877cdf386d0a3b016149cf30c208f326dca307529e646afce5b3f83f5304/work<span class="o">)</span>
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">rw</code> on the second line shows that the <code class="language-plaintext highlighter-rouge">overlay</code> mount is read-write.</p>

<h2 id="how-the-overlay-driver-works">How the <code class="language-plaintext highlighter-rouge">overlay</code> driver works</h2>

<p>This content applies to the <code class="language-plaintext highlighter-rouge">overlay</code> driver only. Docker recommends using the
<code class="language-plaintext highlighter-rouge">overlay2</code> driver, which works differently. See
<a href="#how-the-overlay2-driver-works">How the overlay2 driver works</a>
for <code class="language-plaintext highlighter-rouge">overlay2</code>.</p>

<p>OverlayFS layers two directories on a single Linux host and presents them as
a single directory. These directories are called <em>layers</em> and the unification
process is referred to as a <em>union mount</em>. OverlayFS refers to the lower directory
as <code class="language-plaintext highlighter-rouge">lowerdir</code> and the upper directory a <code class="language-plaintext highlighter-rouge">upperdir</code>. The unified view is exposed
through its own directory called <code class="language-plaintext highlighter-rouge">merged</code>.</p>

<p>The diagram below shows how a Docker image and a Docker container are layered.
The image layer is the <code class="language-plaintext highlighter-rouge">lowerdir</code> and the container layer is the <code class="language-plaintext highlighter-rouge">upperdir</code>.
The unified view is exposed through a directory called <code class="language-plaintext highlighter-rouge">merged</code> which is
effectively the containers mount point. The diagram shows how Docker constructs
map to OverlayFS constructs.</p>

<p><img src="/docs.docker.jp.onthefly/storage/storagedriver/images/overlay_constructs.jpg" alt="overlayfs lowerdir, upperdir, merged" /></p>

<p>Where the image layer and the container layer contain the same files, the
container layer “wins” and obscures the existence of the same files in the image
layer.</p>

<p>The <code class="language-plaintext highlighter-rouge">overlay</code> driver only works with two layers. This means that multi-layered
images cannot be implemented as multiple OverlayFS layers. Instead, each image
layer is implemented as its own directory under <code class="language-plaintext highlighter-rouge">/var/lib/docker/overlay</code>.  Hard
links are then used as a space-efficient way to reference data shared with lower
layers. The use of hardlinks causes an excessive use of inodes, which is a known
limitation of the legacy <code class="language-plaintext highlighter-rouge">overlay</code> storage driver, and may require additional
configuration of the backing filesystem. Refer to the <a href="#overlayfs-and-docker-performance">overlayFS and Docker
performance</a> for details.</p>

<p>To create a container, the <code class="language-plaintext highlighter-rouge">overlay</code> driver combines the directory representing
the image’s top layer plus a new directory for the container. The image’s top
layer is the <code class="language-plaintext highlighter-rouge">lowerdir</code> in the overlay and is read-only. The new directory for
the container is the <code class="language-plaintext highlighter-rouge">upperdir</code> and is writable.</p>

<h3 id="image-and-container-layers-on-disk-1">Image and container layers on-disk</h3>

<p>The following <code class="language-plaintext highlighter-rouge">docker pull</code> command shows a Docker host downloading a Docker
image comprising five layers.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker pull ubuntu

Using default tag: latest
latest: Pulling from library/ubuntu

5ba4f30e5bea: Pull <span class="nb">complete
</span>9d7d19c9dc56: Pull <span class="nb">complete
</span>ac6ad7efd0f9: Pull <span class="nb">complete
</span>e7491a747824: Pull <span class="nb">complete
</span>a3ed95caeb02: Pull <span class="nb">complete
</span>Digest: sha256:46fb5d001b88ad904c5c732b086b596b92cfb4a4840a3abd0e35dbb6870585e4
Status: Downloaded newer image <span class="k">for </span>ubuntu:latest
</code></pre></div></div>

<h4 id="the-image-layers">The image layers</h4>

<p>Each image layer has its own directory within <code class="language-plaintext highlighter-rouge">/var/lib/docker/overlay/</code>, which
contains its contents, as shown below. The image layer IDs do not correspond to
the directory IDs.</p>

<blockquote>
  <p><strong>Warning</strong>: Do not directly manipulate any files or directories within
<code class="language-plaintext highlighter-rouge">/var/lib/docker/</code>. These files and directories are managed by Docker.</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span> /var/lib/docker/overlay/

total 20
drwx------ 3 root root 4096 Jun 20 16:11 38f3ed2eac129654acef11c32670b534670c3a06e483fce313d72e3e0a15baa8
drwx------ 3 root root 4096 Jun 20 16:11 55f1e14c361b90570df46371b20ce6d480c434981cbda5fd68c6ff61aa0a5358
drwx------ 3 root root 4096 Jun 20 16:11 824c8a961a4f5e8fe4f4243dab57c5be798e7fd195f6d88ab06aea92ba931654
drwx------ 3 root root 4096 Jun 20 16:11 ad0fe55125ebf599da124da175174a4b8c1878afe6907bf7c78570341f308461
drwx------ 3 root root 4096 Jun 20 16:11 edab9b5e5bf73f2997524eebeac1de4cf9c8b904fa8ad3ec43b3504196aa3801
</code></pre></div></div>

<p>The image layer directories contain the files unique to that layer as well as
hard links to the data that is shared with lower layers. This allows for
efficient use of disk space.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-i</span> /var/lib/docker/overlay/38f3ed2eac129654acef11c32670b534670c3a06e483fce313d72e3e0a15baa8/root/bin/ls

19793696 /var/lib/docker/overlay/38f3ed2eac129654acef11c32670b534670c3a06e483fce313d72e3e0a15baa8/root/bin/ls

<span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-i</span> /var/lib/docker/overlay/55f1e14c361b90570df46371b20ce6d480c434981cbda5fd68c6ff61aa0a5358/root/bin/ls

19793696 /var/lib/docker/overlay/55f1e14c361b90570df46371b20ce6d480c434981cbda5fd68c6ff61aa0a5358/root/bin/ls
</code></pre></div></div>

<h4 id="the-container-layer">The container layer</h4>

<p>Containers also exist on-disk in the Docker host’s filesystem under
<code class="language-plaintext highlighter-rouge">/var/lib/docker/overlay/</code>. If you list a running container’s subdirectory
using the <code class="language-plaintext highlighter-rouge">ls -l</code> command, three directories and one file exist:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span> /var/lib/docker/overlay/&lt;directory-of-running-container&gt;

total 16
<span class="nt">-rw-r--r--</span> 1 root root   64 Jun 20 16:39 lower-id
drwxr-xr-x 1 root root 4096 Jun 20 16:39 merged
drwxr-xr-x 4 root root 4096 Jun 20 16:39 upper
drwx------ 3 root root 4096 Jun 20 16:39 work
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">lower-id</code> file contains the ID of the top layer of the image the container
is based on, which is the OverlayFS <code class="language-plaintext highlighter-rouge">lowerdir</code>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cat</span> /var/lib/docker/overlay/ec444863a55a9f1ca2df72223d459c5d940a721b2288ff86a3f27be28b53be6c/lower-id

55f1e14c361b90570df46371b20ce6d480c434981cbda5fd68c6ff61aa0a5358
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">upper</code> directory contains the contents of the container’s read-write layer,
which corresponds to the OverlayFS <code class="language-plaintext highlighter-rouge">upperdir</code>.</p>

<p>The <code class="language-plaintext highlighter-rouge">merged</code> directory is the union mount of the <code class="language-plaintext highlighter-rouge">lowerdir</code> and <code class="language-plaintext highlighter-rouge">upperdir</code>, which
comprises the view of the filesystem from within the running container.</p>

<p>The <code class="language-plaintext highlighter-rouge">work</code> directory is internal to OverlayFS.</p>

<p>To view the mounts which exist when you use the <code class="language-plaintext highlighter-rouge">overlay</code> storage driver with
Docker, use the <code class="language-plaintext highlighter-rouge">mount</code> command. The output below is truncated for readability.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mount | <span class="nb">grep </span>overlay

overlay on /var/lib/docker/overlay/ec444863a55a.../merged
<span class="nb">type </span>overlay <span class="o">(</span>rw,relatime,lowerdir<span class="o">=</span>/var/lib/docker/overlay/55f1e14c361b.../root,
<span class="nv">upperdir</span><span class="o">=</span>/var/lib/docker/overlay/ec444863a55a.../upper,
<span class="nv">workdir</span><span class="o">=</span>/var/lib/docker/overlay/ec444863a55a.../work<span class="o">)</span>
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">rw</code> on the second line shows that the <code class="language-plaintext highlighter-rouge">overlay</code> mount is read-write.</p>

<h2 id="how-container-reads-and-writes-work-with-overlay-or-overlay2">How container reads and writes work with <code class="language-plaintext highlighter-rouge">overlay</code> or <code class="language-plaintext highlighter-rouge">overlay2</code></h2>

<h3 id="reading-files">Reading files</h3>

<p>Consider three scenarios where a container opens a file for read access with
overlay.</p>

<ul>
  <li>
    <p><strong>The file does not exist in the container layer</strong>: If a container opens a
file for read access and the file does not already exist in the container
(<code class="language-plaintext highlighter-rouge">upperdir</code>) it is read from the image (<code class="language-plaintext highlighter-rouge">lowerdir)</code>. This incurs very little
performance overhead.</p>
  </li>
  <li>
    <p><strong>The file only exists in the container layer</strong>: If a container opens a file
for read access and the file exists in the container (<code class="language-plaintext highlighter-rouge">upperdir</code>) and not in
the image (<code class="language-plaintext highlighter-rouge">lowerdir</code>), it is read directly from the container.</p>
  </li>
  <li>
    <p><strong>The file exists in both the container layer and the image layer</strong>: If a
container opens a file for read access and the file exists in the image layer
and the container layer, the file’s version in the container layer is read.
Files in the container layer (<code class="language-plaintext highlighter-rouge">upperdir</code>) obscure files with the same name in
the image layer (<code class="language-plaintext highlighter-rouge">lowerdir</code>).</p>
  </li>
</ul>

<h3 id="modifying-files-or-directories">Modifying files or directories</h3>

<p>Consider some scenarios where files in a container are modified.</p>

<ul>
  <li>
    <p><strong>Writing to a file for the first time</strong>: The first time a container writes
to an existing file, that file does not exist in the container (<code class="language-plaintext highlighter-rouge">upperdir</code>).
The <code class="language-plaintext highlighter-rouge">overlay</code>/<code class="language-plaintext highlighter-rouge">overlay2</code> driver performs a <em>copy_up</em> operation to copy the file
from the image (<code class="language-plaintext highlighter-rouge">lowerdir</code>) to the container (<code class="language-plaintext highlighter-rouge">upperdir</code>). The container then
writes the changes to the new copy of the file in the container layer.</p>

    <p>However, OverlayFS works at the file level rather than the block level. This
means that all OverlayFS copy_up operations copy the entire file, even if the
file is very large and only a small part of it is being modified. This can
have a noticeable impact on container write performance. However, two things
are worth noting:</p>

    <ul>
      <li>
        <p>The copy_up operation only occurs the first time a given file is written
to. Subsequent writes to the same file operate against the copy of the file
already copied up to the container.</p>
      </li>
      <li>
        <p>OverlayFS only works with two layers. This means that performance should
be better than AUFS, which can suffer noticeable latencies when searching
for files in images with many layers. This advantage applies to both
<code class="language-plaintext highlighter-rouge">overlay</code> and <code class="language-plaintext highlighter-rouge">overlay2</code> drivers. <code class="language-plaintext highlighter-rouge">overlayfs2</code> is slightly
less performant than <code class="language-plaintext highlighter-rouge">overlayfs</code> on initial read, because it must look
through more layers, but it caches the results so this is only a small
penalty.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Deleting files and directories</strong>:</p>

    <ul>
      <li>
        <p>When a <em>file</em> is deleted within a container, a <em>whiteout</em> file is created in
the container (<code class="language-plaintext highlighter-rouge">upperdir</code>). The version of the file in the image layer
(<code class="language-plaintext highlighter-rouge">lowerdir</code>) is not deleted (because the <code class="language-plaintext highlighter-rouge">lowerdir</code> is read-only). However,
the whiteout file prevents it from being available to the container.</p>
      </li>
      <li>
        <p>When a <em>directory</em> is deleted within a container, an <em>opaque directory</em> is
created within the container (<code class="language-plaintext highlighter-rouge">upperdir</code>). This works in the same way as a
whiteout file and effectively prevents the directory from being accessed,
even though it still exists in the image (<code class="language-plaintext highlighter-rouge">lowerdir</code>).</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Renaming directories</strong>: Calling <code class="language-plaintext highlighter-rouge">rename(2)</code> for a directory is allowed only
when both the source and the destination path are on the top layer.
Otherwise, it returns <code class="language-plaintext highlighter-rouge">EXDEV</code> error (“cross-device link not permitted”).
Your application needs to be designed to handle <code class="language-plaintext highlighter-rouge">EXDEV</code> and fall back to a
“copy and unlink” strategy.</p>
  </li>
</ul>

<h2 id="overlayfs-and-docker-performance">OverlayFS and Docker Performance</h2>

<p>Both <code class="language-plaintext highlighter-rouge">overlay2</code> and <code class="language-plaintext highlighter-rouge">overlay</code> drivers are more performant than <code class="language-plaintext highlighter-rouge">aufs</code> and
<code class="language-plaintext highlighter-rouge">devicemapper</code>. In certain circumstances, <code class="language-plaintext highlighter-rouge">overlay2</code> may perform better than
<code class="language-plaintext highlighter-rouge">btrfs</code> as well. However, be aware of the following details.</p>

<ul>
  <li>
    <p><strong>Page Caching</strong>. OverlayFS supports page cache sharing. Multiple containers
accessing the same file share a single page cache entry for that file. This
makes the <code class="language-plaintext highlighter-rouge">overlay</code> and <code class="language-plaintext highlighter-rouge">overlay2</code> drivers efficient with memory and a good
option for high-density use cases such as PaaS.</p>
  </li>
  <li>
    <p><strong>copy_up</strong>. As with AUFS, OverlayFS performs copy-up operations
whenever a container writes to a file for the first time. This can add latency
into the write operation, especially for large files. However, once the file
has been copied up, all subsequent writes to that file occur in the upper
layer, without the need for further copy-up operations.</p>

    <p>The OverlayFS <code class="language-plaintext highlighter-rouge">copy_up</code> operation is faster than the same operation with AUFS,
because AUFS supports more layers than OverlayFS and it is possible to incur
far larger latencies if searching through many AUFS layers. <code class="language-plaintext highlighter-rouge">overlay2</code> supports
multiple layers as well, but mitigates any performance hit with caching.</p>
  </li>
  <li>
    <p><strong>Inode limits</strong>. Use of the legacy <code class="language-plaintext highlighter-rouge">overlay</code> storage driver can cause excessive
inode consumption. This is especially true in the presence of a large number
of images and containers on the Docker host. The only way to increase the
number of inodes available to a filesystem is to reformat it. To avoid running
into this issue, it is highly recommended that you use <code class="language-plaintext highlighter-rouge">overlay2</code> if at all
possible.</p>
  </li>
</ul>

<h3 id="performance-best-practices">Performance best practices</h3>

<p>The following generic performance best practices also apply to OverlayFS.</p>

<ul>
  <li>
    <p><strong>Use fast storage</strong>: Solid-state drives (SSDs) provide faster reads and
writes than spinning disks.</p>
  </li>
  <li>
    <p><strong>Use volumes for write-heavy workloads</strong>: Volumes provide the best and most
predictable performance for write-heavy workloads. This is because they bypass
the storage driver and do not incur any of the potential overheads introduced
by thin provisioning and copy-on-write. Volumes have other benefits, such as
allowing you to share data among containers and persisting your data even if
no running container is using them.</p>
  </li>
</ul>

<h2 id="limitations-on-overlayfs-compatibility">Limitations on OverlayFS compatibility</h2>
<p>To summarize the OverlayFS’s aspect which is incompatible with other
filesystems:</p>

<ul>
  <li>
    <p><strong>open(2)</strong>: OverlayFS only implements a subset of the POSIX standards.
This can result in certain OverlayFS operations breaking POSIX standards. One
such operation is the <em>copy-up</em> operation. Suppose that  your application calls
<code class="language-plaintext highlighter-rouge">fd1=open("foo", O_RDONLY)</code> and then <code class="language-plaintext highlighter-rouge">fd2=open("foo", O_RDWR)</code>. In this case,
your application expects <code class="language-plaintext highlighter-rouge">fd1</code> and <code class="language-plaintext highlighter-rouge">fd2</code> to refer to the same file. However, due
to a copy-up operation that occurs after the second calling to <code class="language-plaintext highlighter-rouge">open(2)</code>, the
descriptors refer to different files. The <code class="language-plaintext highlighter-rouge">fd1</code> continues to reference the file
in the image (<code class="language-plaintext highlighter-rouge">lowerdir</code>) and the <code class="language-plaintext highlighter-rouge">fd2</code> references the file in the container
(<code class="language-plaintext highlighter-rouge">upperdir</code>). A workaround for this is to <code class="language-plaintext highlighter-rouge">touch</code> the files which causes the
copy-up operation to happen. All subsequent <code class="language-plaintext highlighter-rouge">open(2)</code> operations regardless of
read-only or read-write access mode reference the file in the
container (<code class="language-plaintext highlighter-rouge">upperdir</code>).</p>

    <p><code class="language-plaintext highlighter-rouge">yum</code> is known to be affected unless the <code class="language-plaintext highlighter-rouge">yum-plugin-ovl</code> package is installed.
If the <code class="language-plaintext highlighter-rouge">yum-plugin-ovl</code> package is not available in your distribution such as
RHEL/CentOS prior to 6.8 or 7.2, you may need to run <code class="language-plaintext highlighter-rouge">touch /var/lib/rpm/*</code>
before running <code class="language-plaintext highlighter-rouge">yum install</code>. This package implements the <code class="language-plaintext highlighter-rouge">touch</code> workaround
referenced above for <code class="language-plaintext highlighter-rouge">yum</code>.</p>
  </li>
  <li>
    <p><strong>rename(2)</strong>: OverlayFS does not fully support the <code class="language-plaintext highlighter-rouge">rename(2)</code> system call.
Your application needs to detect its failure and fall back to a “copy and
unlink” strategy.</p>
  </li>
</ul>
<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="/docs.docker.jp.onthefly/search/?q=container">container</a>, <a href="/docs.docker.jp.onthefly/search/?q=storage">storage</a>, <a href="/docs.docker.jp.onthefly/search/?q=driver">driver</a>, <a href="/docs.docker.jp.onthefly/search/?q=OverlayFS">OverlayFS</a>, <a href="/docs.docker.jp.onthefly/search/?q=overlay2">overlay2</a>, <a href="/docs.docker.jp.onthefly/search/?q=overlay">overlay</a></span><div class="ratings-div"><div id="pd_rating_holder_8453675"></div></div></section>
                    </main>
                    <nav class="col-nav">
                        <div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
                            <div id="navbar" class="nav-sidebar">
                                <ul class="nav jsTOCHorizontal hidden-md hidden-lg"></ul>
                                <ul class="nav" id="jsTOCLeftNav"></ul>
                            </div>
                        </div>
                    </nav>
                    <div class="col-toc">
                        <div class="sidebar hidden-xs hidden-sm">
                            <div class="toc-nav">
                                <div class="feedback-links">
                                    <ul><li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/edit/master/src/storage/storagedriver/overlayfs-driver.ch"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> 本ページの編集</a></li><li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/issues/new?body=File: [storage/storagedriver/overlayfs-driver.ch](https://matsuand.github.io/docs.docker.jp.onthefly/storage/storagedriver/overlayfs-driver/)" class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 変更リクエスト</a></li>
                                        <li><div class="toggle-mode">
  <div class="icon">
      <i class="fa fa-sun-o" aria-hidden="true"></i>
  </div>
  <div class="toggle-switch">
      <label class="switch">
          <input type="checkbox" id="switch-style">
          <span class="slider round"></span>
      </label>
  </div>
  <div class="icon">
      <i class="fa fa-moon-o" aria-hidden="true"></i>
  </div>
</div>
</li>
                                    </ul>
                                </div><div id="side-toc-title">本ページ内:</div>
<ul id="my_toc" class="inline_toc">
  <li><a href="#prerequisites" class="nomunge">Prerequisites</a></li>
  <li><a href="#configure-docker-with-the-overlay-or-overlay2-storage-driver" class="nomunge">Configure Docker with the overlay or overlay2 storage driver</a></li>
  <li><a href="#how-the-overlay2-driver-works" class="nomunge">How the overlay2 driver works</a>
    <ul>
      <li><a href="#image-and-container-layers-on-disk" class="nomunge">Image and container layers on-disk</a></li>
    </ul>
  </li>
  <li><a href="#how-the-overlay-driver-works" class="nomunge">How the overlay driver works</a>
    <ul>
      <li><a href="#image-and-container-layers-on-disk-1" class="nomunge">Image and container layers on-disk</a></li>
    </ul>
  </li>
  <li><a href="#how-container-reads-and-writes-work-with-overlay-or-overlay2" class="nomunge">How container reads and writes work with overlay or overlay2</a>
    <ul>
      <li><a href="#reading-files" class="nomunge">Reading files</a></li>
      <li><a href="#modifying-files-or-directories" class="nomunge">Modifying files or directories</a></li>
    </ul>
  </li>
  <li><a href="#overlayfs-and-docker-performance" class="nomunge">OverlayFS and Docker Performance</a>
    <ul>
      <li><a href="#performance-best-practices" class="nomunge">Performance best practices</a></li>
    </ul>
  </li>
  <li><a href="#limitations-on-overlayfs-compatibility" class="nomunge">Limitations on OverlayFS compatibility</a></li>
</ul>

</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
          
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/why-docker">なぜ Docker なのか？</a></b></li>
                        <li><a href="https://www.docker.com/what-container">コンテナーって何？</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/overview">製品</a></b></li>
                        <li><a href="https://www.docker.com/products/docker-desktop">Docker Desktop</a></li>
                        <li><a href="https://www.docker.com/products/docker-hub">Docker Hub</a></li>
                        <li><a href="https://www.docker.com/roadmap">Docker 製品ロードマップ</a></li>
                        <li><b><a href="https://www.docker.com/products/docker-desktop">機能</a></b></li>
                        <li><a href="https://www.docker.com/products/container-runtime">コンテナーランタイム</a></li>
                        <li><a href="https://www.docker.com/products/developer-tools">開発ツール</a></li>
                        <li><a href="https://www.docker.com/products/kubernetes">Kubernetes</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop">開発者</a></b></li>
                        <li><a href="https://www.docker.com/use-cases">利用例</a></li>
                        <li><a href="https://www.docker.com/play-with-docker">Docker で遊ぶ</a></li>
                        <li><a href="https://www.docker.com/docker-community">コミュニティ</a></li>
                        <li><a href="https://www.docker.com/open-source">オープンソース</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker キャプテン</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/company" target="_blank" rel="noopener">会社</a></b></li>
                        <li><a href="https://www.docker.com/company">概要</a></li>
                        <li><a href="https://www.docker.com/blog/" target="_blank" rel="noopener">ブログ</a></li>
                        <li><a href="https://www.docker.com/customers">顧客</a></li>
                        <li><a href="https://www.docker.com/partners">パートナー</a></li>
                        <li><a href="https://www.docker.com/company/newsroom">ニュースルーム</a></li>
                        <li><a href="https://www.docker.com/careers">採用情報</a></li>
                        <li><a href="https://www.docker.com/company/contact">連絡先</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">ステータス</a></li>
                        <li><a href="https://www.docker.com/docker-security">セキュリティ</a></li>
                        <li><a href="https://www.docker.com/legal">法的情報</a></li>
                        <li><a href="https://www.docker.com/company/contact">連絡</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2013-2021 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-slideshare"><a href="https://www.slideshare.net/docker">Slideshare</a></li>
                    <li class="fa fa-reddit"><a href="https://www.reddit.com/r/docker">Reddit</a></li>
                </ul>
            </div>
        </div>
    </div>

    </footer>
    <script>const pageURL = "/storage/storagedriver/overlayfs-driver/";</script></body>
</html>
