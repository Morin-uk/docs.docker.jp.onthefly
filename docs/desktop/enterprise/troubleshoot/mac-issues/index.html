<p>This page contains information on how to diagnose Docker Desktop Enterprise (DDE) issues on Mac.</p>

<h2 id="creating-a-diagnostics-file-in-docker-desktop-enterprise">Creating a diagnostics file in Docker Desktop Enterprise</h2>

<p>Select <strong>Diagnose and Feedback</strong> from the Docker menu in the menu bar.</p>

<p><img src="/docs.docker.jp.onthefly/desktop/enterprise/images/diagnose-mac.png" alt="A diagnostics file is created." /></p>

<p>Once diagnostics are available, select the <strong>Open</strong> button to display the list of available diagnostics in Finder.</p>

<p>Diagnostics are provided in .zip files identified by date and time. The uncompressed contents are also visible in the Finder window. Send your diagnostics file to your administrator for assistance.</p>

<h3 id="creating-a-diagnostics-file-from-a-terminal">Creating a diagnostics file from a terminal</h3>

<p>In some cases, it is useful to run diagnostics yourself, for instance if Docker Desktop Enterprise cannot start.</p>

<p>To run diagnostics from a terminal, enter the following command:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/Applications/Docker.app/Contents/MacOS/com.docker.diagnose gather
</code></pre></div></div>

<p>This command displays the information that it is gathering, and when it finishes, it displays information resembling the following example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Diagnostics Bundle: /tmp/2A989798-1658-4BF0-934D-AC4F148D0782/20190115142942.zip
Diagnostics ID:     2A989798-1658-4BF0-934D-AC4F148D0782/20190115142942
</code></pre></div></div>

<p>The name of the diagnostics file is displayed next to “Diagnostics Bundle” (<code class="language-plaintext highlighter-rouge">/tmp/2A989798-1658-4BF0-934D-AC4F148D0782/20190115142942.zip</code> in this example). This is the file that you attach to the support ticket.</p>

<p>You can view the content of your diagnostics file using the <strong>open</strong> command and specifying the name of your diagnostics file:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>open /tmp/2A989798-1658-4BF0-934D-AC4F148D0782/20190115142942.zip
</code></pre></div></div>

<h3 id="viewing-logs-in-a-terminal">Viewing logs in a terminal</h3>

<p>In addition to using the <strong>Diagnose and Feedback</strong> option to generate a diagnostics file, you can
browse Docker Desktop Enterprise logs in a terminal or with the Console app.</p>

<p>To watch the live flow of Docker Desktop Enterprise logs at the command line, run the following command from
your favorite shell:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ pred</span><span class="o">=</span><span class="s1">'process matches ".*(ocker|vpnkit).*"
  || (process in {"taskgated-helper", "launchservicesd", "kernel"} &amp;&amp; eventMessage contains[c] "docker")'</span>
<span class="nv">$ </span>/usr/bin/log stream <span class="nt">--style</span> syslog <span class="nt">--level</span><span class="o">=</span>debug <span class="nt">--color</span><span class="o">=</span>always <span class="nt">--predicate</span> <span class="s2">"</span><span class="nv">$pred</span><span class="s2">"</span>
</code></pre></div></div>

<p>Alternatively, to collect the last day of logs (<code class="language-plaintext highlighter-rouge">1d</code>) in a file, run:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ /usr/bin/log show --debug --info --style syslog --last 1d --predicate "$pred" &gt;/tmp/logs.txt
</code></pre></div></div>

<h3 id="viewing-logs-with-the-console-app">Viewing logs with the Console app</h3>

<p>The Console log viewer is located in <code class="language-plaintext highlighter-rouge">/Applications/Utilities</code>; you can search for it with Spotlight Search.</p>

<p>In the Console window search bar, type
<code class="language-plaintext highlighter-rouge">docker</code> and press Enter. Then select <strong>ANY</strong> to expand the drop-down list next to your ‘docker’ search entry, and select <strong>Process</strong>.</p>

<p><img src="/docs.docker.jp.onthefly/desktop/enterprise/images/console.png" alt="Mac Console search for Docker app" /></p>

<p>You can use the Console app to search logs, filter the results in various
ways, and create reports.</p>

<h3 id="additional-docker-desktop-enterprise-troubleshooting-topics">Additional Docker Desktop Enterprise troubleshooting topics</h3>

<p>You can also find additional information about various troubleshooting topics in the <a href="/docs.docker.jp.onthefly/docker-for-mac/troubleshoot/">Docker Desktop for Mac community</a> documentation.</p>
