<!-- Page generated 2019-07-25 21:37:13 +0900 -->
<!-- relative link basehrefs -->

	
	
	
		
			
		
	
		
			
		
	
		
			
			


<!-- Logic for 'edit this button' -->


	

	

	

	

	

	

	

	

	


<!-- End of logic for 'edit this button' -->


<!DOCTYPE html>
<html lang="ja">

<head>
	<base href="https://matsuand.github.io/docs.docker.jp.onthefly/storage/storagedriver/" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<style type="text/css">
		@charset "UTF-8";
		[ng\:cloak],
		[ng-cloak],
		[data-ng-cloak],
		[x-ng-cloak],
		.ng-cloak,
		.x-ng-cloak,
		.ng-hide:not(.ng-hide-animate) {
			display: none !important;
		}

		ng\:form {
			display: block;
		}
	</style>
	<script type="text/javascript">
	  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
	  analytics.load("IWj9D0UpZHZdZUZX9jl98PcpBFWBnBMy");
	  analytics.page();
	  }}();
	</script>
	
	<!-- favicon -->
	<link rel="icon" type="image/x-icon" href="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta name="msapplication-TileImage" content="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico">
	<link rel="apple-touch-icon" type="image/x-icon" href="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta property="og:image" content="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
	<!-- metadata -->
	<meta property="og:type" content="website"/>
	<meta property="og:updated_time" itemprop="dateUpdated" content="2019-07-25T21:37:13+09:00"/>
	<meta property="og:image" itemprop="image primaryImageOfPage" content="https://matsuand.github.io/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:card" content="summary"/>
	<meta name="twitter:domain" content="docs.docker.jp"/>
	<meta name="twitter:site" content="@docker_docs"/>
	<meta name="twitter:url" content="https://twitter.com/docker_docs"/>
	<meta name="twitter:title" itemprop="title name" content="Use the AUFS storage driver"/>
	<meta name="twitter:description" property="og:description" itemprop="description" content="AUFS is a union filesystem. The aufs storage driver was previously the default storage driver used for managing images and layers on Docker for Ubuntu, and for Debian versions prior..." />
	<meta name="twitter:image:src" content="https://matsuand.github.io/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:image:alt" content="Docker Documentation"/>
	<meta property="article:published_time" itemprop="datePublished" content="2019-07-25T21:37:13+09:00"/>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="keywords" content="container, storage, driver, AUFS ">
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/bootstrap.min.css">
	<link id="pygments" rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/pygments/perldoc.css">
	<link id="pagestyle" rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/style.css">

	<!-- Go get "Open Sans" font from Google -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
	<!-- SEO stuff -->
	<title>Use the AUFS storage driver | Docker Documentation</title>
<meta property="og:title" content="Use the AUFS storage driver" />
<meta property="og:locale" content="ja_JP" />
<meta name="description" content="Learn how to optimize your use of AUFS driver." />
<meta property="og:description" content="Learn how to optimize your use of AUFS driver." />
<link rel="canonical" href="https://matsuand.github.io/docs.docker.jp.onthefly/storage/storagedriver/aufs-driver/" />
<meta property="og:url" content="https://matsuand.github.io/docs.docker.jp.onthefly/storage/storagedriver/aufs-driver/" />
<meta property="og:site_name" content="Docker Documentation" />
<script type="application/ld+json">
{"@context":"http://schema.org","@type":"WebPage","headline":"Use the AUFS storage driver","description":"Learn how to optimize your use of AUFS driver.","url":"https://matsuand.github.io/docs.docker.jp.onthefly/storage/storagedriver/aufs-driver/"}</script>
	<!-- END SEO STUFF -->
	
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v19.03';
	</script>
</head>
<body ng-app="Docker" ng-controller="DockerController" class="colums">
	<header>
		 <nav class="nav-secondary navbar navbar-fixed-top">
    <!-- <div class="fan"></div> -->
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="https://matsuand.github.io/docs.docker.jp.onthefly/"><img class="logo" src="https://matsuand.github.io/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs"></a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="search-form" id="search-div" style="visibility: hidden">
    <form class="search-form form-inline ng-pristine ng-valid" id="searchForm" action="https://matsuand.github.io/docs.docker.jp.onthefly/search/">
        <input class="search-field form-control ds-input" id="st-search-input" value="" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteContainer">
            <div id="autocompleteResults"></div>
        </div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container">
    <div id="tabs">
        <ul class="tabs" id="jsTOCHorizontal">

        </ul>
    </div>
    <div class="ctrl-right hidden-xs hidden-sm">
        <a href="javascript:void(0)" id="menu-toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
        <div class="btn-group" style="visibility: hidden">
  <button type="button" class="btn btn-default dropdown-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Docker v19.03 (current)         <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
    <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/edge/">Docker edge</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.09/">Docker v18.09</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.03/">Docker v18.03</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.12/">Docker v17.12</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.09/">Docker v17.09</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.06/">Docker v17.06</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.03/">Docker v17.03</a></li>
  </ul>
</div>

    </div>
</div>

        </div>
    </div>
</nav>

	</header>

	<div class="wrapper right-open">
		<div class="container-fluid">
			<div class="row">
				<div class="col-body">
					<main class="col-content content">
						<section class="section">
							
								
							<h1>Use the AUFS storage driver</h1>  <span class="reading-time" title="Estimated reading time">
  <span class="reading-time-label">読む時間の目安: </span>
  
  
    8 分
  
</span>

							
							
							<p>AUFS is a <em>union filesystem</em>. The <code class="highlighter-rouge">aufs</code> storage driver was previously the default
storage driver used for managing images and layers on Docker for Ubuntu, and for
Debian versions prior to Stretch. If your Linux kernel is version 4.0 or higher,
and you use Docker Engine - Community, consider using the newer
<a href="https://matsuand.github.io/docs.docker.jp.onthefly/storage/storagedriver/overlayfs-driver/" target="_blank" class="_">overlay2</a>, which has
potential performance advantages over the <code class="highlighter-rouge">aufs</code> storage driver.</p>

<blockquote>
  <p><strong>Note</strong>: AUFS is not supported on some distributions and Docker editions. See
<a href="https://matsuand.github.io/docs.docker.jp.onthefly/aufs-driver.md#prerequisites">Prerequisites</a> &gt; for more information about supported
platforms, and see also
<a href="selectadriver.md#storage-driver-order">the order of preferences for storage drivers</a>.</p>
</blockquote>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
  <li>For Docker Engine - Community, AUFS is supported on Ubuntu, and on Debian versions prior to
Stretch.</li>
  <li>For Docker EE, AUFS is supported on Ubuntu.</li>
  <li>If you use Ubuntu, you need to
<a href="https://matsuand.github.io/docs.docker.jp.onthefly/install/linux/ubuntu.md#recommended-extra-packages-for-trusty-1404" target="_blank" class="_">install extra packages</a>
to add the AUFS module to the kernel. If you do not install these packages,
you need to use <code class="highlighter-rouge">devicemapper</code> on Ubuntu 14.04 (which is not recommended),
or <code class="highlighter-rouge">overlay2</code> on Ubuntu 16.04 and higher, which is also supported.</li>
  <li>AUFS cannot use the following backing filesystems: <code class="highlighter-rouge">aufs</code>, <code class="highlighter-rouge">btrfs</code>, or
<code class="highlighter-rouge">ecryptfs</code>. This means that the filesystem which contains
<code class="highlighter-rouge">/var/lib/docker/aufs</code> cannot be one of these filesystem types.</li>
</ul>

<h2 id="configure-docker-with-the-aufs-storage-driver">Configure Docker with the <code class="highlighter-rouge">aufs</code> storage driver</h2>

<p>If the AUFS driver is loaded into the kernel when you start Docker, and no other
storage driver is configured, Docker uses it by default.</p>

<ol>
  <li>
    <p>Use the following command to verify that your kernel supports AUFS.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">grep </span>aufs /proc/filesystems

nodev   aufs
</code></pre></div>    </div>
  </li>
  <li>
    <p>Check which storage driver Docker is using.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker info

&lt;truncated output&gt;
Storage Driver: aufs
 Root Dir: /var/lib/docker/aufs
 Backing Filesystem: extfs
 Dirs: 0
 Dirperm1 Supported: <span class="nb">true</span>
&lt;truncated output&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>If you are using a different storage driver, either AUFS is not included in
the kernel (in which case a different default driver is used) or that
Docker has been explicitly configured to use a different driver. Check
<code class="highlighter-rouge">/etc/docker/daemon.json</code> or the output of <code class="highlighter-rouge">ps auxw | grep dockerd</code> to see
if Docker has been started with the <code class="highlighter-rouge">--storage-driver</code> flag.</p>
  </li>
</ol>

<h2 id="how-the-aufs-storage-driver-works">How the <code class="highlighter-rouge">aufs</code> storage driver works</h2>

<p>AUFS is a <em>union filesystem</em>, which means that it layers multiple directories on
a single Linux host and presents them as a single directory. These directories
are called <em>branches</em> in AUFS terminology, and <em>layers</em> in Docker terminology.</p>

<p>The unification process is referred to as a <em>union mount</em>.</p>

<p>The diagram below shows a Docker container based on the <code class="highlighter-rouge">ubuntu:latest</code> image.</p>

<p><img src="https://matsuand.github.io/docs.docker.jp.onthefly/storage/storagedriver/images/aufs_layers.jpg" alt="Layers of an Ubuntu container" /></p>

<p>Each image layer, and the container layer, are represented on the Docker host as
subdirectories within <code class="highlighter-rouge">/var/lib/docker/</code>. The union mount provides the unified
view of all layers. The directory names do not directly correspond to the IDs
of the layers themselves.</p>

<p>AUFS uses the Copy-on-Write (CoW) strategy to maximize storage efficiency and
minimize overhead.</p>

<h3 id="example-image-and-container-on-disk-constructs">Example: Image and container on-disk constructs</h3>

<p>The following <code class="highlighter-rouge">docker pull</code> command shows a Docker host downloading a Docker
image comprising five layers.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker pull ubuntu

Using default tag: latest
latest: Pulling from library/ubuntu
b6f892c0043b: Pull <span class="nb">complete
</span>55010f332b04: Pull <span class="nb">complete
</span>2955fb827c94: Pull <span class="nb">complete
</span>3deef3fcbd30: Pull <span class="nb">complete
</span>cf9722e506aa: Pull <span class="nb">complete
</span>Digest: sha256:382452f82a8bbd34443b2c727650af46aced0f94a44463c62a9848133ecb1aa8
Status: Downloaded newer image <span class="k">for </span>ubuntu:latest
</code></pre></div></div>

<h4 id="the-image-layers">The image layers</h4>

<blockquote>
  <p><strong>Warning</strong>: Do not directly manipulate any files or directories within
<code class="highlighter-rouge">/var/lib/docker/</code>. These files and directories are managed by Docker.</p>
</blockquote>

<p>All of the information about the image and container layers is stored in
subdirectories of <code class="highlighter-rouge">/var/lib/docker/aufs/</code>.</p>

<ul>
  <li><code class="highlighter-rouge">diff/</code>: the <strong>contents</strong> of each layer, each stored in a separate
subdirectory</li>
  <li><code class="highlighter-rouge">layers/</code>: metadata about how image layers are stacked. This directory
contains one file for each image or container layer on the Docker host. Each
file contains the IDs of all the layers below it in the stack (its parents).</li>
  <li><code class="highlighter-rouge">mnt/</code>: Mount points, one per image or container layer, which are used to
assemble and mount the unified filesystem for a container. For images, which
are read-only, these directories are always empty.</li>
</ul>

<h4 id="the-container-layer">The container layer</h4>

<p>If a container is running, the contents of <code class="highlighter-rouge">/var/lib/docker/aufs/</code> change in the
following ways:</p>

<ul>
  <li><code class="highlighter-rouge">diff/</code>: Differences introduced in the writable container layer, such as new
 or modified files.</li>
  <li><code class="highlighter-rouge">layers/</code>: Metadata about the writable container layer’s parent layers.</li>
  <li><code class="highlighter-rouge">mnt/</code>: A mount point for each running container’s unified filesystem, exactly
as it appears from within the container.</li>
</ul>

<h2 id="how-container-reads-and-writes-work-with-aufs">How container reads and writes work with <code class="highlighter-rouge">aufs</code></h2>

<h3 id="reading-files">Reading files</h3>

<p>Consider three scenarios where a container opens a file for read access with
aufs.</p>

<ul>
  <li>
    <p><strong>The file does not exist in the container layer</strong>: If a container opens a
file for read access and the file does not already exist in the container
layer, the storage driver searches for the file in the image layers,
starting with the layer just below the container layer. It is read from the
layer where it is found.</p>
  </li>
  <li>
    <p><strong>The file only exists in the container layer</strong>: If a container opens a file
for read access and the file exists in the container layer, it is read from
there.</p>
  </li>
  <li>
    <p><strong>The file exists in both the container layer and the image layer</strong>: If a
container opens a file for read access and the file exists in the container
layer and one or more image layers, the file is read from the container layer.
Files in the container layer obscure files with the same name in the image
layers.</p>
  </li>
</ul>

<h3 id="modifying-files-or-directories">Modifying files or directories</h3>

<p>Consider some scenarios where files in a container are modified.</p>

<ul>
  <li>
    <p><strong>Writing to a file for the first time</strong>: The first time a container writes
to an existing file, that file does not exist in the container (<code class="highlighter-rouge">upperdir</code>).
The <code class="highlighter-rouge">aufs</code> driver performs a <em>copy_up</em> operation to copy the file from the
image layer where it exists to the writable container layer. The container
then writes the changes to the new copy of the file in the container layer.</p>

    <p>However, AUFS works at the file level rather than the block level. This
means that all copy_up operations copy the entire file, even if the file is
very large and only a small part of it is being modified. This can have a
noticeable impact on container write performance. AUFS can suffer
noticeable latencies when searching for files in images with many layers.
However, it is worth noting that the copy_up operation only occurs the first
time a given file is written to. Subsequent writes to the same file operate
against the copy of the file already copied up to the container.</p>
  </li>
  <li>
    <p><strong>Deleting files and directories</strong>:</p>

    <ul>
      <li>
        <p>When a <em>file</em> is deleted within a container, a <em>whiteout</em> file is created
in the container layer. The version of the file in the image layer is not
deleted (because the image layers are read-only). However, the whiteout
file prevents it from being available to the container.</p>
      </li>
      <li>
        <p>When a <em>directory</em> is deleted within a container, an <em>opaque file</em> is
created in the container layer. This works in the same way as a
whiteout file and effectively prevents the directory from being accessed,
even though it still exists in the image layer.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Renaming directories</strong>: Calling <code class="highlighter-rouge">rename(2)</code> for a directory is not fully
supported on AUFS. It returns <code class="highlighter-rouge">EXDEV</code> (“cross-device link not permitted”),
even when both of the source and the destination path are on a same AUFS
layer, unless the directory has no children. Your application needs to be
designed to handle <code class="highlighter-rouge">EXDEV</code> and fall back to a “copy and unlink” strategy.</p>
  </li>
</ul>

<h2 id="aufs-and-docker-performance">AUFS and Docker performance</h2>

<p>To summarize some of the performance related aspects already mentioned:</p>

<ul>
  <li>
    <p>The AUFS storage driver is less performant than the <code class="highlighter-rouge">overlay2</code> driver, but is
a good choice for PaaS and other similar use-cases where container density is
important. This is because AUFS efficiently shares images between multiple
running containers, enabling fast container start times and minimal use of
disk space.</p>
  </li>
  <li>
    <p>The underlying mechanics of how AUFS shares files between image layers and
containers uses the page cache very efficiently.</p>
  </li>
  <li>
    <p>The AUFS storage driver can introduce significant latencies into container
write performance. This is because the first time a container writes to any
file, the file needs to be located and copied into the containers top writable
layer. These latencies increase and are compounded when these files exist below
many image layers and the files themselves are large.</p>
  </li>
</ul>

<h3 id="performance-best-practices">Performance best practices</h3>

<p>The following generic performance best practices also apply to AUFS.</p>

<ul>
  <li>
    <p><strong>Solid State Devices (SSD)</strong> provide faster reads and writes than spinning
disks.</p>
  </li>
  <li>
    <p><strong>Use volumes for write-heavy workloads</strong>: Volumes provide the best and most
predictable performance for write-heavy workloads. This is because they bypass
the storage driver and do not incur any of the potential overheads introduced
by thin provisioning and copy-on-write. Volumes have other benefits, such as
allowing you to share data among containers and persisting even when no
running container is using them.</p>
  </li>
</ul>

<h2 id="related-information">Related information</h2>

<ul>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/storage/volumes.md">Volumes</a></li>
  <li><a href="imagesandcontainers.md">Understand images, containers, and storage drivers</a></li>
  <li><a href="selectadriver.md">Select a storage driver</a></li>
</ul>

							<!-- tags -->
							
							
							
							<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=container">container</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=storage">storage</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=driver">driver</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=AUFS">AUFS</a></span>
							
							<!-- link corrections -->
              <script language="JavaScript">
							var x = document.links.length;
							var baseHref = document.getElementsByTagName('base')[0].href
							for (i = 0; i < x; i++) {
							  var munged = false;
							  var thisHREF = document.links[i].href;
							  var originalURL = "/storage/storagedriver/aufs-driver/";
							  if (thisHREF.indexOf(baseHref + "#") > -1) {
							    // hash fix
							    //console.log('BEFORE: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							    thisHREF = originalURL + thisHREF.replace(baseHref, "");
							    //console.log('AFTER: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							  }
							  if ((thisHREF.indexOf(window.location.hostname) > -1 || thisHREF.indexOf('http') == -1) && document.links[i].className.indexOf("nomunge") < 0) {
							    munged = true;
							    thisHREF = thisHREF.replace(".md", "/").replace("/index/", "/");
							    document.links[i].setAttribute('href', thisHREF);
							  }
							}
							</script>
							
						  <div id="ratings-div" style="color:#b9c2cc; text-align: center; margin-top: 150px; visibility: hidden">
								<div id="pd_rating_holder_8453675"></div>
								<script type="text/javascript">
									PDRTJS_settings_8453675 = {
										"id": "8453675",
										"unique_id": "storage/storagedriver/aufs-driver.md",
										"title": "Use the AUFS storage driver",
										"permalink": "https://github.com/docker/docker.github.io/blob/master/storage/storagedriver/aufs-driver.md"
									};
									(function(d, c, j) {
										if (!document.getElementById(j)) {
											var pd = d.createElement(c),
												s;
											pd.id = j;
											pd.src = ('https:' == document.location.protocol) ? 'https://polldaddy.com/js/rating/rating.js' : 'http://i0.poll.fm/js/rating/rating.js';
											s = document.getElementsByTagName(c)[0];
											s.parentNode.insertBefore(pd, s);
										}
									}(document, 'script', 'pd-rating-js'));
								</script>
							</div>
							
						</section>
					</main>
					<nav class="col-nav">
						<div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
						<div id="navbar" class="nav-sidebar">
    <ul class="nav" id="jsTOCLeftNav">
    </ul>
</div>

						</div>
					</nav>
					<div class="col-toc">
							<div class="sidebar hidden-xs hidden-sm">
							<div class="toc-nav">
								<div class="feedback-links">
									<ul>
										
										<li style="visibility: hidden"><a href="https://github.com/matsuand/docs.docker.jp/edit/v19.03.local/storage/storagedriver/aufs-driver.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> このページの編集</a></li>
										<li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/issues/new?body=File: [storage/storagedriver/aufs-driver.md](https://matsuand.github.io/docs.docker.jp.onthefly/storage/storagedriver/aufs-driver/)"
															class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 文書変更のリクエスト</a></li>
										<li><a href="https://success.docker.com/support"><i class="fa fa-question" aria-hidden="true"></i> サポート依頼</a></li>
										<!-- toggle mode -->
										<li>
											<div class="toggle-mode">
												<div class="icon">
													<i class="fa fa-sun-o" aria-hidden="true"></i>
												</div>
												<div class="toggle-switch">
													<label class="switch">
														<input type="checkbox" id="switch-style">
														<div class="slider round"></div>
												</label>
												</div>
												<div class="icon">
													<i class="fa fa-moon-o" aria-hidden="true"></i>
												</div>
											</div>
										</li>
									</ul>
								</div>
								   
									<div id="side-toc-title">本ページ内</div>
									
<ul id="my_toc" class="inline_toc">
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/aufs-driver.md#prerequisites" class="nomunge">Prerequisites</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/aufs-driver.md#configure-docker-with-the-aufs-storage-driver" class="nomunge">Configure Docker with the aufs storage driver</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/aufs-driver.md#how-the-aufs-storage-driver-works" class="nomunge">How the aufs storage driver works</a>
    <ul>
      <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/aufs-driver.md#example-image-and-container-on-disk-constructs" class="nomunge">Example: Image and container on-disk constructs</a></li>
    </ul>
  </li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/aufs-driver.md#how-container-reads-and-writes-work-with-aufs" class="nomunge">How container reads and writes work with aufs</a>
    <ul>
      <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/aufs-driver.md#reading-files" class="nomunge">Reading files</a></li>
      <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/aufs-driver.md#modifying-files-or-directories" class="nomunge">Modifying files or directories</a></li>
    </ul>
  </li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/aufs-driver.md#aufs-and-docker-performance" class="nomunge">AUFS and Docker performance</a>
    <ul>
      <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/aufs-driver.md#performance-best-practices" class="nomunge">Performance best practices</a></li>
    </ul>
  </li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/aufs-driver.md#related-information" class="nomunge">Related information</a></li>
</ul>


								</div>
								
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	
	<footer class="footer">
		  
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/what-docker">What is Docker</a></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container</a></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners/partner-program">Partners</a></li>
                        <li class="break"><a href="https://www.docker.com/industry-government">For Government</a></li>
                        <li><a href="https://www.docker.com/company">About Docker</a></li>
                        <li><a href="https://www.docker.com/company/management">Management</a></li>
                        <li><a href="https://www.docker.com/company/news-and-press">Press &amp; News</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/products/overview">Product</a></li>
                        <li><a href="https://www.docker.com/pricing">Pricing</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community Edition</a></li>
                        <li class="break"><a href="https://www.docker.com/enterprise">Enterprise Edition </a></li>
                        <li><a href="https://www.docker.com/products/docker-datacenter">Docker Datacenter</a></li>
                        <li><a href="https://hub.docker.com/">Docker Hub</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/">Documentation</a></li>
                        <li><a href="https://www.docker.com/docker">Learn</a></li>
                        <li><a href="https://blog.docker.com" target="_blank">Blog</a></li>
                        <li><a href="https://engineering.docker.com" target="_blank">Engineering Blog</a></li>
                        <li><a href="https://training.docker.com/" target="_blank">Training</a></li>
                        <li><a href="https://success.docker.com/support">Support</a></li>
                        <li><a href="https://success.docker.com/kbase">Knowledge Base</a></li>
                        <li><a href="https://www.docker.com/products/resources">Resources</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/technologies/overview">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/events">Events</a></li>
                        <li><a href="https://forums.docker.com/" target="_blank">Forums</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                        <li><a href="https://www.docker.com/docker-community/scholarships">Scholarships</a></li>
                        <li><a href="https://blog.docker.com/curated/">Community News</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/docker-security">Security</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2019 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-reddit"><a href="http://www.reddit.com/r/docker">Reddit</a></li>
                    <li class="fa fa-slideshare"><a href="http://www.slideshare.net/docker">Slideshare</a></li>
                </ul>
            </div>
        </div>
    </div>

	</footer>
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/github.css">
	
	<!-- <script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/anchorlinks.js"></script> -->
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/menu.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/jquery.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
	<!-- Always include the archive.js, but it doesn't do much unless we are an archive -->
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v19.03';
	// In archives, we need to know the page root and we get it from JEKYLL_ENV in the jekyll build command
	var jekyllEnv = 'development';
	// If unset (in non-archive branches), defaults to "development". In that case, reset it to empty
	if (jekyllEnv == 'development') {
		jekyllEnv = '';
	}
	var pageURL = jekyllEnv + '/storage/storagedriver/aufs-driver/';
	</script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/archive.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/stickyfill.min.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/metadata.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/glossary.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/collections_tocs.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/docs.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/toc.js"></script>
	<script language="javascript">
	jQuery(document).ready(function(){
				hookupTOCEvents();
			});
	</script>
</body>

</html>
