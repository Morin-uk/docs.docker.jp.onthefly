<!-- Page generated 2019-07-27 12:10:47 +0900 -->
<!-- relative link basehrefs -->

	
	
	
		
			
		
	
		
			
			


<!-- Logic for 'edit this button' -->


	

	

	

	

	

	

	

	

	


<!-- End of logic for 'edit this button' -->


<!DOCTYPE html>
<html lang="ja">

<head>
	<base href="https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<style type="text/css">
		@charset "UTF-8";
		[ng\:cloak],
		[ng-cloak],
		[data-ng-cloak],
		[x-ng-cloak],
		.ng-cloak,
		.x-ng-cloak,
		.ng-hide:not(.ng-hide-animate) {
			display: none !important;
		}

		ng\:form {
			display: block;
		}
	</style>
	<script type="text/javascript">
	  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
	  analytics.load("IWj9D0UpZHZdZUZX9jl98PcpBFWBnBMy");
	  analytics.page();
	  }}();
	</script>
	
	<!-- favicon -->
	<link rel="icon" type="image/x-icon" href="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta name="msapplication-TileImage" content="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico">
	<link rel="apple-touch-icon" type="image/x-icon" href="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta property="og:image" content="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
	<!-- metadata -->
	<meta property="og:type" content="website"/>
	<meta property="og:updated_time" itemprop="dateUpdated" content="2019-07-27T12:10:47+09:00"/>
	<meta property="og:image" itemprop="image primaryImageOfPage" content="https://matsuand.github.io/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:card" content="summary"/>
	<meta name="twitter:domain" content="docs.docker.jp"/>
	<meta name="twitter:site" content="@docker_docs"/>
	<meta name="twitter:url" content="https://twitter.com/docker_docs"/>
	<meta name="twitter:title" itemprop="title name" content="Logs and troubleshooting"/>
	<meta name="twitter:description" property="og:description" itemprop="description" content="Here is information about how to diagnose and troubleshoot problems, send logs and communicate with the Docker Desktop for Mac team, use our forums and Knowledge Hub, browse and log..." />
	<meta name="twitter:image:src" content="https://matsuand.github.io/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:image:alt" content="Docker Documentation"/>
	<meta property="article:published_time" itemprop="datePublished" content="2019-07-27T12:10:47+09:00"/>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="keywords" content="mac, troubleshooting, logs, issues">
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/bootstrap.min.css">
	<link id="pygments" rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/pygments/perldoc.css">
	<link id="pagestyle" rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/style.css">

	<!-- Go get "Open Sans" font from Google -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
	<!-- SEO stuff -->
	<title>Logs and troubleshooting | Docker Documentation</title>
<meta property="og:title" content="Logs and troubleshooting" />
<meta property="og:locale" content="ja_JP" />
<meta name="description" content="Troubleshooting, logs, and known issues" />
<meta property="og:description" content="Troubleshooting, logs, and known issues" />
<link rel="canonical" href="https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/troubleshoot/" />
<meta property="og:url" content="https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/troubleshoot/" />
<meta property="og:site_name" content="Docker Documentation" />
<script type="application/ld+json">
{"@context":"http://schema.org","@type":"WebPage","headline":"Logs and troubleshooting","description":"Troubleshooting, logs, and known issues","url":"https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/troubleshoot/"}</script>
	<!-- END SEO STUFF -->
	
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v19.03';
	</script>
</head>
<body ng-app="Docker" ng-controller="DockerController" class="colums">
	<header>
		 <nav class="nav-secondary navbar navbar-fixed-top">
    <!-- <div class="fan"></div> -->
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="https://matsuand.github.io/docs.docker.jp.onthefly/"><img class="logo" src="https://matsuand.github.io/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs"></a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="search-form" id="search-div" style="visibility: hidden">
    <form class="search-form form-inline ng-pristine ng-valid" id="searchForm" action="https://matsuand.github.io/docs.docker.jp.onthefly/search/">
        <input class="search-field form-control ds-input" id="st-search-input" value="" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteContainer">
            <div id="autocompleteResults"></div>
        </div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container">
    <div id="tabs">
        <ul class="tabs" id="jsTOCHorizontal">

        </ul>
    </div>
    <div class="ctrl-right hidden-xs hidden-sm">
        <a href="javascript:void(0)" id="menu-toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
        <div class="btn-group" style="visibility: hidden">
  <button type="button" class="btn btn-default dropdown-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Docker v19.03 (current)         <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
    <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/edge/">Docker edge</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.09/">Docker v18.09</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.03/">Docker v18.03</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.12/">Docker v17.12</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.09/">Docker v17.09</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.06/">Docker v17.06</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.03/">Docker v17.03</a></li>
  </ul>
</div>

    </div>
</div>

        </div>
    </div>
</nav>

	</header>

	<div class="wrapper right-open">
		<div class="container-fluid">
			<div class="row">
				<div class="col-body">
					<main class="col-content content">
						<section class="section">
							
								
							<h1>Logs and troubleshooting</h1>  <span class="reading-time" title="Estimated reading time">
  <span class="reading-time-label">読む時間の目安: </span>
  
  
    12 分
  
</span>

							
							
							<p>Here is information about how to diagnose and troubleshoot problems, send logs
and communicate with the Docker Desktop for Mac team, use our forums and Knowledge Hub,
browse and log issues on GitHub, and find workarounds for known problems.</p>

<h2 id="docker-knowledge-hub">Docker Knowledge Hub</h2>

<p><strong>Looking for help with Docker Desktop for Mac?</strong> Check out the <a href="http://success.docker.com/">Docker Knowledge
Hub</a> for knowledge base articles, FAQs, and
technical support for various subscription levels.</p>

<h2 id="diagnose-problems-send-feedback-and-create-github-issues">Diagnose problems, send feedback, and create GitHub issues</h2>

<h3 id="in-app-diagnostics">In-app diagnostics</h3>
<p>If you encounter problems for which you do not find solutions in this
documentation, on <a href="https://github.com/docker/for-mac/issues">Docker Desktop for Mac issues on
GitHub</a>, or the <a href="https://forums.docker.com/c/docker-for-mac">Docker Desktop for Mac
forum</a>, we can help you troubleshoot
the log data.</p>

<p>Choose <img src="https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/images/whale-x.png" alt="whale menu" class="inline" /> → <strong>Diagnose &amp; Feedback</strong>
from the menu bar.</p>

<p><img src="https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/images/diagnose-feedback.png" alt="Diagnose &amp; Feedback" width="600px" /></p>

<p>Once the diagnostics are available, you can upload them and obtain a
<strong>Diagnostic ID</strong>, which must be provided when communicating with the Docker
team. For more information on our policy regarding personal data you can read
<a href="https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/faqs/#how-is-personal-data-handled-in-docker-desktop">how is personal data handled in Docker
Desktop</a>.</p>

<p><img src="https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/images/diagnose-feedback-id.png" alt="Diagnostics &amp; Feedback with
ID" width="600px" /></p>

<p>If you click <strong>Report an issue</strong>, this opens <a href="https://github.com/docker/for-mac/issues/">Docker Desktop for Mac issues on
GitHub</a> in your web browser in a
“create new issue” template, to be completed before submission. Do not forget to
copy/paste your diagnostic ID.</p>

<p><img src="https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/images/issues-template.png" alt="issue template" width="600px" /></p>

<h3 id="diagnosing-from-the-terminal">Diagnosing from the terminal</h3>

<p>On occasions it is useful to run the diagnostics yourself, for instance if
Docker Desktop for Mac cannot start.</p>

<p>First locate the <code class="highlighter-rouge">com.docker.diagnose</code> tool.  If you installed Docker Desktop for Mac in
the Applications directory, then it is
<code class="highlighter-rouge">/Applications/Docker.app/Contents/MacOS/com.docker.diagnose</code>.</p>

<p>Then to create <em>and upload</em> diagnostics, run:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>/Applications/Docker.app/Contents/MacOS/com.docker.diagnose gather <span class="nt">-upload</span>
</code></pre></div></div>
<p>After the diagnostics have finished, you should have the following output,
containing your diagnostics ID:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Diagnostics Bundle: /tmp/B8CF8400-47B3-4068-ADA4-3BBDCE3985D9/20180726143610.zip
Diagnostics ID:     B8CF8400-47B3-4068-ADA4-3BBDCE3985D9/20180726143610 <span class="o">(</span>uploaded<span class="o">)</span>
</code></pre></div></div>

<p>The diagnostics ID (here B8CF8400-47B3-4068-ADA4-3BBDCE3985D9/20180726143610) is
composed of your user ID (D1F48686-F045-4708-85E3-0635B729A596) and a timestamp
(20180525-145051).  Be sure to provide us with the full diagnostics ID, not just
the user ID.</p>

<p>Don’t hesitate browsing the content of these diagnostics:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>open /tmp/D1F48686-F045-4708-85E3-0635B729A596/20180525-145051.zip
</code></pre></div></div>

<p><a name="logs"></a></p>
<h2 id="check-the-logs">Check the logs</h2>

<p>In addition to using the diagnose and feedback option to submit logs, you can
browse the logs yourself.  The following documentation is about macOS 10.12
onwards; for older versions, see <a href="v17.12/docker-for-mac/troubleshoot/#logs">older
documentation</a>.</p>

<h4 id="in-a-terminal">In a terminal</h4>

<p>To watch the live flow of Docker Desktop for Mac logs at the command line, run this from
your favorite shell.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ pred</span><span class="o">=</span><span class="s1">'process matches ".*(ocker|vpnkit).*"
  || (process in {"taskgated-helper", "launchservicesd", "kernel"} &amp;&amp; eventMessage contains[c] "docker")'</span>
<span class="nv">$ </span>/usr/bin/log stream <span class="nt">--style</span> syslog <span class="nt">--level</span><span class="o">=</span>debug <span class="nt">--color</span><span class="o">=</span>always <span class="nt">--predicate</span> <span class="s2">"</span><span class="nv">$pred</span><span class="s2">"</span>
</code></pre></div></div>

<p>Alternatively, to collect the last day of logs (<code class="highlighter-rouge">1d</code>) in a file, run:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ /usr/bin/log show --debug --info --style syslog --last 1d --predicate "$pred" &gt;/tmp/logs.txt
</code></pre></div></div>

<h4 id="in-the-console-app">In the Console app</h4>

<p>Macs provide a built-in log viewer, named “Console”, which you can use to check
Docker logs.</p>

<p>The Console lives in <code class="highlighter-rouge">/Applications/Utilities</code>; you can search for it with
Spotlight Search.</p>

<p>To read the Docker app log messages, type <code class="highlighter-rouge">docker</code> in the Console window search bar and press Enter. Then select <code class="highlighter-rouge">ANY</code> to expand the drop-down list next to your <code class="highlighter-rouge">docker</code> search entry, and select <code class="highlighter-rouge">Process</code>.</p>

<p><img src="https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/images/console.png" alt="Mac Console search for Docker app" /></p>

<p>You can use the Console Log Query to search logs, filter the results in various
ways, and create reports.</p>

<p><a name="troubleshoot"></a></p>
<h2 id="troubleshooting">Troubleshooting</h2>

<h3 id="make-sure-certificates-are-set-up-correctly">Make sure certificates are set up correctly</h3>

<p>Docker Desktop for Mac ignores certificates listed under insecure registries, and does
not send client certificates to them. Commands like <code class="highlighter-rouge">docker run</code> that attempt to
pull from the registry produces error messages on the command line, like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Error response from daemon: Get http://192.168.203.139:5858/v2/: malformed HTTP response "\x15\x03\x01\x00\x02\x02"
</code></pre></div></div>

<p>As well as on the registry. For example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2017/06/20 18:15:30 http: TLS handshake error from 192.168.203.139:52882: tls: client didn't provide a certificate
2017/06/20 18:15:30 http: TLS handshake error from 192.168.203.139:52883: tls: first record does not look like a TLS handshake
</code></pre></div></div>

<p>For more about using client and server side certificates, see <a href="https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/#adding-tls-certificates">Adding TLS
certificates</a> in the Getting Started topic.</p>

<h3 id="docker-desktop-for-mac-does-not-start-if-mac-user-account-and-home-folder-are-renamed-after-installing-the-app">Docker Desktop for Mac does not start if Mac user account and home folder are renamed after installing the app</h3>

<p>See <a href="https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/faqs/#do-i-need-to-reinstall-docker-for-mac-if-i-change-the-name-of-my-macos-account">Do I need to reinstall Docker Desktop for Mac if I change the name of my macOS
account?</a>
in the FAQs.</p>

<h3 id="volume-mounting-requires-file-sharing-for-any-project-directories-outside-of-users">Volume mounting requires file sharing for any project directories outside of <code class="highlighter-rouge">/Users</code></h3>

<p>If you are using mounted volumes and get runtime errors indicating an
application file is not found, access to a volume mount is denied, or a service
cannot start, such as when using <a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/gettingstarted.md">Docker Compose</a>,
you might need to enable <a href="https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/#file-sharing">file sharing</a>.</p>

<p>Volume mounting requires shared drives for projects that live outside of the
<code class="highlighter-rouge">/Users</code> directory. Go to <img src="https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/images/whale-x.png" alt="whale menu" class="inline" /> →
<strong>Preferences</strong> → <strong>File sharing</strong> and share the drive that contains the
Dockerfile and volume.</p>

<h3 id="incompatible-cpu-detected">Incompatible CPU detected</h3>

<p>Docker Desktop for Mac requires a processor (CPU) that supports virtualization and, more
specifically, the <a href="https://developer.apple.com/library/mac/documentation/DriversKernelHardware/Reference/Hypervisor/">Apple Hypervisor
framework</a>.
Docker Desktop for Mac is only compatible with Macs that have a CPU that supports the
Hypervisor framework. Most Macs built in 2010 and later support it, as described
in the Apple Hypervisor Framework documentation about supported hardware:</p>

<p><em>Generally, machines with an Intel VT-x feature set that includes Extended Page
Tables (EPT) and Unrestricted Mode are supported.</em></p>

<p>To check if your Mac supports the Hypervisor framework, run this command in a
terminal window.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sysctl kern.hv_support
</code></pre></div></div>

<p>If your Mac supports the Hypervisor Framework, the command prints
<code class="highlighter-rouge">kern.hv_support: 1</code>.</p>

<p>If not, the command prints <code class="highlighter-rouge">kern.hv_support: 0</code>.</p>

<p>See also, <a href="https://developer.apple.com/library/mac/documentation/DriversKernelHardware/Reference/Hypervisor/">Hypervisor Framework
Reference</a>
in the Apple documentation, and Docker Desktop for Mac system requirements in <a href="https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/install/#what-to-know-before-you-install">What to
know before you install</a>.</p>

<h3 id="workarounds-for-common-problems">Workarounds for common problems</h3>

<ul>
  <li>
    <p>If Docker Desktop for Mac fails to install or start properly:</p>

    <ul>
      <li>
        <p>Make sure you quit Docker Desktop for Mac before installing a new version of the
application (<img src="https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/images/whale-x.png" alt="whale menu" class="inline" /> → <strong>Quit
Docker</strong>). Otherwise, you get an “application in use” error when you try to
copy the new app from the <code class="highlighter-rouge">.dmg</code> to <code class="highlighter-rouge">/Applications</code>.</p>
      </li>
      <li>
        <p>Restart your Mac to stop / discard any vestige of the daemon running from
the previously installed version.</p>
      </li>
      <li>
        <p>Run the uninstall commands from the menu.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>If <code class="highlighter-rouge">docker</code> commands aren’t working properly or as expected, you may need to
unset some environment variables, to make sure you are not using the legacy
Docker Machine environment in your shell or command window. Unset the
<code class="highlighter-rouge">DOCKER_HOST</code> environment variable and related variables.</p>

    <ul>
      <li>
        <p>If you use bash, use the following command: <code class="highlighter-rouge">unset ${!DOCKER_*}</code></p>
      </li>
      <li>
        <p>For other shells, unset each environment variable individually as described
in <a href="https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/docker-toolbox/#setting-up-to-run-docker-for-mac">Setting up to run Docker Desktop for
Mac</a> in <a href="https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/docker-toolbox/">Docker Desktop for Mac
vs. Docker Toolbox</a>.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>Network connections fail if the macOS Firewall is set to “Block all incoming
connections”. You can enable the firewall, but <code class="highlighter-rouge">bootpd</code> must be allowed
incoming connections so that the VM can get an IP address.</p>
  </li>
  <li>
    <p>For the <code class="highlighter-rouge">hello-world-nginx</code> example, Docker Desktop for Mac must be running to get to
the webserver on <code class="highlighter-rouge">http://localhost/</code>. Make sure that the Docker whale is
showing in the menu bar, and that you run the Docker commands in a shell that
is connected to the Docker Desktop for Mac Engine (not Engine from Toolbox).
Otherwise, you might start the webserver container but get a “web page not
available” error when you go to <code class="highlighter-rouge">localhost</code>. For more on distinguishing
between the two environments, see <a href="https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/docker-toolbox/">Docker Desktop for Mac vs. Docker
Toolbox</a>.</p>
  </li>
</ul>

<p></p>

<ul>
  <li>
    <p>If you see errors like <code class="highlighter-rouge">Bind for 0.0.0.0:8080 failed: port is already
allocated</code> or <code class="highlighter-rouge">listen tcp:0.0.0.0:8080: bind: address is already in use</code>:</p>

    <ul>
      <li>
        <p>These errors are often caused by some other software on the Mac using those
ports.</p>
      </li>
      <li>
        <p>Run <code class="highlighter-rouge">lsof -i tcp:8080</code> to discover the name and pid of the other process and
decide whether to shut the other process down, or to use a different port in
your docker app.</p>
      </li>
    </ul>
  </li>
</ul>

<h2 id="known-issues">Known issues</h2>

<ul>
  <li>
    <p>IPv6 is not (yet) supported on Docker Desktop for Mac.</p>

    <p>A workaround is provided that auto-filters out the IPv6 addresses in DNS
server lists and enables successful network access.  For example,
<code class="highlighter-rouge">2001:4860:4860::8888</code> would become <code class="highlighter-rouge">8.8.8.8</code>.  To learn more, see these
issues on GitHub and Docker Desktop for Mac forums:</p>

    <ul>
      <li>
        <p><a href="https://github.com/docker/for-mac/issues/9">Network timeout when top two DNS servers in /etc/resolv.conf are IPv6
addresses</a></p>
      </li>
      <li>
        <p><a href="https://forums.docker.com/t/error-network-timed-out-while-trying-to-connect-to-index-docker-io/17206">ERROR: Network timed out while trying to connect to
index.docker.io</a></p>
      </li>
    </ul>

    <p></p>
  </li>
  <li>
    <p>You might encounter errors when using <code class="highlighter-rouge">docker-compose up</code> with Docker Desktop for Mac
(<code class="highlighter-rouge">ValueError: Extra Data</code>). We’ve identified this is likely related to data
and/or events being passed all at once rather than one by one, so sometimes
the data comes back as 2+ objects concatenated and causes an error.</p>
  </li>
  <li>
    <p>Force-ejecting the <code class="highlighter-rouge">.dmg</code> after running <code class="highlighter-rouge">Docker.app</code> from it can cause the
whale icon to become unresponsive, Docker tasks to show as not responding in
the Activity Monitor, and for some processes to consume a large amount of CPU
resources. Reboot and restart Docker to resolve these issues.</p>
  </li>
  <li>
    <p>Docker does not auto-start on login even when it is enabled in <img src="https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/images/whale-x.png" alt="whale
menu" class="inline" /> → <strong>Preferences</strong>. This is related to a
set of issues with Docker helper, registration, and versioning.</p>
  </li>
</ul>

<p></p>

<ul>
  <li>
    <p>Docker Desktop for Mac uses the <code class="highlighter-rouge">HyperKit</code> hypervisor
(https://github.com/docker/hyperkit) in macOS 10.10 Yosemite and higher. If
you are developing with tools that have conflicts with <code class="highlighter-rouge">HyperKit</code>, such as
<a href="https://software.intel.com/en-us/android/articles/intel-hardware-accelerated-execution-manager/">Intel Hardware Accelerated Execution Manager
(HAXM)</a>,
the current workaround is not to run them at the same time. You can pause
<code class="highlighter-rouge">HyperKit</code> by quitting Docker Desktop for Mac temporarily while you work with HAXM.
This allows you to continue work with the other tools and prevent <code class="highlighter-rouge">HyperKit</code>
from interfering.</p>
  </li>
  <li>
    <p>If you are working with applications like <a href="https://maven.apache.org/">Apache
Maven</a> that expect settings for <code class="highlighter-rouge">DOCKER_HOST</code> and
<code class="highlighter-rouge">DOCKER_CERT_PATH</code> environment variables, specify these to connect to Docker
instances through Unix sockets. For example:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">DOCKER_HOST</span><span class="o">=</span>unix:///var/run/docker.sock
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="highlighter-rouge">docker-compose</code> 1.7.1 performs DNS unnecessary lookups for
<code class="highlighter-rouge">localunixsocket.local</code> which can take 5s to timeout on some networks. If
<code class="highlighter-rouge">docker-compose</code> commands seem very slow but seem to speed up when the network
is disabled, try appending <code class="highlighter-rouge">127.0.0.1 localunixsocket.local</code> to the file
<code class="highlighter-rouge">/etc/hosts</code>.  Alternatively you could create a plain-text TCP proxy on
localhost:1234 using:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run -d -v /var/run/docker.sock:/var/run/docker.sock -p 127.0.0.1:1234:1234 bobrik/socat TCP-LISTEN:1234,fork UNIX-CONNECT:/var/run/docker.sock
</code></pre></div>    </div>

    <p>and then <code class="highlighter-rouge">export DOCKER_HOST=tcp://localhost:1234</code>.</p>
  </li>
</ul>

<p><a name="bind-mounted-dirs"></a></p>

<ul>
  <li>
    <p>There are a number of issues with the performance of directories bind-mounted
with <code class="highlighter-rouge">osxfs</code>. In particular, writes of small blocks, and traversals of large
directories are currently slow. Additionally, containers that perform large
numbers of directory operations, such as repeated scans of large directory
trees, may suffer from poor performance. Applications that behave in this way
include:</p>

    <ul>
      <li><code class="highlighter-rouge">rake</code></li>
      <li><code class="highlighter-rouge">ember build</code></li>
      <li>Symfony</li>
      <li>Magento</li>
      <li>Zend Framework</li>
      <li>PHP applications that use <a href="https://getcomposer.org">Composer</a> to install
dependencies in a <code class="highlighter-rouge">vendor</code> folder<br /><br /></li>
    </ul>

    <p>As a work-around for this behavior, you can put vendor or third-party library
directories in Docker volumes, perform temporary file system operations
outside of <code class="highlighter-rouge">osxfs</code> mounts, and use third-party tools like Unison or <code class="highlighter-rouge">rsync</code> to
synchronize between container directories and bind-mounted directories. We are
actively working on <code class="highlighter-rouge">osxfs</code> performance using a number of different
techniques.  To learn more, see the topic on <a href="https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/osxfs/#performance-issues-solutions-and-roadmap">Performance issues, solutions,
and roadmap</a>.</p>
  </li>
  <li>
    <p>If your system does not have access to an NTP server, then after a hibernate
the time seen by Docker Desktop for Mac may be considerably out of sync with the host.
Furthermore, the time may slowly drift out of sync during use. To manually
reset the time after hibernation, run:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="nt">--rm</span> <span class="nt">--privileged</span> alpine hwclock <span class="nt">-s</span>
</code></pre></div>    </div>

    <p>Or, to resolve both issues, you can add the local clock as a low-priority
(high stratum) fallback NTP time source for the host. To do this, edit the
host’s <code class="highlighter-rouge">/etc/ntp-restrict.conf</code> to add:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>server 127.127.1.1              # LCL, local clock
fudge  127.127.1.1 stratum 12   # increase stratum
</code></pre></div>    </div>

    <p>Then restart the NTP service with:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>launchctl unload /System/Library/LaunchDaemons/org.ntp.ntpd.plist
<span class="nb">sudo </span>launchctl load /System/Library/LaunchDaemons/org.ntp.ntpd.plist
</code></pre></div>    </div>
  </li>
</ul>

							<!-- tags -->
							
							
							
							<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=mac">mac</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=troubleshooting">troubleshooting</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=logs">logs</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=issues">issues</a></span>
							
							<!-- link corrections -->
              <script language="JavaScript">
							var x = document.links.length;
							var baseHref = document.getElementsByTagName('base')[0].href
							for (i = 0; i < x; i++) {
							  var munged = false;
							  var thisHREF = document.links[i].href;
							  var originalURL = "/docker-for-mac/troubleshoot/";
							  if (thisHREF.indexOf(baseHref + "#") > -1) {
							    // hash fix
							    //console.log('BEFORE: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							    thisHREF = originalURL + thisHREF.replace(baseHref, "");
							    //console.log('AFTER: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							  }
							  if ((thisHREF.indexOf(window.location.hostname) > -1 || thisHREF.indexOf('http') == -1) && document.links[i].className.indexOf("nomunge") < 0) {
							    munged = true;
							    thisHREF = thisHREF.replace(".md", "/").replace("/index/", "/");
							    document.links[i].setAttribute('href', thisHREF);
							  }
							}
							</script>
							
						  <div id="ratings-div" style="color:#b9c2cc; text-align: center; margin-top: 150px; visibility: hidden">
								<div id="pd_rating_holder_8453675"></div>
								<script type="text/javascript">
									PDRTJS_settings_8453675 = {
										"id": "8453675",
										"unique_id": "docker-for-mac/troubleshoot.md",
										"title": "Logs and troubleshooting",
										"permalink": "https://github.com/docker/docker.github.io/blob/master/docker-for-mac/troubleshoot.md"
									};
									(function(d, c, j) {
										if (!document.getElementById(j)) {
											var pd = d.createElement(c),
												s;
											pd.id = j;
											pd.src = ('https:' == document.location.protocol) ? 'https://polldaddy.com/js/rating/rating.js' : 'http://i0.poll.fm/js/rating/rating.js';
											s = document.getElementsByTagName(c)[0];
											s.parentNode.insertBefore(pd, s);
										}
									}(document, 'script', 'pd-rating-js'));
								</script>
							</div>
							
						</section>
					</main>
					<nav class="col-nav">
						<div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
						<div id="navbar" class="nav-sidebar">
    <ul class="nav" id="jsTOCLeftNav">
    </ul>
</div>

						</div>
					</nav>
					<div class="col-toc">
							<div class="sidebar hidden-xs hidden-sm">
							<div class="toc-nav">
								<div class="feedback-links">
									<ul>
										
										<li style="visibility: hidden"><a href="https://github.com/matsuand/docs.docker.jp/edit/v19.03.local/docker-for-mac/troubleshoot.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> このページの編集</a></li>
										<li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/issues/new?body=File: [docker-for-mac/troubleshoot.md](https://matsuand.github.io/docs.docker.jp.onthefly/docker-for-mac/troubleshoot/)"
															class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 文書変更のリクエスト</a></li>
										<li><a href="https://success.docker.com/support"><i class="fa fa-question" aria-hidden="true"></i> サポート依頼</a></li>
										<!-- toggle mode -->
										<li>
											<div class="toggle-mode">
												<div class="icon">
													<i class="fa fa-sun-o" aria-hidden="true"></i>
												</div>
												<div class="toggle-switch">
													<label class="switch">
														<input type="checkbox" id="switch-style">
														<div class="slider round"></div>
												</label>
												</div>
												<div class="icon">
													<i class="fa fa-moon-o" aria-hidden="true"></i>
												</div>
											</div>
										</li>
									</ul>
								</div>
								   
									<div id="side-toc-title">本ページ内</div>
									
<ul id="my_toc" class="inline_toc">
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/troubleshoot.md#docker-knowledge-hub" class="nomunge">Docker Knowledge Hub</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/troubleshoot.md#diagnose-problems-send-feedback-and-create-github-issues" class="nomunge">Diagnose problems, send feedback, and create GitHub issues</a>
    <ul>
      <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/troubleshoot.md#in-app-diagnostics" class="nomunge">In-app diagnostics</a></li>
      <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/troubleshoot.md#diagnosing-from-the-terminal" class="nomunge">Diagnosing from the terminal</a></li>
    </ul>
  </li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/troubleshoot.md#check-the-logs" class="nomunge">Check the logs</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/troubleshoot.md#troubleshooting" class="nomunge">Troubleshooting</a>
    <ul>
      <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/troubleshoot.md#make-sure-certificates-are-set-up-correctly" class="nomunge">Make sure certificates are set up correctly</a></li>
      <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/troubleshoot.md#docker-desktop-for-mac-does-not-start-if-mac-user-account-and-home-folder-are-renamed-after-installing-the-app" class="nomunge">Docker Desktop for Mac does not start if Mac user account and home folder are renamed after installing the app</a></li>
      <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/troubleshoot.md#volume-mounting-requires-file-sharing-for-any-project-directories-outside-of-users" class="nomunge">Volume mounting requires file sharing for any project directories outside of /Users</a></li>
      <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/troubleshoot.md#incompatible-cpu-detected" class="nomunge">Incompatible CPU detected</a></li>
      <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/troubleshoot.md#workarounds-for-common-problems" class="nomunge">Workarounds for common problems</a></li>
    </ul>
  </li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/troubleshoot.md#known-issues" class="nomunge">Known issues</a></li>
</ul>


								</div>
								
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	
	<footer class="footer">
		  
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/what-docker">What is Docker</a></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container</a></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners/partner-program">Partners</a></li>
                        <li class="break"><a href="https://www.docker.com/industry-government">For Government</a></li>
                        <li><a href="https://www.docker.com/company">About Docker</a></li>
                        <li><a href="https://www.docker.com/company/management">Management</a></li>
                        <li><a href="https://www.docker.com/company/news-and-press">Press &amp; News</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/products/overview">Product</a></li>
                        <li><a href="https://www.docker.com/pricing">Pricing</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community Edition</a></li>
                        <li class="break"><a href="https://www.docker.com/enterprise">Enterprise Edition </a></li>
                        <li><a href="https://www.docker.com/products/docker-datacenter">Docker Datacenter</a></li>
                        <li><a href="https://hub.docker.com/">Docker Hub</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/">Documentation</a></li>
                        <li><a href="https://www.docker.com/docker">Learn</a></li>
                        <li><a href="https://blog.docker.com" target="_blank">Blog</a></li>
                        <li><a href="https://engineering.docker.com" target="_blank">Engineering Blog</a></li>
                        <li><a href="https://training.docker.com/" target="_blank">Training</a></li>
                        <li><a href="https://success.docker.com/support">Support</a></li>
                        <li><a href="https://success.docker.com/kbase">Knowledge Base</a></li>
                        <li><a href="https://www.docker.com/products/resources">Resources</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/technologies/overview">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/events">Events</a></li>
                        <li><a href="https://forums.docker.com/" target="_blank">Forums</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                        <li><a href="https://www.docker.com/docker-community/scholarships">Scholarships</a></li>
                        <li><a href="https://blog.docker.com/curated/">Community News</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/docker-security">Security</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2019 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-reddit"><a href="http://www.reddit.com/r/docker">Reddit</a></li>
                    <li class="fa fa-slideshare"><a href="http://www.slideshare.net/docker">Slideshare</a></li>
                </ul>
            </div>
        </div>
    </div>

	</footer>
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/github.css">
	
	<!-- <script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/anchorlinks.js"></script> -->
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/menu.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/jquery.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
	<!-- Always include the archive.js, but it doesn't do much unless we are an archive -->
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v19.03';
	// In archives, we need to know the page root and we get it from JEKYLL_ENV in the jekyll build command
	var jekyllEnv = 'development';
	// If unset (in non-archive branches), defaults to "development". In that case, reset it to empty
	if (jekyllEnv == 'development') {
		jekyllEnv = '';
	}
	var pageURL = jekyllEnv + '/docker-for-mac/troubleshoot/';
	</script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/archive.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/stickyfill.min.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/metadata.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/glossary.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/collections_tocs.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/docs.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/toc.js"></script>
	<script language="javascript">
	jQuery(document).ready(function(){
				hookupTOCEvents();
			});
	</script>
</body>

</html>
