<!-- Page generated 2019-04-26 08:15:08 +0900 -->
<!-- relative link basehrefs -->

	
	
	
		
			
		
	
		
			
			


<!-- Logic for 'edit this button' -->


	

	

	

	

	

	

	

	

	


<!-- End of logic for 'edit this button' -->


<!DOCTYPE html>
<html lang="ja">

<head>
	<base href="https://matsuand.github.io/docs.docker.jp.onthefly/engine/" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<style type="text/css">
		@charset "UTF-8";
		[ng\:cloak],
		[ng-cloak],
		[data-ng-cloak],
		[x-ng-cloak],
		.ng-cloak,
		.x-ng-cloak,
		.ng-hide:not(.ng-hide-animate) {
			display: none !important;
		}

		ng\:form {
			display: block;
		}
	</style>
	<script type="text/javascript">
	  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
	  analytics.load("IWj9D0UpZHZdZUZX9jl98PcpBFWBnBMy");
	  analytics.page();
	  }}();
	</script>
	
	<!-- favicon -->
	<link rel="icon" type="image/x-icon" href="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta name="msapplication-TileImage" content="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico">
	<link rel="apple-touch-icon" type="image/x-icon" href="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta property="og:image" content="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
	<!-- metadata -->
	<meta property="og:type" content="website"/>
	<meta property="og:updated_time" itemprop="dateUpdated" content="2019-04-26T08:15:08+09:00"/>
	<meta property="og:image" itemprop="image primaryImageOfPage" content="https://matsuand.github.io/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:card" content="summary"/>
	<meta name="twitter:domain" content="docs.docker.jp"/>
	<meta name="twitter:site" content="@docker_docs"/>
	<meta name="twitter:url" content="https://twitter.com/docker_docs"/>
	<meta name="twitter:title" itemprop="title name" content="Docker Engine release notes"/>
	<meta name="twitter:description" property="og:description" itemprop="description" content="This document describes the latest changes, additions, known issues, and fixes for Docker Engine Enterprise Edition (Docker EE) and Community Edition (CE). Docker EE is a superset of all the..." />
	<meta name="twitter:image:src" content="https://matsuand.github.io/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:image:alt" content="Docker Documentation"/>
	<meta property="article:published_time" itemprop="datePublished" content="2019-04-26T08:15:08+09:00"/>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="keywords" content="docker, docker engine, ee, ce, whats new, release notes">
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/bootstrap.min.css">
	<link id="pygments" rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/pygments/perldoc.css">
	<link id="pagestyle" rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/style.css">

	<!-- Go get "Open Sans" font from Google -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
	<!-- SEO stuff -->
	<title>Docker Engine release notes | Docker Documentation</title>
<meta property="og:title" content="Docker Engine release notes" />
<meta property="og:locale" content="ja_JP" />
<meta name="description" content="Learn about the new features, bug fixes, and breaking changes for Docker Engine CE and EE" />
<meta property="og:description" content="Learn about the new features, bug fixes, and breaking changes for Docker Engine CE and EE" />
<link rel="canonical" href="https://matsuand.github.io/docs.docker.jp.onthefly/engine/release-notes/" />
<meta property="og:url" content="https://matsuand.github.io/docs.docker.jp.onthefly/engine/release-notes/" />
<meta property="og:site_name" content="Docker Documentation" />
<script type="application/ld+json">
{"@context":"http://schema.org","@type":"WebPage","headline":"Docker Engine release notes","description":"Learn about the new features, bug fixes, and breaking changes for Docker Engine CE and EE","url":"https://matsuand.github.io/docs.docker.jp.onthefly/engine/release-notes/"}</script>
	<!-- END SEO STUFF -->
	
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v18.09';
	</script>
</head>
<body ng-app="Docker" ng-controller="DockerController" class="colums">
	<header>
		 <nav class="nav-secondary navbar navbar-fixed-top">
    <!-- <div class="fan"></div> -->
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="https://matsuand.github.io/docs.docker.jp.onthefly/"><img class="logo" src="https://matsuand.github.io/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs"></a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="search-form" id="search-div" style="visibility: hidden">
    <form class="search-form form-inline ng-pristine ng-valid" /id="searchForm" action="/docs.docker.jp.onthefly/search/">
        <input class="search-field form-control ds-input" id="st-search-input" value="" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteContainer">
            <div id="autocompleteResults"></div>
        </div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container">
    <div id="tabs">
        <ul class="tabs" id="jsTOCHorizontal">

        </ul>
    </div>
    <div class="ctrl-right hidden-xs hidden-sm">
        <a href="javascript:void(0)" id="menu-toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
        <div class="btn-group" style="visibility: hidden">
  <button type="button" class="btn btn-default dropdown-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Docker v18.09 (current)        <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
    <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/edge/">Docker edge</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.03/">Docker v18.03</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.12/">Docker v17.12</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.09/">Docker v17.09</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.06/">Docker v17.06</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.03/">Docker v17.03</a></li>
  </ul>
</div>

    </div>
</div>

        </div>
    </div>
</nav>

	</header>

	<div class="wrapper right-open">
		<div class="container-fluid">
			<div class="row">
				<div class="col-body">
					<main class="col-content content">
						<section class="section">
							
								
							<h1>Docker Engine release notes</h1>  <span class="reading-time" title="Estimated reading time">
  <span class="reading-time-label">読む時間の目安: </span>
  
  
    139 分
  
</span>

							
							
							<p>This document describes the latest changes, additions, known issues, and fixes
for Docker Engine Enterprise Edition (Docker EE) and Community Edition (CE).</p>

<p>Docker EE is a superset of all the features in Docker CE. It incorporates defect fixes
that you can use in environments where new features cannot be adopted as quickly for
consistency and compatibility reasons.</p>

<blockquote>
  <p><strong>Note</strong>:
New in 18.09 is an aligned release model for Docker Engine - Community and Docker
Engine - Enterprise. The new versioning scheme is YY.MM.x where x is an incrementing
patch version. The enterprise engine is a superset of the community engine. They
will ship concurrently with the same x patch version based on the same code base.</p>
</blockquote>

<blockquote>
  <p><strong>Note</strong>:
The client and container runtime are now in separate packages from the daemon in
Docker Engine 18.09. Users should install and update all three packages at the same time
to get the latest patch releases. For example, on Ubuntu:
<code class="highlighter-rouge">sudo apt install docker-ce docker-ce-cli containerd.io</code>. See the install instructions
for the corresponding linux distro for details.</p>
</blockquote>

<h2 id="18095">18.09.5</h2>

<p>2019-04-11</p>

<h3 id="builder">Builder</h3>

<ul>
  <li>Fixed <code class="highlighter-rouge">DOCKER_BUILDKIT=1 docker build --squash ..</code> <a href="https://github.com/docker/engine/pull/176">docker/engine#176</a></li>
</ul>

<h3 id="client">Client</h3>

<ul>
  <li>Fixed tty initial size error. <a href="https://github.com/docker/cli/pull/1775">docker/cli#1775</a></li>
  <li>Fixed dial-stdio goroutine leakage. <a href="https://github.com/docker/cli/pull/1795">docker/cli#1795</a></li>
  <li>Fixed the stack informer’s selector used to track deployment. <a href="https://github.com/docker/cli/pull/1794">docker/cli#1794</a></li>
</ul>

<h3 id="networking">Networking</h3>

<ul>
  <li>Fixed <code class="highlighter-rouge">network=host</code> using wrong <code class="highlighter-rouge">resolv.conf</code> with <code class="highlighter-rouge">systemd-resolved</code>. <a href="https://github.com/docker/engine/pull/180">docker/engine#180</a></li>
  <li>Fixed Windows ARP entries getting corrupted randomly under load. <a href="https://github.com/docker/engine/pull/192">docker/engine#192</a></li>
</ul>

<h3 id="runtime">Runtime</h3>
<ul>
  <li>Now showing stopped containers with restart policy as <code class="highlighter-rouge">Restarting</code>. <a href="https://github.com/docker/engine/pull/181">docker/engine#181</a></li>
  <li>Now using original process spec for execs. <a href="https://github.com/docker/engine/pull/178">docker/engine#178</a></li>
</ul>

<h3 id="swarm-mode">Swarm Mode</h3>

<ul>
  <li>Fixed leaking task resources when nodes are deleted. <a href="https://github.com/docker/engine/pull/185">docker/engine#185</a></li>
</ul>

<h3 id="known-issues">Known Issues</h3>

<ul>
  <li>There are <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/upgrade">important changes</a> to the upgrade process that, if not correctly followed, can have an impact on the availability of applications running on the Swarm during upgrades. These constraints impact any upgrades coming from any version before 18.09 to version 18.09 or later.</li>
</ul>

<h2 id="18094">18.09.4</h2>

<p>2019-03-28</p>

<h3 id="builder-1">Builder</h3>

<ul>
  <li>Added validation for <code class="highlighter-rouge">git ref</code> to avoid misinterpretation as a flag. <a href="https://github.com/moby/moby/pull/38944">moby/moby#38944</a></li>
</ul>

<h3 id="runtime-1">Runtime</h3>

<ul>
  <li>Fixed <code class="highlighter-rouge">docker cp</code> error for filenames greater than 100 characters. <a href="https://github.com/moby/moby/pull/38634">moby/moby#38634</a></li>
  <li>Fixed <code class="highlighter-rouge">layer/layer_store</code> to ensure <code class="highlighter-rouge">NewInputTarStream</code> resources are released. <a href="https://github.com/moby/moby/pull/38413">moby/moby#38413</a></li>
  <li>Increased GRPC limit for <code class="highlighter-rouge">GetConfigs</code>. <a href="https://github.com/moby/moby/pull/38800">moby/moby#38800</a></li>
  <li>Updated <code class="highlighter-rouge">containerd</code> 1.2.5. <a href="https://github.com/docker/engine/pull/173">docker/engine#173</a></li>
</ul>

<h3 id="swarm-mode-1">Swarm Mode</h3>
<ul>
  <li>Fixed nil pointer exception when joining node to swarm. <a href="https://github.com/moby/moby/issues/38618">moby/moby#38618</a></li>
  <li>Fixed issue for swarm nodes not being able to join as masters if http proxy is set. [moby/moby#36951]</li>
</ul>

<h3 id="known-issues-1">Known Issues</h3>
<ul>
  <li>There are <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/upgrade">important changes to the upgrade process</a> that, if not correctly followed, can have impact on the availability of applications running on the Swarm during upgrades. These constraints impact any upgrades coming from any version before 18.09 to version 18.09 or later.</li>
</ul>

<h2 id="18093">18.09.3</h2>

<p>2019-02-28</p>

<h3 id="networking-fixes-for-docker-engine-ee-and-ce">Networking fixes for Docker Engine EE and CE</h3>
<ul>
  <li>Windows: now avoids regeneration of network IDs to prevent broken references to networks. <a href="https://github.com/docker/engine/pull/149">docker/engine#149</a></li>
  <li>Windows: Fixed an issue to address <code class="highlighter-rouge">- restart always</code> flag on standalone containers not working when specifying a network. (docker/escalation#1037)</li>
  <li>Fixed an issue to address the IPAM state from networkdb if the manager is not attached to the overlay network. (docker/escalation#1049)</li>
</ul>

<h3 id="runtime-fixes-and-updates-for-docker-engine-ee-and-ce">Runtime fixes and updates for Docker Engine EE and CE</h3>

<ul>
  <li>Updated to Go version 1.10.8.</li>
  <li>Modified names in the container name generator. <a href="https://github.com/docker/engine/pull/159">docker/engine#159</a></li>
  <li>When copying an existing folder, xattr set errors when the target filesystem doesn’t support xattr are now ignored. <a href="https://github.com/docker/engine/pull/135">docker/engine#135</a></li>
  <li>Graphdriver: fixed “device” mode not being detected if “character-device” bit is set. <a href="https://github.com/docker/engine/pull/160">docker/engine#160</a></li>
  <li>Fixed nil pointer derefence on failure to connect to containerd. <a href="https://github.com/docker/engine/pull/162">docker/engine#162</a></li>
  <li>Deleted stale containerd object on start failure. <a href="https://github.com/docker/engine/pull/154">docker/engine#154</a></li>
</ul>

<h3 id="known-issues-2">Known Issues</h3>
<ul>
  <li>There are <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/upgrade">important changes to the upgrade process</a> that, if not correctly followed, can have impact on the availability of applications running on the Swarm during upgrades. These constraints impact any upgrades coming from any version before 18.09 to version 18.09 or greater.</li>
</ul>

<h2 id="18092">18.09.2</h2>

<p>2019-02-11</p>

<h3 id="security-fixes-for-docker-engine---enterprise-and-docker-engine---community">Security fixes for Docker Engine - Enterprise and Docker Engine - Community</h3>
<ul>
  <li>Update <code class="highlighter-rouge">runc</code> to address a critical vulnerability that allows specially-crafted containers to gain administrative privileges on the host. <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-5736">CVE-2019-5736</a></li>
  <li>Ubuntu 14.04 customers using a 3.13 kernel will need to upgrade to a supported Ubuntu 4.x kernel</li>
</ul>

<p>For additional information, <a href="https://blog.docker.com/2019/02/docker-security-update-cve-2018-5736-and-container-security-best-practices/">refer to the Docker blog post</a>.</p>

<h3 id="known-issues-3">Known Issues</h3>
<ul>
  <li>There are <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/upgrade">important changes to the upgrade process</a> that, if not correctly followed, can have impact on the availability of applications running on the Swarm during upgrades. These constraints impact any upgrades coming from any version before 18.09 to version 18.09 or greater.</li>
</ul>

<h2 id="18091">18.09.1</h2>

<p>2019-01-09</p>

<h4 id="important-notes-about-this-release">Important notes about this release</h4>

<p>In Docker versions prior to 18.09, containerd was managed by the Docker engine daemon. In Docker Engine 18.09, containerd is managed by systemd. Since containerd is managed by systemd, any custom configuration to the <code class="highlighter-rouge">docker.service</code> systemd configuration which changes mount settings (for example, <code class="highlighter-rouge">MountFlags=slave</code>) breaks interactions between the Docker Engine daemon and containerd, and you will not be able to start containers.</p>

<p>Run the following command to get the current value of the <code class="highlighter-rouge">MountFlags</code> property for the <code class="highlighter-rouge">docker.service</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>systemctl show <span class="nt">--property</span><span class="o">=</span>MountFlags docker.service
<span class="nv">MountFlags</span><span class="o">=</span>
</code></pre></div></div>
<p>Update your configuration if this command prints a non-empty value for <code class="highlighter-rouge">MountFlags</code>, and restart the docker service.</p>

<h3 id="security-fixes-for-docker-engine-ee-and-ce">Security fixes for Docker Engine EE and CE</h3>
<ul>
  <li>Upgraded Go language to 1.10.6 to resolve <a href="https://nvd.nist.gov/vuln/detail/CVE-2018-16873">CVE-2018-16873</a>, <a href="https://nvd.nist.gov/vuln/detail/CVE-2018-16874">CVE-2018-16874</a>, and <a href="https://nvd.nist.gov/vuln/detail/CVE-2018-16875">CVE-2018-16875</a>.</li>
  <li>Fixed authz plugin for 0-length content and path validation.</li>
  <li>Added <code class="highlighter-rouge">/proc/asound</code> to masked paths <a href="https://github.com/docker/engine/pull/126">docker/engine#126</a></li>
</ul>

<h3 id="improvements-for-docker-engine-ee-and-ce">Improvements for Docker Engine EE and CE</h3>
<ul>
  <li>Updated to BuildKit 0.3.3 <a href="https://github.com/docker/engine/pull/122">docker/engine#122</a></li>
  <li>Updated to containerd 1.2.2 <a href="https://github.com/docker/engine/pull/144">docker/engine#144</a></li>
  <li>Provided additional warnings for use of deprecated legacy overlay and devicemapper storage drivers <a href="https://github.com/docker/engine/pull/85">docker/engine#85</a></li>
  <li>prune: perform image pruning before build cache pruning <a href="https://github.com/docker/cli/pull/1532">docker/cli#1532</a></li>
  <li>Added bash completion for experimental CLI commands (manifest) <a href="https://github.com/docker/cli/pull/1542">docker/cli#1542</a></li>
  <li>Windows: allow process isolation on Windows 10 <a href="https://github.com/docker/engine/pull/81">docker/engine#81</a></li>
</ul>

<h3 id="fixes-for-docker-engine-ee-and-ce">Fixes for Docker Engine EE and CE</h3>
<ul>
  <li>Disable kmem accounting in runc on RHEL/CentOS (docker/escalation#614, docker/escalation#692) <a href="https://github.com/docker/engine/pull/121">docker/engine#121</a></li>
  <li>Fixed inefficient networking configuration <a href="https://github.com/docker/engine/pull/123">docker/engine#123</a></li>
  <li>Fixed docker system prune doesn’t accept until filter <a href="https://github.com/docker/engine/pull/122">docker/engine#122</a></li>
  <li>Avoid unset credentials in <code class="highlighter-rouge">containerd</code> <a href="https://github.com/docker/engine/pull/122">docker/engine#122</a></li>
  <li>Fixed iptables compatibility on Debian <a href="https://github.com/docker/engine/pull/107">docker/engine#107</a></li>
  <li>Fixed setting default schema to tcp for docker host <a href="https://github.com/docker/cli/pull/1454">docker/cli#1454</a></li>
  <li>Fixed bash completion for <code class="highlighter-rouge">service update --force</code>  <a href="https://github.com/docker/cli/pull/1526">docker/cli#1526</a></li>
  <li>Windows: DetachVhd attempt in cleanup <a href="https://github.com/docker/engine/pull/113">docker/engine#113</a></li>
  <li>API: properly handle invalid JSON to return a 400 status <a href="https://github.com/docker/engine/pull/110">docker/engine#110</a></li>
  <li>API: ignore default address-pools on API &lt; 1.39 <a href="https://github.com/docker/engine/pull/118">docker/engine#118</a></li>
  <li>API: add missing default address pool fields to swagger <a href="https://github.com/docker/engine/pull/119">docker/engine#119</a></li>
  <li>awslogs: account for UTF-8 normalization in limits <a href="https://github.com/docker/engine/pull/112">docker/engine#112</a></li>
  <li>Prohibit reading more than 1MB in HTTP error responses <a href="https://github.com/docker/engine/pull/114">docker/engine#114</a></li>
  <li>apparmor: allow receiving of signals from <code class="highlighter-rouge">docker kill</code> <a href="https://github.com/docker/engine/pull/116">docker/engine#116</a></li>
  <li>overlay2: use index=off if possible (fix EBUSY on mount) <a href="https://github.com/docker/engine/pull/84">docker/engine#84</a></li>
</ul>

<h3 id="packaging">Packaging</h3>
<ul>
  <li>Add docker.socket requirement for docker.service. <a href="https://github.com/docker/docker-ce-packaging/pull/276">docker/docker-ce-packaging#276</a></li>
  <li>Add socket activation for RHEL-based distributions. <a href="https://github.com/docker/docker-ce-packaging/pull/274">docker/docker-ce-packaging#274</a></li>
  <li>Add libseccomp requirement for RPM packages. <a href="https://github.com/docker/docker-ce-packaging/pull/266">docker/docker-ce-packaging#266</a></li>
</ul>

<h3 id="known-issues-4">Known Issues</h3>
<ul>
  <li>When upgrading from 18.09.0 to 18.09.1, <code class="highlighter-rouge">containerd</code> is not upgraded to the correct version on Ubuntu.  <a href="https://success.docker.com/article/error-upgrading-to-engine-18091-with-containerd">Learn more</a>.</li>
  <li>There are <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/upgrade">important changes to the upgrade process</a> that, if not correctly followed, can have impact on the availability of applications running on the Swarm during upgrades. These constraints impact any upgrades coming from any version before 18.09 to version 18.09 or greater.</li>
</ul>

<h2 id="18090">18.09.0</h2>

<p>2018-11-08</p>

<h4 id="important-notes-about-this-release-1">Important notes about this release</h4>

<p>In Docker versions prior to 18.09, containerd was managed by the Docker engine daemon. In Docker Engine 18.09, containerd is managed by systemd. Since containerd is managed by systemd, any custom configuration to the <code class="highlighter-rouge">docker.service</code> systemd
configuration which changes mount settings (for example, <code class="highlighter-rouge">MountFlags=slave</code>) breaks interactions between the Docker Engine daemon and containerd, and you will not be able to start containers.</p>

<p>Run the following command to get the current value of the <code class="highlighter-rouge">MountFlags</code> property for the <code class="highlighter-rouge">docker.service</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>systemctl show <span class="nt">--property</span><span class="o">=</span>MountFlags docker.service
<span class="nv">MountFlags</span><span class="o">=</span>
</code></pre></div></div>

<p>Update your configuration if this command prints a non-empty value for <code class="highlighter-rouge">MountFlags</code>, and restart the docker service.</p>

<h3 id="new-features-for-docker-engine-ee">New features for Docker Engine EE</h3>

<ul>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/install/windows/docker-ee">FIPS Compliance added for Windows Server 2016 and later</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/engine/security/trust/content_trust">Docker Content Trust Enforcement</a> for the Enterprise Engine. This allows the Docker Engine - Enterprise to run containers not signed by a specific organization.</li>
</ul>

<h3 id="new-features-for-docker-engine-ee-and-ce">New features for Docker Engine EE and CE</h3>

<ul>
  <li>Updated API version to 1.39 <a href="https://github.com/moby/moby/pull/37640">moby/moby#37640</a></li>
  <li>Added support for remote connections using SSH <a href="https://github.com/docker/cli/pull/1014">docker/cli#1014</a></li>
  <li>Builder: added prune options to the API <a href="https://github.com/moby/moby/pull/37651">moby/moby#37651</a></li>
  <li>Added “Warnings” to <code class="highlighter-rouge">/info</code> endpoint, and move detection to the daemon <a href="https://github.com/moby/moby/pull/37502">moby/moby#37502</a></li>
  <li>Allows BuildKit builds to run without experimental mode enabled. Buildkit can now be configured with an option in daemon.json <a href="https://github.com/moby/moby/pull/37593">moby/moby#37593</a> <a href="https://github.com/moby/moby/pull/37686">moby/moby#37686</a> <a href="https://github.com/moby/moby/pull/37692">moby/moby#37692</a> <a href="https://github.com/docker/cli/pull/1303">docker/cli#1303</a>  <a href="https://github.com/docker/cli/pull/1275">docker/cli#1275</a></li>
  <li>Added support for build-time secrets using a <code class="highlighter-rouge">--secret</code> flag when using BuildKit <a href="https://github.com/docker/cli/pull/1288">docker/cli#1288</a></li>
  <li>Added SSH agent socket forwarder (<code class="highlighter-rouge">docker build --ssh $SSHMOUNTID=$SSH_AUTH_SOCK</code>) when using BuildKit <a href="https://github.com/docker/cli/pull/1438">docker/cli#1438</a> / <a href="https://github.com/docker/cli/pull/1419">docker/cli#1419</a></li>
  <li>Added <code class="highlighter-rouge">--chown</code> flag support for <code class="highlighter-rouge">ADD</code> and <code class="highlighter-rouge">COPY</code> commands on Windows <a href="https://github.com/moby/moby/pull/35521">moby/moby#35521</a></li>
  <li>Added <code class="highlighter-rouge">builder prune</code> subcommand to prune BuildKit build cache <a href="https://github.com/docker/cli/pull/1295">docker/cli#1295</a> <a href="https://github.com/docker/cli/pull/1334">docker/cli#1334</a></li>
  <li>BuildKit: Adds configurable garbage collection policy for the BuildKit build cache <a href="https://github.com/docker/engine/pull/59">docker/engine#59</a> / <a href="https://github.com/moby/moby/pull/37846">moby/moby#37846</a></li>
  <li>BuildKit: Adds support for <code class="highlighter-rouge">docker build --pull ...</code> when using BuildKit <a href="https://github.com/moby/moby/pull/37613">moby/moby#37613</a></li>
  <li>BuildKit: Adds support or “registry-mirrors” and “insecure-registries” when using BuildKit <a href="https://github.com/docker/engine/pull/59">docker/engine#59</a> / <a href="https://github.com/moby/moby/pull/37852">moby/moby#37852</a></li>
  <li>BuildKit: Enables net modes and bridge. <a href="https://github.com/moby/moby/pull/37620">moby/moby#37620</a></li>
  <li>Added <code class="highlighter-rouge">docker engine</code> subcommand to manage the lifecycle of a Docker Engine running as a privileged container on top of containerd, and to allow upgrades to Docker Engine Enterprise <a href="https://github.com/docker/cli/pull/1260">docker/cli#1260</a></li>
  <li>Exposed product license in <code class="highlighter-rouge">docker info</code> output <a href="https://github.com/docker/cli/pull/1313">docker/cli#1313</a></li>
  <li>Showed warnings produced by daemon in <code class="highlighter-rouge">docker info</code> output <a href="https://github.com/docker/cli/pull/1225">docker/cli#1225</a></li>
  <li>Added “local” log driver <a href="https://github.com/moby/moby/pull/37092">moby/moby#37092</a></li>
  <li>Amazon CloudWatch: adds <code class="highlighter-rouge">awslogs-endpoint</code> logging option <a href="https://github.com/moby/moby/pull/37374">moby/moby#37374</a></li>
  <li>Added support for global default address pools <a href="https://github.com/moby/moby/pull/37558">moby/moby#37558</a> <a href="https://github.com/docker/cli/pull/1233">docker/cli#1233</a></li>
  <li>Configured containerd log-level to be the same as dockerd <a href="https://github.com/moby/moby/pull/37419">moby/moby#37419</a></li>
  <li>Added configuration option for cri-containerd <a href="https://github.com/moby/moby/pull/37519">moby/moby#37519</a></li>
  <li>Updates containerd client to v1.2.0-rc.1 <a href="https://github.com/moby/moby/pull/37664">moby/moby#37664</a>, <a href="https://github.com/docker/engine/pull/75">docker/engine#75</a> / <a href="https://github.com/moby/moby/pull/37710">moby/moby#37710</a></li>
  <li>Added support for global default address pools <a href="https://github.com/moby/moby/pull/37558">moby/moby#37558</a> <a href="https://github.com/docker/cli/pull/1233">docker/cli#1233</a></li>
</ul>

<h3 id="improvements-for-docker-engine-ee-and-ce-1">Improvements for Docker Engine EE and CE</h3>

<ul>
  <li>Does not return “<code class="highlighter-rouge">&lt;unknown&gt;</code>” in /info response <a href="https://github.com/moby/moby/pull/37472">moby/moby#37472</a></li>
  <li>BuildKit: Changes <code class="highlighter-rouge">--console=[auto,false,true]</code> to <code class="highlighter-rouge">--progress=[auto,plain,tty]</code> <a href="https://github.com/docker/cli/pull/1276">docker/cli#1276</a></li>
  <li>BuildKit: Sets BuildKit’s ExportedProduct variable to show useful errors in the future. <a href="https://github.com/moby/moby/pull/37439">moby/moby#37439</a></li>
  <li>Hides <code class="highlighter-rouge">--data-path-addr</code> flags when connected to a daemon that doesn’t support this option <a href="https://github.com/docker/cli/pull/1240">docker/docker/cli#1240</a></li>
  <li>Only shows buildkit-specific flags if BuildKit is enabled <a href="https://github.com/docker/cli/pull/1438">docker/cli#1438</a> / <a href="https://github.com/docker/cli/pull/1427">docker/cli#1427</a></li>
  <li>Improves version output alignment <a href="https://github.com/docker/cli/pull/1204">docker/cli#1204</a></li>
  <li>Sorts plugin names and networks in a natural order <a href="https://github.com/docker/cli/pull/1166">docker/cli#1166</a>, <a href="https://github.com/docker/cli/pull/1266">docker/cli#1266</a></li>
  <li>Updates bash and zsh <a href="https://github.com/docker/cli/issues?q=label%3Aarea%2Fcompletion+milestone%3A18.09.0+is%3Aclosed">completion scripts</a></li>
  <li>Passes log-level to containerd. <a href="https://github.com/moby/moby/pull/37419">moby/moby#37419</a></li>
  <li>Uses direct server return (DSR) in east-west overlay load balancing <a href="https://github.com/docker/engine/pull/93">docker/engine#93</a> / <a href="https://github.com/docker/libnetwork/pull/2270">docker/libnetwork#2270</a></li>
  <li>Builder: temporarily disables bridge networking when using buildkit. <a href="https://github.com/moby/moby/pull/37691">moby/moby#37691</a></li>
  <li>Blocks task starting until node attachments are ready <a href="https://github.com/moby/moby/pull/37604">moby/moby#37604</a></li>
  <li>Propagates the provided external CA certificate to the external CA object in swarm. <a href="https://github.com/docker/cli/pull/1178">docker/cli#1178</a></li>
  <li>Removes Ubuntu 14.04 “Trusty Tahr” as a supported platform <a href="https://github.com/docker/docker-ce-packaging/pull/255">docker-ce-packaging#255</a> / <a href="https://github.com/docker/docker-ce-packaging/pull/254">docker-ce-packaging#254</a></li>
  <li>Removes Debian 8 “Jessie” as a supported platform <a href="https://github.com/docker/docker-ce-packaging/pull/255">docker-ce-packaging#255</a> / <a href="https://github.com/docker/docker-ce-packaging/pull/254">docker-ce-packaging#254</a></li>
  <li>Removes ‘docker-‘ prefix for containerd and runc binaries <a href="https://github.com/docker/engine/pull/61">docker/engine#61</a> / <a href="https://github.com/moby/moby/pull/37907">moby/moby#37907</a>, <a href="https://github.com/docker/docker-ce-packaging/pull/241">docker-ce-packaging#241</a></li>
  <li>Splits “engine”, “cli”, and “containerd” to separate packages, and run containerd as a separate systemd service <a href="https://github.com/docker/docker-ce-packaging/pull/131">docker-ce-packaging#131</a>, <a href="https://github.com/docker/docker-ce-packaging/pull/158">docker-ce-packaging#158</a></li>
  <li>Builds binaries with Go 1.10.4 <a href="https://github.com/docker/docker-ce-packaging/pull/181">docker-ce-packaging#181</a></li>
  <li>Removes <code class="highlighter-rouge">-ce</code> / <code class="highlighter-rouge">-ee</code> suffix from version string <a href="https://github.com/docker/docker-ce-packaging/pull/206">docker-ce-packaging#206</a></li>
</ul>

<h3 id="fixes-for-docker-engine-ee-and-ce-1">Fixes for Docker Engine EE and CE</h3>

<ul>
  <li>BuildKit: Do not cancel buildkit status request. <a href="https://github.com/moby/moby/pull/37597">moby/moby#37597</a></li>
  <li>Fixes no error is shown if build args are missing during docker build <a href="https://github.com/moby/moby/pull/37396">moby/moby#37396</a></li>
  <li>Fixes error “unexpected EOF” when adding an 8GB file <a href="https://github.com/moby/moby/pull/37771">moby/moby#37771</a></li>
  <li>LCOW: Ensures platform is populated on <code class="highlighter-rouge">COPY</code>/<code class="highlighter-rouge">ADD</code>. <a href="https://github.com/moby/moby/pull/37563">moby/moby#37563</a></li>
  <li>Fixes mapping a range of host ports to a single container port <a href="https://github.com/docker/cli/pull/1102">docker/cli#1102</a></li>
  <li>Fixes <code class="highlighter-rouge">trust inspect</code> typo: “<code class="highlighter-rouge">AdminstrativeKeys</code>” <a href="https://github.com/docker/cli/pull/1300">docker/cli#1300</a></li>
  <li>Fixes environment file parsing for imports of absent variables and those with no name. <a href="https://github.com/docker/cli/pull/1019">docker/cli#1019</a></li>
  <li>Fixes a potential “out of memory exception” when running <code class="highlighter-rouge">docker image prune</code> with a large list of dangling images <a href="https://github.com/docker/cli/pull/1432">docker/cli#1432</a> / <a href="https://github.com/docker/cli/pull/1423">docker/cli#1423</a></li>
  <li>Fixes pipe handling in ConEmu and ConsoleZ on Windows <a href="https://github.com/moby/moby/pull/37600">moby/moby#37600</a></li>
  <li>Fixes long startup on windows, with non-hns governed Hyper-V networks <a href="https://github.com/docker/engine/pull/67">docker/engine#67</a> / <a href="https://github.com/moby/moby/pull/37774">moby/moby#37774</a></li>
  <li>Fixes daemon won’t start when “runtimes” option is defined both in config file and cli <a href="https://github.com/docker/engine/pull/57">docker/engine#57</a> / <a href="https://github.com/moby/moby/pull/37871">moby/moby#37871</a></li>
  <li>Loosens permissions on <code class="highlighter-rouge">/etc/docker</code> directory to prevent “permission denied” errors when using <code class="highlighter-rouge">docker manifest inspect</code> <a href="https://github.com/docker/engine/pull/56">docker/engine#56</a> / <a href="https://github.com/moby/moby/pull/37847">moby/moby#37847</a></li>
  <li>Fixes denial of service with large numbers in <code class="highlighter-rouge">cpuset-cpus</code> and <code class="highlighter-rouge">cpuset-mems</code> <a href="https://github.com/docker/engine/pull/70">docker/engine#70</a> / <a href="https://github.com/moby/moby/pull/37967">moby/moby#37967</a></li>
  <li>LCOW: Add <code class="highlighter-rouge">--platform</code> to <code class="highlighter-rouge">docker import</code> <a href="https://github.com/docker/cli/pull/1375">docker/cli#1375</a> / <a href="https://github.com/docker/cli/pull/1371">docker/cli#1371</a></li>
  <li>LCOW: Add LinuxMetadata support by default on Windows <a href="https://github.com/moby/moby/pull/37514">moby/moby#37514</a></li>
  <li>LCOW: Mount to short container paths to avoid command-line length limit <a href="https://github.com/moby/moby/pull/37659">moby/moby#37659</a></li>
  <li>LCOW: Fix builder using wrong cache layer <a href="https://github.com/moby/moby/pull/37356">moby/moby#37356</a></li>
  <li>Fixes json-log file descriptors leaking when using <code class="highlighter-rouge">--follow</code> <a href="https://github.com/docker/engine/pull/48">docker/engine#48</a> <a href="https://github.com/moby/moby/pull/37576">moby/moby#37576</a> <a href="https://github.com/moby/moby/pull/37734">moby/moby#37734</a></li>
  <li>Fixes a possible deadlock on closing the watcher on kqueue <a href="https://github.com/moby/moby/pull/37392">moby/moby#37392</a></li>
  <li>Uses poller based watcher to work around the file caching issue in Windows <a href="https://github.com/moby/moby/pull/37412">moby/moby#37412</a></li>
  <li>Handles systemd-resolved case by providing appropriate resolv.conf to networking layer <a href="https://github.com/moby/moby/pull/37485">moby/moby#37485</a></li>
  <li>Removes support for TLS &lt; 1.2 <a href="https://github.com/moby/moby/pull/37660">moby/moby#37660</a></li>
  <li>Seccomp: Whitelist syscalls linked to <code class="highlighter-rouge">CAP_SYS_NICE</code> in default seccomp profile <a href="https://github.com/moby/moby/pull/37242">moby/moby#37242</a></li>
  <li>Seccomp: move the syslog syscall to be gated by <code class="highlighter-rouge">CAP_SYS_ADMIN</code> or <code class="highlighter-rouge">CAP_SYSLOG</code> <a href="https://github.com/docker/engine/pull/64">docker/engine#64</a> / <a href="https://github.com/moby/moby/pull/37929">moby/moby#37929</a></li>
  <li>SELinux: Fix relabeling of local volumes specified via Mounts API on selinux-enabled systems <a href="https://github.com/moby/moby/pull/37739">moby/moby#37739</a></li>
  <li>Adds warning if REST API is accessible through an insecure connection <a href="https://github.com/moby/moby/pull/37684">moby/moby#37684</a></li>
  <li>Masks proxy credentials from URL when displayed in system info <a href="https://github.com/docker/engine/pull/72">docker/engine#72</a> / <a href="https://github.com/moby/moby/pull/37934">moby/moby#37934</a></li>
  <li>Fixes mount propagation for btrfs <a href="https://github.com/docker/engine/pull/86">docker/engine#86</a> / <a href="https://github.com/moby/moby/pull/38026">moby/moby#38026</a></li>
  <li>Fixes nil pointer dereference in node allocation <a href="https://github.com/docker/engine/pull/94">docker/engine#94</a> / <a href="https://github.com/docker/swarmkit/pull/2764">docker/swarmkit#2764</a></li>
</ul>

<h3 id="known-issues-5">Known Issues</h3>

<ul>
  <li>There are <a href="https://matsuand.github.io/docs.docker.jp.onthefly/ee/upgrade">important changes to the upgrade process</a> that, if not correctly followed, can have impact on the availability of applications running on the Swarm during upgrades. These constraints impact any upgrades coming from any version before 18.09 to version 18.09 or greater.</li>
  <li>
    <p>With https://github.com/boot2docker/boot2docker/releases/download/v18.09.0/boot2docker.iso, connection is being refused from a node on the virtual machine. Any publishing of swarm ports in virtualbox-created docker-machine VM’s will not respond. This is occurring on macOS and Windows 10, using docker-machine version 0.15 and 0.16.</p>

    <p>The following <code class="highlighter-rouge">docker run</code> command works, allowing access from host browser:</p>

    <p><code class="highlighter-rouge">docker run -d -p 4000:80 nginx</code></p>

    <p>However, the following <code class="highlighter-rouge">docker service</code> command fails, resulting in curl/chrome unable to connect (connection refused):</p>

    <p><code class="highlighter-rouge">docker service create -p 5000:80 nginx</code></p>

    <p>This issue is not apparent when provisioning 18.09.0 cloud VM’s using docker-machine.</p>

    <p>Workarounds:</p>
    <ul>
      <li>Use cloud VM’s that don’t rely on boot2docker.</li>
      <li><code class="highlighter-rouge">docker run</code> is unaffected.</li>
      <li>For Swarm, set VIRTUALBOX_BOOT2DOCKER_URL=https://github.com/boot2docker/boot2docker/releases/download/v18.06.1-ce/boot2docker.iso.</li>
    </ul>

    <p>This issue is resolved in 18.09.1.</p>
  </li>
</ul>

<h3 id="deprecation-notice">Deprecation Notice</h3>

<p>As of EE 2.1, Docker has deprecated support for Device Mapper as a storage driver. It will continue to be supported at this
time, but support will be removed in a future release. Docker will continue to support Device Mapper for existing
EE 2.0 and 2.1 customers. Please contact Sales for more information.</p>

<p>Docker recommends that existing customers <a href="https://success.docker.com/article/how-do-i-migrate-an-existing-ucp-cluster-to-the-overlay2-graph-driver">migrate to using Overlay2 for the storage driver</a>.
The <a href="https://matsuand.github.io/docs.docker.jp.onthefly/storage/storagedriver/overlayfs-driver/">Overlay2 storage driver</a> is now the
default for Docker engine implementations.</p>

<p>For more information on the list of deprecated flags and APIs, have a look at the <a href="https://matsuand.github.io/docs.docker.jp.onthefly/engine/deprecated/">deprecation information</a> where you can find the target removal dates.</p>

<h3 id="end-of-life-notification">End of Life Notification</h3>

<p>In this release, Docker has also removed support for TLS &lt; 1.2 <a href="https://github.com/moby/moby/pull/37660">moby/moby#37660</a>,
Ubuntu 14.04 “Trusty Tahr” <a href="https://github.com/docker/docker-ce-packaging/pull/255">docker-ce-packaging#255</a> / <a href="https://github.com/docker/docker-ce-packaging/pull/254">docker-ce-packaging#254</a>, and Debian 8 “Jessie” <a href="https://github.com/docker/docker-ce-packaging/pull/255">docker-ce-packaging#255</a> / <a href="https://github.com/docker/docker-ce-packaging/pull/254">docker-ce-packaging#254</a>.</p>

<h2 id="older-docker-engine-ee-release-notes">Older Docker Engine EE Release notes</h2>

<h2 id="18031-ee-8">18.03.1-ee-8</h2>

<p>2019-03-28</p>

<h3 id="builder-2">Builder</h3>

<ul>
  <li>Added validation for <code class="highlighter-rouge">git ref</code> to avoid misinterpreation as a flag. <a href="https://github.com/moby/moby/pull/38944">moby/moby#38944</a></li>
</ul>

<h3 id="runtime-2">Runtime</h3>

<ul>
  <li>Fixed <code class="highlighter-rouge">docker cp</code> error for filenames greater than 100 characters. [moby/moby#38634]</li>
  <li>Fixed <code class="highlighter-rouge">layer/layer_store</code> to ensure <code class="highlighter-rouge">NewInputTarStream</code> resources are released. [moby/moby#38413]</li>
</ul>

<h3 id="swarm-mode-2">Swarm Mode</h3>

<ul>
  <li>Fixed issue for swarm nodes not being able to join as masters if http proxy is set. [moby/moby#36951]</li>
</ul>

<h2 id="18031-ee-7">18.03.1-ee-7</h2>

<p>2019-02-28</p>

<h3 id="runtime-3">Runtime</h3>

<ul>
  <li>Updated to Go version 1.10.8.</li>
  <li>Updated to containerd version 1.1.6.</li>
  <li>When copying existing folder, xattr set errors when the target filesystem doesn’t support xattr are now ignored. <a href="https://github.com/moby/moby/pull/38316">moby/moby#38316</a></li>
  <li>Fixed FIFO, sockets, and device files in userns, and fixed device mode not being detected. <a href="https://github.com/moby/moby/pull/38758">moby/moby#38758</a></li>
  <li>Deleted stale containerd object on start failure. <a href="https://github.com/moby/moby/pull/38364">moby/moby#38364</a></li>
</ul>

<h2 id="18031-ee-7-1">18.03.1-ee-7</h2>
<p>2019-02-28</p>

<h3 id="bug-fixes">Bug fixes</h3>
<ul>
  <li>Fixed an issue to address the IPAM state from networkdb if manager is not attached to the overlay network. (docker/escalation#1049)</li>
</ul>

<h2 id="18031-ee-6">18.03.1-ee-6</h2>
<p>2019-02-11</p>

<h3 id="security-fixes-for-docker-engine---enterprise">Security fixes for Docker Engine - Enterprise</h3>
<ul>
  <li>Update <code class="highlighter-rouge">runc</code> to address a critical vulnerability that allows specially-crafted containers to gain administrative privileges on the host. <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-5736">CVE-2019-5736</a></li>
  <li>Ubuntu 14.04 customers using a 3.13 kernel will need to upgrade to a supported Ubuntu 4.x kernel</li>
</ul>

<h2 id="18031-ee-5">18.03.1-ee-5</h2>
<p>2019-01-09</p>

<h3 id="security-fixes">Security fixes</h3>
<ul>
  <li>Upgraded Go language to 1.10.6 to resolve CVE-2018-16873, CVE-2018-16874, and CVE-2018-16875.</li>
  <li>Added <code class="highlighter-rouge">/proc/asound</code> to masked paths</li>
  <li>Fixed authz plugin for 0-length content and path validation.</li>
</ul>

<h3 id="fixes-for-docker-engine---enterprise">Fixes for Docker Engine - Enterprise</h3>
<ul>
  <li>Disable kmem accounting in runc on RHEL/CentOS (docker/escalation#614, docker/escalation#692)</li>
  <li>Fix resource leak on <code class="highlighter-rouge">docker logs --follow</code> <a href="https://github.com/moby/moby/pull/37576">moby/moby#37576</a></li>
  <li>Mask proxy credentials from URL when displayed in system info (docker/escalation#879)</li>
</ul>

<h2 id="18031-ee-4">18.03.1-ee-4</h2>

<p>2018-10-25</p>

<blockquote>
  <p><strong>Note</strong>: If you’re deploying UCP or DTR, use Docker EE Engine 18.09 or higher. 18.03 is an engine only release.</p>
</blockquote>

<p>#### Client</p>

<ul>
  <li>Fixed help message flags on docker stack commands and child commands. <a href="https://github.com/docker/cli/pull/1251">docker/cli#1251</a></li>
  <li>Fixed typo breaking zsh docker update autocomplete. <a href="https://github.com/docker/cli/pull/1232">docker/cli#1232</a></li>
</ul>

<p>### Networking</p>

<ul>
  <li>Added optimizations to reduce the messages in the NetworkDB queue. <a href="https://github.com/docker/libnetwork/pull/2225">docker/libnetwork#2225</a></li>
  <li>Fixed a very rare condition where managers are not correctly triggering the reconnection logic. <a href="https://github.com/docker/libnetwork/pull/2226">docker/libnetwork#2226</a></li>
  <li>Changed loglevel from error to warning for missing disable_ipv6 file. <a href="https://github.com/docker/libnetwork/pull/2224">docker/libnetwork#2224</a></li>
</ul>

<p>#### Runtime</p>

<ul>
  <li>Fixed denial of service with large numbers in cpuset-cpus and cpuset-mems. <a href="https://github.com/moby/moby/pull/37967">moby/moby#37967</a></li>
  <li>Added stability improvements for devicemapper shutdown. <a href="https://github.com/moby/moby/pull/36307">moby/moby#36307</a> <a href="https://github.com/moby/moby/pull/36438">moby/moby#36438</a></li>
</ul>

<p>#### Swarm Mode</p>

<ul>
  <li>Fixed the logic used for skipping over running tasks. <a href="https://github.com/docker/swarmkit/pull/2724">docker/swarmkit#2724</a></li>
  <li>Addressed unassigned task leak when a service is removed. <a href="https://github.com/docker/swarmkit/pull/2709">docker/swarmkit#2709</a></li>
</ul>

<h2 id="18031-ee-3">18.03.1-ee-3</h2>
<p>2018-08-30</p>

<h4 id="builder-3">Builder</h4>

<ul>
  <li>Fix: no error if build args are missing during docker build. <a href="https://github.com/docker/engine/pull/25">docker/engine#25</a></li>
  <li>Ensure RUN instruction to run without healthcheck. <a href="https://github.com/moby/moby/pull/37413">moby/moby#37413</a></li>
</ul>

<h4 id="client-1">Client</h4>

<ul>
  <li>Fix manifest list to always use correct size. <a href="https://github.com/docker/cli/pull/1156">docker/cli#1156</a></li>
  <li>Various shell completion script updates. <a href="https://github.com/docker/cli/pull/1159">docker/cli#1159</a> <a href="https://github.com/docker/cli/pull/1227">docker/cli#1227</a></li>
  <li>Improve version output alignment. <a href="https://github.com/docker/cli/pull/1204">docker/cli#1204</a></li>
</ul>

<h4 id="runtime-4">Runtime</h4>

<ul>
  <li>Disable CRI plugin listening on port 10010 by default. <a href="https://github.com/docker/engine/pull/29">docker/engine#29</a></li>
  <li>Update containerd to v1.1.2. <a href="https://github.com/docker/engine/pull/33">docker/engine#33</a></li>
  <li>Windows: Pass back system errors on container exit. <a href="https://github.com/moby/moby/pull/35967">moby/moby#35967</a></li>
  <li>Windows: Fix named pipe support for hyper-v isolated containers. <a href="https://github.com/docker/engine/pull/2">docker/engine#2</a> <a href="https://github.com/docker/cli/pull/1165">docker/cli#1165</a></li>
  <li>Register OCI media types. <a href="https://github.com/docker/engine/pull/4">docker/engine#4</a></li>
</ul>

<h4 id="swarm-mode-3">Swarm Mode</h4>

<ul>
  <li>Clean up tasks in dirty list for which the service has been deleted. <a href="https://github.com/docker/swarmkit/pull/2694">docker/swarmkit#2694</a></li>
  <li>Propagate the provided external CA certificate to the external CA object in swarm. <a href="https://github.com/docker/cli/pull/1178">docker/cli#1178</a></li>
</ul>

<h2 id="18031-ee-2">18.03.1-ee-2</h2>
<p>2018-07-10</p>

<blockquote class="important">
  <h4 id="important-notes-about-this-release-2">Important notes about this release</h4>

  <p>If you’re deploying UCP or DTR, use Docker Engine EE <code class="highlighter-rouge">17.06</code> or <code class="highlighter-rouge">18.09</code>. See <a href="https://success.docker.com/article/compatibility-matrix">Docker Compatibility Matrix</a> for more information.</p>
</blockquote>

<h4 id="runtime-5">Runtime</h4>

<ul>
  <li>Add /proc/acpi to masked paths <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=2018-10892">(CVE-2018-10892)</a>. <a href="https://github.com/moby/moby/pull/37404">moby/moby#37404</a></li>
</ul>

<h2 id="18031-ee-1">18.03.1-ee-1</h2>
<p>2018-06-27</p>

<blockquote class="important">
  <h4 id="important-notes-about-this-release-3">Important notes about this release</h4>

  <p>If you’re deploying UCP or DTR, use Docker Engine EE <code class="highlighter-rouge">17.06</code> or <code class="highlighter-rouge">18.09</code>. See <a href="https://success.docker.com/article/compatibility-matrix">Docker Compatibility Matrix</a> for more information.</p>
</blockquote>

<h4 id="client-2">Client</h4>

<ul>
  <li>Update to docker-ce 18.03.1 client.</li>
  <li>Add <code class="highlighter-rouge">docker trust</code> command for image signing and enabling the secure supply chain from development to deployment.</li>
  <li>Add docker compose on Kubernetes.</li>
</ul>

<h4 id="runtime-6">Runtime</h4>

<ul>
  <li>Update to docker-ce 18.03.1 engine.</li>
  <li>Add support for FIPS 140-2 on x86_64.</li>
  <li>Add support for Microsoft Windows Server 1709 and 1803 with support for <a href="https://matsuand.github.io/docs.docker.jp.onthefly/engine/swarm/ingress/">swarm ingress routing mesh</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.09/engine/swarm/networking/#configure-service-discovery">VIP service discovery</a>, and <a href="https://blog.docker.com/2017/09/docker-windows-server-1709/">named pipe mounting</a>.</li>
  <li>Add support for Ubuntu 18.04.</li>
  <li>Windows opt-out telemetry stream.</li>
  <li>Support for <code class="highlighter-rouge">--chown</code> with <code class="highlighter-rouge">COPY</code> and <code class="highlighter-rouge">ADD</code> in <code class="highlighter-rouge">Dockerfile</code>.</li>
  <li>Added functionality for the <code class="highlighter-rouge">docker logs</code> command to include the output of multiple logging drivers.</li>
</ul>

<h2 id="17062-ee-21">17.06.2-ee-21</h2>
<p>2019-04-11</p>

<h3 id="builder-4">Builder</h3>

<ul>
  <li>Added validation for git ref so it can’t be misinterpreted as a flag. <a href="https://github.com/moby/moby/pull/38944">moby/moby#38944</a></li>
</ul>

<h3 id="runtime-7">Runtime</h3>

<ul>
  <li>Fixed <code class="highlighter-rouge">docker cp</code> error with filenames greater than 100 characters. <a href="https://github.com/moby/moby/pull/38634">moby/moby#38634</a></li>
  <li>Removed temporary hot-fix and applied latest upstream patches for CVE-2019-5736. <a href="https://github.com/docker/runc/pull/9">docker/runc#9</a></li>
  <li>Fixed rootfs: umount all procfs and sysfs with <code class="highlighter-rouge">--no-pivot</code>. <a href="https://github.com/docker/runc/pull/10">docker/runc#10</a></li>
</ul>

<h2 id="17062-ee-20">17.06.2-ee-20</h2>
<p>2019-02-28</p>

<h3 id="bug-fixes-1">Bug fixes</h3>
<ul>
  <li>Fixed an issue to address the IPAM state from networkdb if manager is not attached to the overlay network. (docker/escalation#1049)</li>
</ul>

<h3 id="runtime-8">Runtime</h3>

<ul>
  <li>Updated to Go version 1.10.8.</li>
  <li>Added cgroup namespace support. <a href="https://github.com/docker/runc/pull/7">docker/runc#7</a></li>
</ul>

<h3 id="windows">Windows</h3>

<ul>
  <li>Fixed <code class="highlighter-rouge">failed to register layer</code> bug on <code class="highlighter-rouge">docker pull</code> of windows images.</li>
</ul>

<h4 id="known-issues-6">Known issues</h4>

<ul>
  <li>When all Swarm managers are stopped at the same time, the swarm might end up in a
split-brain scenario. <a href="https://success.docker.com/article/KB000759">Learn more</a>.</li>
  <li>Under certain conditions, swarm leader re-election may timeout
prematurely. During this period, docker commands may fail. Also during
this time, creation of globally-scoped networks may be unstable. As a
workaround, wait for leader election to complete before issuing commands
to the cluster.</li>
  <li>It’s recommended that users create overlay networks with <code class="highlighter-rouge">/24</code> blocks (the default) of 256 IP addresses when networks are used by services created using VIP-based endpoint-mode (the default). This is because of limitations with Docker Swarm <a href="moby/moby/issues/30820">moby/moby#30820</a>. Users should <em>not</em> work around this by increasing the IP block size. To work around this limitation, either use <code class="highlighter-rouge">dnsrr</code> endpoint-mode or use multiple smaller overlay networks.</li>
  <li>Docker may experience IP exhaustion if many tasks are assigned to a single overlay network, for example if many services are attached to that network or because services on the network are scaled to many replicas. The problem may also manifest when tasks are rescheduled because of node failures. In case of node failure, Docker currently waits 24h to release overlay IP addresses. The problem can be diagnosed by looking for <code class="highlighter-rouge">failed to allocate network IP for task</code> messages in the Docker logs.</li>
  <li>SELinux enablement is not supported for containers on IBM Z on RHEL because of missing Red Hat package.</li>
  <li>If a container is spawned on node A, using the same IP of a container destroyed
on nodeB within 5 min from the time that it exit, the container on node A is
not reachable until one of these 2 conditions happens:</li>
</ul>

<ol>
  <li>Container on A sends a packet out,</li>
  <li>The timer that cleans the arp entry in the overlay namespace is triggered (around 5 minutes).</li>
</ol>

<p>As a workaround, send at least a packet out from each container like
(ping, GARP, etc).</p>

<h2 id="17062-ee-19">17.06.2-ee-19</h2>

<p>2019-02-11</p>

<h3 id="security-fixes-for-docker-engine---enterprise-1">Security fixes for Docker Engine - Enterprise</h3>
<ul>
  <li>Update <code class="highlighter-rouge">runc</code> to address a critical vulnerability that allows specially-crafted containers to gain administrative privileges on the host. <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-5736">CVE-2019-5736</a></li>
  <li>Ubuntu 14.04 customers using a 3.13 kernel will need to upgrade to a supported Ubuntu 4.x kernel</li>
</ul>

<h4 id="known-issues-7">Known issues</h4>

<ul>
  <li>When all Swarm managers are stopped at the same time, the swarm might end up in a
split-brain scenario. <a href="https://success.docker.com/article/KB000759">Learn more</a>.</li>
  <li>Under certain conditions, swarm leader re-election may timeout
prematurely. During this period, docker commands may fail. Also during
this time, creation of globally-scoped networks may be unstable. As a
workaround, wait for leader election to complete before issuing commands
to the cluster.</li>
  <li>It’s recommended that users create overlay networks with <code class="highlighter-rouge">/24</code> blocks (the default) of 256 IP addresses when networks are used by services created using VIP-based endpoint-mode (the default). This is because of limitations with Docker Swarm <a href="moby/moby/issues/30820">moby/moby#30820</a>. Users should <em>not</em> work around this by increasing the IP block size. To work around this limitation, either use <code class="highlighter-rouge">dnsrr</code> endpoint-mode or use multiple smaller overlay networks.</li>
  <li>Docker may experience IP exhaustion if many tasks are assigned to a single overlay network, for example if many services are attached to that network or because services on the network are scaled to many replicas. The problem may also manifest when tasks are rescheduled because of node failures. In case of node failure, Docker currently waits 24h to release overlay IP addresses. The problem can be diagnosed by looking for <code class="highlighter-rouge">failed to allocate network IP for task</code> messages in the Docker logs.</li>
  <li>SELinux enablement is not supported for containers on IBM Z on RHEL because of missing Red Hat package.</li>
  <li>If a container is spawned on node A, using the same IP of a container destroyed
on nodeB within 5 min from the time that it exit, the container on node A is
not reachable until one of these 2 conditions happens:</li>
</ul>

<ol>
  <li>Container on A sends a packet out,</li>
  <li>The timer that cleans the arp entry in the overlay namespace is triggered (around 5 minutes).</li>
</ol>

<p>As a workaround, send at least a packet out from each container like
(ping, GARP, etc).</p>

<h2 id="17062-ee-18">17.06.2-ee-18</h2>
<p>2019-01-09</p>

<h3 id="security-fixes-1">Security fixes</h3>
<ul>
  <li>Upgraded Go language to 1.10.6 to resolve CVE-2018-16873, CVE-2018-16874, and CVE-2018-16875.</li>
  <li>Added <code class="highlighter-rouge">/proc/asound</code> to masked paths</li>
  <li>Fixed authz plugin for 0-length content and path validation.</li>
</ul>

<h3 id="fixes-for-docker-engine-ee">Fixes for Docker Engine EE</h3>
<ul>
  <li>Disable kmem accounting in runc on RHEL/CentOS (docker/escalation#614, docker/escalation#692)</li>
  <li>Fix resource leak on <code class="highlighter-rouge">docker logs --follow</code> <a href="https://github.com/moby/moby/pull/37576">moby/moby#37576</a></li>
  <li>Mask proxy credentials from URL when displayed in system info (docker/escalation#879)</li>
</ul>

<h4 id="known-issues-8">Known issues</h4>

<ul>
  <li>When all Swarm managers are stopped at the same time, the swarm might end up in a
split-brain scenario. <a href="https://success.docker.com/article/KB000759">Learn more</a>.</li>
  <li>Under certain conditions, swarm leader re-election may timeout
prematurely. During this period, docker commands may fail. Also during
this time, creation of globally-scoped networks may be unstable. As a
workaround, wait for leader election to complete before issuing commands
to the cluster.</li>
  <li>It’s recommended that users create overlay networks with <code class="highlighter-rouge">/24</code> blocks (the default) of 256 IP addresses when networks are used by services created using VIP-based endpoint-mode (the default). This is because of limitations with Docker Swarm <a href="moby/moby/issues/30820">moby/moby#30820</a>. Users should <em>not</em> work around this by increasing the IP block size. To work around this limitation, either use <code class="highlighter-rouge">dnsrr</code> endpoint-mode or use multiple smaller overlay networks.</li>
  <li>Docker may experience IP exhaustion if many tasks are assigned to a single overlay network, for example if many services are attached to that network or because services on the network are scaled to many replicas. The problem may also manifest when tasks are rescheduled because of node failures. In case of node failure, Docker currently waits 24h to release overlay IP addresses. The problem can be diagnosed by looking for <code class="highlighter-rouge">failed to allocate network IP for task</code> messages in the Docker logs.</li>
  <li>SELinux enablement is not supported for containers on IBM Z on RHEL because of missing Red Hat package.</li>
  <li>If a container is spawned on node A, using the same IP of a container destroyed
on nodeB within 5 min from the time that it exit, the container on node A is
not reachable until one of these 2 conditions happens:</li>
</ul>

<ol>
  <li>Container on A sends a packet out,</li>
  <li>The timer that cleans the arp entry in the overlay namespace is triggered (around 5 minutes).</li>
</ol>

<p>As a workaround, send at least a packet out from each container like
(ping, GARP, etc).</p>

<h2 id="17062-ee-17">17.06.2-ee-17</h2>
<p>2018-10-25</p>

<h4 id="networking-1">Networking</h4>

<ul>
  <li>Changed loglevel from error to warning for missing disable_ipv6 file. <a href="https://github.com/docker/libnetwork/pull/2223">docker/libnetwork#2223</a></li>
  <li>Fixed subnet allocation to avoid reallocating recently freed subnets. <a href="https://github.com/docker/libnetwork/pull/2255">docker/libnetwork#2255</a></li>
  <li>Fixed libnetwork issue which caused errors to be returned when iptables or firewalld issues transient warnings. <a href="https://github.com/docker/libnetwork/pull/2218">docker/libnetwork#2218</a></li>
</ul>

<h4 id="plugins">Plugins</h4>

<ul>
  <li>Fixed too many “Plugin not found” error messages. <a href="https://github.com/moby/moby/pull/36119">moby/moby#36119</a></li>
</ul>

<h4 id="swarm-mode-4">Swarm mode</h4>

<ul>
  <li>Added failed allocations retry immediately upon a deallocation to overcome IP exhaustion. <a href="https://github.com/docker/swarmkit/pull/2711">docker/swarmkit#2711</a></li>
  <li>Fixed leaking task resources. <a href="https://github.com/docker/swarmkit/pull/2755">docker/swarmkit#2755</a></li>
  <li>Fixed deadlock in dispatcher that could cause node to crash. <a href="https://github.com/docker/swarmkit/pull/2753">docker/swarmkit#2753</a></li>
</ul>

<h4 id="known-issues-9">Known issues</h4>

<ul>
  <li>When all Swarm managers are stopped at the same time, the swarm might end up in a
split-brain scenario. <a href="https://success.docker.com/article/KB000759">Learn more</a>.</li>
  <li>Under certain conditions, swarm leader re-election may timeout
prematurely. During this period, docker commands may fail. Also during
this time, creation of globally-scoped networks may be unstable. As a
workaround, wait for leader election to complete before issuing commands
to the cluster.</li>
  <li>It’s recommended that users create overlay networks with <code class="highlighter-rouge">/24</code> blocks (the default) of 256 IP addresses when networks are used by services created using VIP-based endpoint-mode (the default). This is because of limitations with Docker Swarm <a href="moby/moby/issues/30820">moby/moby#30820</a>. Users should <em>not</em> work around this by increasing the IP block size. To work around this limitation, either use <code class="highlighter-rouge">dnsrr</code> endpoint-mode or use multiple smaller overlay networks.</li>
  <li>Docker may experience IP exhaustion if many tasks are assigned to a single overlay network, for example if many services are attached to that network or because services on the network are scaled to many replicas. The problem may also manifest when tasks are rescheduled because of node failures. In case of node failure, Docker currently waits 24h to release overlay IP addresses. The problem can be diagnosed by looking for <code class="highlighter-rouge">failed to allocate network IP for task</code> messages in the Docker logs.</li>
  <li>SELinux enablement is not supported for containers on IBM Z on RHEL because of missing Red Hat package.</li>
  <li>If a container is spawned on node A, using the same IP of a container destroyed
on nodeB within 5 min from the time that it exit, the container on node A is
not reachable until one of these 2 conditions happens:</li>
</ul>

<ol>
  <li>Container on A sends a packet out,</li>
  <li>The timer that cleans the arp entry in the overlay namespace is triggered (around 5 minutes).</li>
</ol>

<p>As a workaround, send at least a packet out from each container like
(ping, GARP, etc).</p>

<h2 id="17062-ee-16">17.06.2-ee-16</h2>
<p>2018-07-26</p>

<h4 id="client-3">Client</h4>

<ul>
  <li>Fix service rollback options being cross-wired. <a href="https://github.com/docker/cli/pull/1052">docker/cli#1052</a></li>
</ul>

<h4 id="networking-2">Networking</h4>

<ul>
  <li>Protect against possible race on ingress programming. <a href="https://github.com/docker/libnetwork/pull/2195">docker/libnetwork#2195</a></li>
  <li>Add a recovery mechanism for a split gossip cluster. <a href="https://github.com/docker/libnetwork/pull/2169">docker/libnetwork#2169</a></li>
</ul>

<h4 id="packaging-1">Packaging</h4>

<ul>
  <li>Update packaging description and license to Docker EUSA.</li>
</ul>

<h4 id="runtime-9">Runtime</h4>

<ul>
  <li>Update overlay2 to use naive diff for changes. <a href="https://github.com/moby/moby/pull/37313">moby/moby#37313</a></li>
</ul>

<h4 id="swarm-mode-5">Swarm mode</h4>

<ul>
  <li>Fix task reaper batching. <a href="https://github.com/docker/swarmkit/pull/2678">docker/swarmkit#2678</a></li>
  <li>RoleManager will remove deleted nodes from the cluster membership. <a href="https://github.com/docker/swarmkit/pull/2607">docker/swarmkit#2607</a></li>
  <li>Fix unassigned task leak when service is removed. <a href="https://github.com/docker/swarmkit/pull/2708">docker/swarmkit#2708</a></li>
</ul>

<h4 id="known-issues-10">Known issues</h4>

<ul>
  <li>When all Swarm managers are stopped at the same time, the swarm might end up in a
split-brain scenario. <a href="https://success.docker.com/article/KB000759">Learn more</a>.</li>
  <li>Under certain conditions, swarm leader re-election may timeout
prematurely. During this period, docker commands may fail. Also during
this time, creation of globally-scoped networks may be unstable. As a
workaround, wait for leader election to complete before issuing commands
to the cluster.</li>
  <li>It’s recommended that users create overlay networks with <code class="highlighter-rouge">/24</code> blocks (the default) of 256 IP addresses when networks are used by services created using VIP-based endpoint-mode (the default). This is because of limitations with Docker Swarm <a href="moby/moby/issues/30820">moby/moby#30820</a>. Users should <em>not</em> work around this by increasing the IP block size. To work around this limitation, either use <code class="highlighter-rouge">dnsrr</code> endpoint-mode or use multiple smaller overlay networks.</li>
  <li>Docker may experience IP exhaustion if many tasks are assigned to a single overlay network, for example if many services are attached to that network or because services on the network are scaled to many replicas. The problem may also manifest when tasks are rescheduled because of node failures. In case of node failure, Docker currently waits 24h to release overlay IP addresses. The problem can be diagnosed by looking for <code class="highlighter-rouge">failed to allocate network IP for task</code> messages in the Docker logs.</li>
  <li>SELinux enablement is not supported for containers on IBM Z on RHEL because of missing Red Hat package.</li>
  <li>If a container is spawned on node A, using the same IP of a container destroyed
on nodeB within 5 min from the time that it exit, the container on node A is
not reachable until one of these 2 conditions happens:</li>
</ul>

<ol>
  <li>Container on A sends a packet out,</li>
  <li>The timer that cleans the arp entry in the overlay namespace is triggered (around 5 minutes).</li>
</ol>

<p>As a workaround, send at least a packet out from each container like
(ping, GARP, etc).</p>

<h2 id="17062-ee-15">17.06.2-ee-15</h2>
<p>2018-07-10</p>

<h4 id="runtime-10">Runtime</h4>

<ul>
  <li>Add /proc/acpi to masked paths <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=2018-10892">(CVE-2018-10892)</a>. <a href="https://github.com/moby/moby/pull/37404">moby/moby#37404</a></li>
</ul>

<h4 id="known-issues-11">Known issues</h4>

<ul>
  <li>When all Swarm managers are stopped at the same time, the swarm might end up in a
split-brain scenario. <a href="https://success.docker.com/article/KB000759">Learn more</a>.</li>
  <li>Under certain conditions, swarm leader re-election may timeout
prematurely. During this period, docker commands may fail. Also during
this time, creation of globally-scoped networks may be unstable. As a
workaround, wait for leader election to complete before issuing commands
to the cluster.</li>
  <li>It’s recommended that users create overlay networks with <code class="highlighter-rouge">/24</code> blocks (the default) of 256 IP addresses when networks are used by services created using VIP-based endpoint-mode (the default). This is because of limitations with Docker Swarm <a href="moby/moby/issues/30820">moby/moby#30820</a>. Users should <em>not</em> work around this by increasing the IP block size. To work around this limitation, either use <code class="highlighter-rouge">dnsrr</code> endpoint-mode or use multiple smaller overlay networks.</li>
  <li>Docker may experience IP exhaustion if many tasks are assigned to a single overlay network, for example if many services are attached to that network or because services on the network are scaled to many replicas. The problem may also manifest when tasks are rescheduled because of node failures. In case of node failure, Docker currently waits 24h to release overlay IP addresses. The problem can be diagnosed by looking for <code class="highlighter-rouge">failed to allocate network IP for task</code> messages in the Docker logs.</li>
  <li>SELinux enablement is not supported for containers on IBM Z on RHEL because of missing Red Hat package.</li>
  <li>If a container is spawned on node A, using the same IP of a container destroyed
on nodeB within 5 min from the time that it exit, the container on node A is
not reachable until one of these 2 conditions happens:</li>
</ul>

<ol>
  <li>Container on A sends a packet out,</li>
  <li>The timer that cleans the arp entry in the overlay namespace is triggered (around 5 minutes).</li>
</ol>

<p>As a workaround, send at least a packet out from each container like
(ping, GARP, etc).</p>

<h3 id="17062-ee-14">17.06.2-ee-14</h3>
<p>2018-06-21</p>

<h4 id="client-4">Client</h4>

<ul>
  <li>Set a 30s timeout for HTTP client communication with plugin backend. <a href="https://github.com/docker/cli/pull/883">docker/cli#883</a></li>
  <li>Fix <code class="highlighter-rouge">docker version</code> output misaligned. <a href="https://github.com/docker/cli/pull/965">docker/cli#965</a></li>
</ul>

<h4 id="runtime-11">Runtime</h4>

<ul>
  <li>Fix Windows docker daemon crash when docker stats is used. <a href="https://github.com/moby/moby/pull/35968">moby/moby#35968</a></li>
  <li>Add <code class="highlighter-rouge">/proc/keys</code> to masked paths. <a href="https://github.com/moby/moby/pull/36368">moby/moby#36368</a></li>
  <li>Added support for persisting Windows network driver options. <a href="https://github.com/moby/moby/pull/35563">moby/moby#35563</a></li>
  <li>Fix to ensure graphdriver dir is a shared mount. <a href="https://github.com/moby/moby/pull/36047">moby/moby#36047</a></li>
</ul>

<h4 id="swarm-mode-6">Swarm mode</h4>

<ul>
  <li>Fix <code class="highlighter-rouge">docker stack deploy --prune</code> with empty name removes all swarm services. <a href="https://github.com/moby/moby/issues/36776">moby/moby#36776</a></li>
</ul>

<h4 id="known-issues-12">Known issues</h4>

<ul>
  <li>When all Swarm managers are stopped at the same time, the swarm might end up in a
split-brain scenario. <a href="https://success.docker.com/article/KB000759">Learn more</a>.</li>
  <li>Under certain conditions, swarm leader re-election may timeout
prematurely. During this period, docker commands may fail. Also during
this time, creation of globally-scoped networks may be unstable. As a
workaround, wait for leader election to complete before issuing commands
to the cluster.</li>
  <li>It’s recommended that users create overlay networks with <code class="highlighter-rouge">/24</code> blocks (the default) of 256 IP addresses when networks are used by services created using VIP-based endpoint-mode (the default). This is because of limitations with Docker Swarm <a href="moby/moby/issues/30820">moby/moby#30820</a>. Users should <em>not</em> work around this by increasing the IP block size. To work around this limitation, either use <code class="highlighter-rouge">dnsrr</code> endpoint-mode or use multiple smaller overlay networks.</li>
  <li>Docker may experience IP exhaustion if many tasks are assigned to a single overlay network, for example if many services are attached to that network or because services on the network are scaled to many replicas. The problem may also manifest when tasks are rescheduled because of node failures. In case of node failure, Docker currently waits 24h to release overlay IP addresses. The problem can be diagnosed by looking for <code class="highlighter-rouge">failed to allocate network IP for task</code> messages in the Docker logs.</li>
  <li>SELinux enablement is not supported for containers on IBM Z on RHEL because of missing Red Hat package.</li>
  <li>If a container is spawned on node A, using the same IP of a container destroyed
on nodeB within 5 min from the time that it exit, the container on node A is
not reachable until one of these 2 conditions happens:</li>
</ul>

<ol>
  <li>Container on A sends a packet out,</li>
  <li>The timer that cleans the arp entry in the overlay namespace is triggered (around 5 minutes).</li>
</ol>

<p>As a workaround, send at least a packet out from each container like
(ping, GARP, etc).</p>

<h2 id="17062-ee-13">17.06.2-ee-13</h2>
<p>2018-06-04</p>

<h4 id="networking-3">Networking</h4>

<ul>
  <li>Fix attachable containers that may leave DNS state when exiting. <a href="https://github.com/docker/libnetwork/pull/2175">docker/libnetwork#2175</a></li>
</ul>

<h4 id="known-issues-13">Known issues</h4>

<ul>
  <li>When all Swarm managers are stopped at the same time, the swarm might end up in a
split-brain scenario. <a href="https://success.docker.com/article/KB000759">Learn more</a>.</li>
  <li>Under certain conditions, swarm leader re-election may timeout
prematurely. During this period, docker commands may fail. Also during
this time, creation of globally-scoped networks may be unstable. As a
workaround, wait for leader election to complete before issuing commands
to the cluster.</li>
  <li>It’s recommended that users create overlay networks with <code class="highlighter-rouge">/24</code> blocks (the default) of 256 IP addresses when networks are used by services created using VIP-based endpoint-mode (the default). This is because of limitations with Docker Swarm <a href="moby/moby/issues/30820">moby/moby#30820</a>. Users should <em>not</em> work around this by increasing the IP block size. To work around this limitation, either use <code class="highlighter-rouge">dnsrr</code> endpoint-mode or use multiple smaller overlay networks.</li>
  <li>Docker may experience IP exhaustion if many tasks are assigned to a single overlay network, for example if many services are attached to that network or because services on the network are scaled to many replicas. The problem may also manifest when tasks are rescheduled because of node failures. In case of node failure, Docker currently waits 24h to release overlay IP addresses. The problem can be diagnosed by looking for <code class="highlighter-rouge">failed to allocate network IP for task</code> messages in the Docker logs.</li>
  <li>SELinux enablement is not supported for containers on IBM Z on RHEL because of missing Red Hat package.</li>
  <li>If a container is spawned on node A, using the same IP of a container destroyed
on nodeB within 5 min from the time that it exit, the container on node A is
not reachable until one of these 2 conditions happens:</li>
</ul>

<ol>
  <li>Container on A sends a packet out,</li>
  <li>The timer that cleans the arp entry in the overlay namespace is triggered (around 5 minutes).</li>
</ol>

<p>As a workaround, send at least a packet out from each container like
(ping, GARP, etc).</p>

<h2 id="17062-ee-12">17.06.2-ee-12</h2>
<p>2018-05-29</p>

<h4 id="networking-4">Networking</h4>

<ul>
  <li>Fix to allow service update with no connection loss. <a href="https://github.com/docker/libnetwork/pull/2157">docker/libnetwork#2157</a></li>
</ul>

<h4 id="known-issues-14">Known issues</h4>

<ul>
  <li>When all Swarm managers are stopped at the same time, the swarm might end up in a
split-brain scenario. <a href="https://success.docker.com/article/KB000759">Learn more</a>.</li>
  <li>Under certain conditions, swarm leader re-election may timeout
prematurely. During this period, docker commands may fail. Also during
this time, creation of globally-scoped networks may be unstable. As a
workaround, wait for leader election to complete before issuing commands
to the cluster.</li>
  <li>It’s recommended that users create overlay networks with <code class="highlighter-rouge">/24</code> blocks (the default) of 256 IP addresses when networks are used by services created using VIP-based endpoint-mode (the default). This is because of limitations with Docker Swarm <a href="moby/moby/issues/30820">moby/moby#30820</a>. Users should <em>not</em> work around this by increasing the IP block size. To work around this limitation, either use <code class="highlighter-rouge">dnsrr</code> endpoint-mode or use multiple smaller overlay networks.</li>
  <li>Docker may experience IP exhaustion if many tasks are assigned to a single overlay network, for example if many services are attached to that network or because services on the network are scaled to many replicas. The problem may also manifest when tasks are rescheduled because of node failures. In case of node failure, Docker currently waits 24h to release overlay IP addresses. The problem can be diagnosed by looking for <code class="highlighter-rouge">failed to allocate network IP for task</code> messages in the Docker logs.</li>
  <li>SELinux enablement is not supported for containers on IBM Z on RHEL because of missing Red Hat package.</li>
  <li>If a container is spawned on node A, using the same IP of a container destroyed
on nodeB within 5 min from the time that it exit, the container on node A is
not reachable until one of these 2 conditions happens:</li>
</ul>

<ol>
  <li>Container on A sends a packet out,</li>
  <li>The timer that cleans the arp entry in the overlay namespace is triggered (around 5 minutes).</li>
</ol>

<p>As a workaround, send at least a packet out from each container like
(ping, GARP, etc).</p>

<h2 id="17062-ee-11">17.06.2-ee-11</h2>
<p>2018-05-17</p>

<h4 id="client-5">Client</h4>

<ul>
  <li>Fix presentation of published “random” host ports. <a href="https://github.com/docker/cli/pull/404">docker/cli#404</a></li>
</ul>

<h4 id="networking-5">Networking</h4>

<ul>
  <li>Fix concurrent CreateNetwork in bridge driver. <a href="https://github.com/docker/libnetwork/pull/2127">docker/libnetwork#2127</a></li>
</ul>

<h4 id="runtime-12">Runtime</h4>

<ul>
  <li>Use rslave propagation for mounts from daemon root. <a href="https://github.com/moby/moby/pull/36055">moby/moby#36055</a></li>
  <li>Use rslave instead of rprivate in choortarchive. <a href="https://github.com/moby/moby/pull/35217">moby/moby#35217</a></li>
  <li>Set daemon root to use shared propagation. <a href="https://github.com/moby/moby/pull/36096">moby/moby#36096</a></li>
  <li>Windows: Increase container default shutdown timeout. <a href="https://github.com/moby/moby/pull/35184">moby/moby#35184</a></li>
  <li>Avoid using all system memory with authz plugins. <a href="https://github.com/moby/moby/pull/36595">moby/moby#36595</a></li>
  <li>Daemon/stats: more resilient cpu sampling. <a href="https://github.com/moby/moby/pull/36519">moby/moby#36519</a></li>
</ul>

<h4 id="known-issues-15">Known issues</h4>

<ul>
  <li>When all Swarm managers are stopped at the same time, the swarm might end up in a
split-brain scenario. <a href="https://success.docker.com/article/KB000759">Learn more</a>.</li>
  <li>Under certain conditions, swarm leader re-election may timeout
prematurely. During this period, docker commands may fail. Also during
this time, creation of globally-scoped networks may be unstable. As a
workaround, wait for leader election to complete before issuing commands
to the cluster.</li>
  <li>It’s recommended that users create overlay networks with <code class="highlighter-rouge">/24</code> blocks (the default) of 256 IP addresses when networks are used by services created using VIP-based endpoint-mode (the default). This is because of limitations with Docker Swarm <a href="moby/moby/issues/30820">moby/moby#30820</a>. Users should <em>not</em> work around this by increasing the IP block size. To work around this limitation, either use <code class="highlighter-rouge">dnsrr</code> endpoint-mode or use multiple smaller overlay networks.</li>
  <li>Docker may experience IP exhaustion if many tasks are assigned to a single overlay network, for example if many services are attached to that network or because services on the network are scaled to many replicas. The problem may also manifest when tasks are rescheduled because of node failures. In case of node failure, Docker currently waits 24h to release overlay IP addresses. The problem can be diagnosed by looking for <code class="highlighter-rouge">failed to allocate network IP for task</code> messages in the Docker logs.</li>
  <li>SELinux enablement is not supported for containers on IBM Z on RHEL because of missing Red Hat package.</li>
  <li>If a container is spawned on node A, using the same IP of a container destroyed
on nodeB within 5 min from the time that it exit, the container on node A is
not reachable until one of these 2 conditions happens:</li>
</ul>

<ol>
  <li>Container on A sends a packet out,</li>
  <li>The timer that cleans the arp entry in the overlay namespace is triggered (around 5 minutes).</li>
</ol>

<p>As a workaround, send at least a packet out from each container like
(ping, GARP, etc).</p>

<h2 id="17062-ee-10">17.06.2-ee-10</h2>
<p>2018-04-27</p>

<h4 id="runtime-13">Runtime</h4>

<ul>
  <li>Fix version output to not have <code class="highlighter-rouge">-dev</code>.</li>
</ul>

<h4 id="known-issues-16">Known issues</h4>

<ul>
  <li>Under certain conditions, swarm leader re-election may timeout
prematurely. During this period, docker commands may fail. Also during
this time, creation of globally-scoped networks may be unstable. As a
workaround, wait for leader election to complete before issuing commands
to the cluster.</li>
  <li>It’s recommended that users create overlay networks with <code class="highlighter-rouge">/24</code> blocks (the default) of 256 IP addresses when networks are used by services created using VIP-based endpoint-mode (the default). This is because of limitations with Docker Swarm <a href="moby/moby/issues/30820">moby/moby#30820</a>. Users should <em>not</em> work around this by increasing the IP block size. To work around this limitation, either use <code class="highlighter-rouge">dnsrr</code> endpoint-mode or use multiple smaller overlay networks.</li>
  <li>Docker may experience IP exhaustion if many tasks are assigned to a single overlay network, for example if many services are attached to that network or because services on the network are scaled to many replicas. The problem may also manifest when tasks are rescheduled because of node failures. In case of node failure, Docker currently waits 24h to release overlay IP addresses. The problem can be diagnosed by looking for <code class="highlighter-rouge">failed to allocate network IP for task</code> messages in the Docker logs.</li>
  <li>SELinux enablement is not supported for containers on IBM Z on RHEL because of missing Red Hat package.</li>
  <li>If a container is spawned on node A, using the same IP of a container destroyed
on nodeB within 5 min from the time that it exit, the container on node A is
not reachable until one of these 2 conditions happens:</li>
</ul>

<ol>
  <li>Container on A sends a packet out,</li>
  <li>The timer that cleans the arp entry in the overlay namespace is triggered (around 5 minutes).</li>
</ol>

<p>As a workaround, send at least a packet out from each container like
(ping, GARP, etc).</p>

<h2 id="17062-ee-9">17.06.2-ee-9</h2>
<p>2018-04-26</p>

<h4 id="runtime-14">Runtime</h4>

<ul>
  <li>Make Swarm manager Raft quorum parameters configurable in daemon config. <a href="https://github.com/moby/moby/pull/36726">moby/moby#36726</a></li>
  <li>Windows: Ignore missing tombstone files when closing an image.</li>
  <li>Windows: Fix directory deletes when a container sharing a base image is running.</li>
</ul>

<h4 id="swarm-mode-7">Swarm mode</h4>

<ul>
  <li>Increase raft ElectionTick to 10xHeartbeatTick. <a href="https://github.com/docker/swarmkit/pull/2564">docker/swarmkit#2564</a></li>
  <li>Adding logic to restore networks in order. <a href="https://github.com/docker/swarmkit/pull/2584">docker/swarmkit#2584</a></li>
</ul>

<h4 id="known-issues-17">Known issues</h4>

<ul>
  <li>Under certain conditions, swarm leader re-election may timeout
prematurely. During this period, docker commands may fail. Also during
this time, creation of globally-scoped networks may be unstable. As a
workaround, wait for leader election to complete before issuing commands
to the cluster.</li>
  <li>It’s recommended that users create overlay networks with <code class="highlighter-rouge">/24</code> blocks (the default) of 256 IP addresses when networks are used by services created using VIP-based endpoint-mode (the default). This is because of limitations with Docker Swarm <a href="moby/moby/issues/30820">moby/moby#30820</a>. Users should <em>not</em> work around this by increasing the IP block size. To work around this limitation, either use <code class="highlighter-rouge">dnsrr</code> endpoint-mode or use multiple smaller overlay networks.</li>
  <li>Docker may experience IP exhaustion if many tasks are assigned to a single overlay network, for example if many services are attached to that network or because services on the network are scaled to many replicas. The problem may also manifest when tasks are rescheduled because of node failures. In case of node failure, Docker currently waits 24h to release overlay IP addresses. The problem can be diagnosed by looking for <code class="highlighter-rouge">failed to allocate network IP for task</code> messages in the Docker logs.</li>
  <li>SELinux enablement is not supported for containers on IBM Z on RHEL because of missing Red Hat package.</li>
  <li>If a container is spawned on node A, using the same IP of a container destroyed
on nodeB within 5 min from the time that it exit, the container on node A is
not reachable until one of these 2 conditions happens:</li>
</ul>

<ol>
  <li>Container on A sends a packet out,</li>
  <li>The timer that cleans the arp entry in the overlay namespace is triggered (around 5 minutes).</li>
</ol>

<p>As a workaround, send at least a packet out from each container like
(ping, GARP, etc).</p>

<h2 id="17062-ee-8">17.06.2-ee-8</h2>
<p>2018-04-17</p>

<h4 id="runtime-15">Runtime</h4>

<ul>
  <li>Update <code class="highlighter-rouge">hcsshim</code> to v0.6.10 to address <a href="https://portal.msrc.microsoft.com/en-us/security-guidance/advisory/CVE-2018-8115">CVE-2018-8115</a></li>
</ul>

<h4 id="networking-6">Networking</h4>

<ul>
  <li>Update libnetwork to fix stale HNS endpoints on Windows. <a href="https://github.com/moby/moby/pull/36603">moby/moby#36603</a></li>
</ul>

<h4 id="packaging-2">Packaging</h4>

<ul>
  <li>Ensure the graphdriver dir is a shared mount within docker systemd service.</li>
</ul>

<h4 id="known-issues-18">Known issues</h4>

<ul>
  <li>Under certain conditions, swarm leader re-election may timeout
prematurely. During this period, docker commands may fail. Also during
this time, creation of globally-scoped networks may be unstable. As a
workaround, wait for leader election to complete before issuing commands
to the cluster.</li>
  <li>It’s recommended that users create overlay networks with <code class="highlighter-rouge">/24</code> blocks (the default) of 256 IP addresses when networks are used by services created using VIP-based endpoint-mode (the default). This is because of limitations with Docker Swarm <a href="moby/moby/issues/30820">moby/moby#30820</a>. Users should <em>not</em> work around this by increasing the IP block size. To work around this limitation, either use <code class="highlighter-rouge">dnsrr</code> endpoint-mode or use multiple smaller overlay networks.</li>
  <li>Docker may experience IP exhaustion if many tasks are assigned to a single overlay network, for example if many services are attached to that network or because services on the network are scaled to many replicas. The problem may also manifest when tasks are rescheduled because of node failures. In case of node failure, Docker currently waits 24h to release overlay IP addresses. The problem can be diagnosed by looking for <code class="highlighter-rouge">failed to allocate network IP for task</code> messages in the Docker logs.</li>
  <li>SELinux enablement is not supported for containers on IBM Z on RHEL because of missing Red Hat package.</li>
  <li>If a container is spawned on node A, using the same IP of a container destroyed
on nodeB within 5 min from the time that it exit, the container on node A is
not reachable until one of these 2 conditions happens:</li>
</ul>

<ol>
  <li>Container on A sends a packet out,</li>
  <li>The timer that cleans the arp entry in the overlay namespace is triggered (around 5 minutes).</li>
</ol>

<p>As a workaround, send at least a packet out from each container like
(ping, GARP, etc).</p>

<h2 id="17062-ee-7">17.06.2-ee-7</h2>
<p>2018-03-19</p>

<h4 id="important-notes-about-this-release-4">Important notes about this release</h4>

<ul>
  <li>The <code class="highlighter-rouge">overlay2</code> detection has been improved in this release. On
Linux distributions where <code class="highlighter-rouge">devicemapper</code> was the default storage driver,
<code class="highlighter-rouge">overlay2</code> is now used by default, if the kernel supports it.</li>
</ul>

<h4 id="logging">Logging</h4>

<ul>
  <li>Set timeout on splunk batch send <a href="https://github.com/moby/moby/pull/35496">moby/moby#35496</a></li>
  <li>AWS: Fix batch size calculation for large logs<a href="https://github.com/moby/moby/pull/35726">moby/moby#35726</a></li>
  <li>Support a proxy in splunk log driver <a href="https://github.com/moby/moby/pull/36220">moby/moby#36220</a></li>
</ul>

<h4 id="networking-7">Networking</h4>

<ul>
  <li>Fix NetworkDB node management race condition <a href="https://github.com/docker/libnetwork/pull/2033">docker/libnetwork#2033</a></li>
  <li>Update Netlink socket timeout <a href="https://github.com/docker/libnetwork/pull/2044">docker/libnetwork#2044</a></li>
  <li>Fix for duplicate IP issues <a href="https://github.com/docker/libnetwork/pull/2105">docker/libnetwork#2105</a></li>
</ul>

<h4 id="packaging-3">Packaging</h4>

<ul>
  <li>Add a platform version to <code class="highlighter-rouge">Docker --version</code> <a href="https://github.com/docker/cli/pull/427">docker/cli#427</a> and <a href="https://github.com/moby/moby/pull/35705">moby/moby#35705</a></li>
  <li>SLES and Ubuntu set TasksMax in docker.service <a href="https://github.com/docker/docker-ce-packaging/pull/78">docker/docker-ce-packaging#78</a></li>
</ul>

<h4 id="runtime-16">Runtime</h4>

<ul>
  <li>Adjust min TLS Version to v1.2 for PCI compliance <a href="https://github.com/docker/go-connections/pull/45">docker/go-connections#45</a></li>
  <li>Fix systemd cgroup after memory type changed <a href="https://github.com/opencontainers/runc/pull/1573">opencontainers/runc#1573</a></li>
  <li>Detect overlay2 support on pre-4.0 kernels <a href="https://github.com/moby/moby/pull/35527">moby/moby#35527</a></li>
  <li>Enables deferred device deletion/removal by default if the driver version in the kernel supports the feature <a href="https://github.com/moby/moby/pull/33698">moby/moby#33698</a></li>
  <li>Fix EBUSY errors under overlayfs and v4.13+ kernels <a href="https://github.com/moby/moby/pull/34914">moby/moby#34914</a> and <a href="https://github.com/moby/moby/pull/34948">moby/moby#34948</a></li>
  <li>Fix TestMount under a selinux system <a href="https://github.com/moby/moby/pull/34965">moby/moby#34965</a></li>
  <li>Fix devicemapper error: cannot remove container filesystem, layer not retained <a href="https://github.com/moby/moby/pull/36160">moby/moby#36160</a></li>
  <li>Golang bumped to 1.8.7</li>
  <li>Add timeouts for volume plugin ops <a href="https://github.com/moby/moby/pull/35441">moby/moby#35441</a></li>
  <li>Add <code class="highlighter-rouge">REMOVE</code> and <code class="highlighter-rouge">ORPHANED</code> to <code class="highlighter-rouge">TaskState</code> <a href="https://github.com/moby/moby/pull/36146">moby/moby#36146</a></li>
  <li>Fix abort when setting <code class="highlighter-rouge">may_detach_mounts</code> <a href="https://github.com/moby/moby/pull/35172">moby/moby#35172</a></li>
  <li>Windows: Ensure Host Network Service exists <a href="https://github.com/moby/moby/pull/34928">moby/moby#34928</a></li>
  <li>Fix issue where network inspect does not show created time in swarm scope <a href="https://github.com/moby/moby/pull/36095">moby/moby#36095</a></li>
  <li>Windows: Daemon should respect <code class="highlighter-rouge">DOCKER_TMPDIR</code> <a href="https://github.com/moby/moby/pull/35077">moby/moby#35077</a></li>
  <li>Merge global storage options on create <a href="https://github.com/moby/moby/pull/34508">moby/moby#34508</a></li>
  <li>Remove support for overlay/overlay2 without d_type <a href="https://github.com/moby/moby/pull/35514">moby/moby#35514</a></li>
</ul>

<h4 id="swarm-mode-8">Swarm mode</h4>

<ul>
  <li>Add required call to allocate VIPs when endpoints are restored <a href="https://github.com/docker/swarmkit/pull/2468">docker/swarmkit#2468</a></li>
  <li>Synchronize Dispatcher.Stop() with incoming rpcs <a href="https://github.com/docker/swarmkit/pull/2524">docker/swarmkit#2524</a></li>
  <li>Fix IP overlap with empty EndpointSpec <a href="https://github.com/docker/swarmkit/pull/2511">docker/swarmkit#2511</a></li>
</ul>

<h4 id="known-issues-19">Known issues</h4>

<ul>
  <li>It’s recommended that users create overlay networks with <code class="highlighter-rouge">/24</code> blocks (the default) of 256 IP addresses when networks are used by services created using VIP-based endpoint-mode (the default). This is because of limitations with Docker Swarm <a href="moby/moby/issues/30820">moby/moby#30820</a>. Users should <em>not</em> work around this by increasing the IP block size. To work around this limitation, either use <code class="highlighter-rouge">dnsrr</code> endpoint-mode or use multiple smaller overlay networks.</li>
  <li>Docker may experience IP exhaustion if many tasks are assigned to a single overlay network, for example if many services are attached to that network or because services on the network are scaled to many replicas. The problem may also manifest when tasks are rescheduled because of node failures. In case of node failure, Docker currently waits 24h to release overlay IP addresses. The problem can be diagnosed by looking for <code class="highlighter-rouge">failed to allocate network IP for task</code> messages in the Docker logs.</li>
  <li>SELinux enablement is not supported for containers on IBM Z on RHEL because of missing Red Hat package.</li>
  <li>If a container is spawned on node A, using the same IP of a container destroyed
on nodeB within 5 min from the time that it exit, the container on node A is
not reachable until one of these 2 conditions happens:</li>
</ul>

<ol>
  <li>Container on A sends a packet out,</li>
  <li>The timer that cleans the arp entry in the overlay namespace is triggered (around 5 minutes).</li>
</ol>

<p>As a workaround, send at least a packet out from each container like
(ping, GARP, etc).</p>

<h2 id="17062-ee-6">17.06.2-ee-6</h2>
<p>2017-11-27</p>

<h4 id="runtime-17">Runtime</h4>

<ul>
  <li>Create labels when volume exists only remotely <a href="https://github.com/moby/moby/pull/34896">moby/moby#34896</a></li>
  <li>Fix leaking container/exec state <a href="https://github.com/moby/moby/pull/35484">moby/moby#35484</a></li>
  <li>Protect health monitor channel to prevent panics <a href="https://github.com/moby/moby/pull/35482">moby/moby#35482</a></li>
  <li>Mask <code class="highlighter-rouge">/proc/scsi</code> path from use in container <a href="https://github.com/moby/moby/pull/35399">moby/moby#35399</a></li>
  <li>Fix memory exhaustion when a malformed image could cause the daemon to crash <a href="https://github.com/moby/moby/pull/35424">moby/moby#35424</a></li>
</ul>

<h4 id="swarm-mode-9">Swarm mode</h4>

<ul>
  <li>Fix deadlock on getting swarm info <a href="https://github.com/moby/moby/issues/35388">moby/moby#35388</a></li>
  <li>Only shut down old tasks on success <a href="https://github.com/docker/swarmkit/pull/2308">docker/swarmkit#2308</a></li>
  <li>Error on cluster spec name change <a href="https://github.com/docker/swarmkit/pull/2436">docker/swarmkit#2436</a></li>
</ul>

<h4 id="known-issues-20">Known issues</h4>

<ul>
  <li>It’s recommended that users create overlay networks with <code class="highlighter-rouge">/24</code> blocks (the default) of 256 IP addresses when networks are used by services created using VIP-based endpoint-mode (the default). This is because of limitations with Docker Swarm <a href="moby/moby/issues/30820">moby/moby#30820</a>. Users should <em>not</em> work around this by increasing the IP block size. To work around this limitation, either use <code class="highlighter-rouge">dnsrr</code> endpoint-mode or use multiple smaller overlay networks.</li>
  <li>Docker may experience IP exhaustion if many tasks are assigned to a single overlay network, for example if many services are attached to that network or because services on the network are scaled to many replicas. The problem may also manifest when tasks are rescheduled because of node failures. In case of node failure, Docker currently waits 24h to release overlay IP addresses. The problem can be diagnosed by looking for <code class="highlighter-rouge">failed to allocate network IP for task</code> messages in the Docker logs.</li>
  <li>SELinux enablement is not supported for containers on IBM Z on RHEL because of missing Red Hat package.</li>
  <li>If a container is spawned on node A, using the same IP of a container destroyed
on nodeB within 5 min from the time that it exit, the container on node A is
not reachable until one of these 2 conditions happens:</li>
</ul>

<ol>
  <li>Container on A sends a packet out,</li>
  <li>The timer that cleans the arp entry in the overlay namespace is triggered (around 5 minutes).</li>
</ol>

<p>As a workaround, send at least a packet out from each container like
(ping, GARP, etc).</p>

<h2 id="17062-ee-5">17.06.2-ee-5</h2>
<p>2017-11-02</p>

<h4 id="important-notes-about-this-release-5">Important notes about this release</h4>

<ul>
  <li>
    <p>Starting with Docker EE 17.06.2-ee-5, Ubuntu, SLES, RHEL packages are also available
for IBM Power using the ppc64le architecture.</p>
  </li>
  <li>
    <p>Docker EE 17.06.2-ee-5 now enables the <a href="https://matsuand.github.io/docs.docker.jp.onthefly/enterprise/telemetry/">telemetry plugin</a>
by default on all supported Linux distributions. For more details, including how to
opt out, see <a href="https://matsuand.github.io/docs.docker.jp.onthefly/enterprise/telemetry/">the documentation</a>.</p>
  </li>
</ul>

<h4 id="client-6">Client</h4>

<ul>
  <li>Set APIVersion on the client, even when Ping fails <a href="https://github.com/docker/cli/pull/546">docker/cli#546</a></li>
</ul>

<h4 id="logging-1">Logging</h4>

<ul>
  <li>Fix “raw” mode with the Splunk logging driver <a href="https://github.com/moby/moby/pull/34520">moby/moby#34520</a></li>
</ul>

<h4 id="networking-8">Networking</h4>

<ul>
  <li>Disable hostname lookup to speed up check if chain chain exists <a href="https://github.com/docker/libnetwork/pull/1974">docker/libnetwork#1974</a></li>
  <li>Handle cleanup DNS for attachable container to prevent leak in name resolution <a href="https://github.com/docker/libnetwork/pull/1989">docker/libnetwork#1989</a></li>
</ul>

<h4 id="packaging-4">Packaging</h4>

<ul>
  <li>Add telemetry plugin for all linux distributions</li>
  <li>Fix install of docker-ee on RHEL7 s390x by removing dependency on <code class="highlighter-rouge">container-selinux</code></li>
</ul>

<h4 id="runtime-18">Runtime</h4>

<ul>
  <li>Automatically set <code class="highlighter-rouge">may_detach_mounts=1</code> on startup <a href="https://github.com/moby/moby/pull/34886">moby/moby#34886</a></li>
  <li>Fallback to use naive diff driver if enable CONFIG_OVERLAY_FS_REDIRECT_DIR <a href="https://github.com/moby/moby/pull/34342">moby/moby#34342</a></li>
  <li>Set selinux label on local volumes from mounts API <a href="https://github.com/moby/moby/pull/34684">moby/moby#34684</a></li>
  <li>Close pipe in overlay2 graphdriver <a href="https://github.com/moby/moby/pull/34863">moby/moby#34863</a></li>
  <li>Relabel config files <a href="https://github.com/moby/moby/pull/34732">moby/moby#34732</a></li>
  <li>Add support for Windows version filtering on pull of docker image <a href="https://github.com/moby/moby/pull/35090">moby/moby#35090</a></li>
</ul>

<h4 id="swarm-mode-10">Swarm mode</h4>

<ul>
  <li>Increase gRPC request timeout to 20 seconds for sending snapshots to prevent <code class="highlighter-rouge">context deadline exceeded</code> errors <a href="https://github.com/docker/swarmkit/pull/2391">docker/swarmkit#2391</a></li>
  <li>When a node is removed, delete all of its attachment tasks so networks used by those tasks can be removed <a href="https://github.com/docker/swarmkit/pull/2414">docker/swarmkit#2414</a></li>
</ul>

<h4 id="known-issues-21">Known issues</h4>

<ul>
  <li>It’s recommended that users create overlay networks with <code class="highlighter-rouge">/24</code> blocks (the default) of 256 IP addresses when networks are used by services created using VIP-based endpoint-mode (the default). This is because of limitations with Docker Swarm <a href="moby/moby/issues/30820">moby/moby#30820</a>. Users should <em>not</em> work around this by increasing the IP block size. To work around this limitation, either use <code class="highlighter-rouge">dnsrr</code> endpoint-mode or use multiple smaller overlay networks.</li>
  <li>Docker may experience IP exhaustion if many tasks are assigned to a single overlay network, for example if many services are attached to that network or because services on the network are scaled to many replicas. The problem may also manifest when tasks are rescheduled because of node failures. In case of node failure, Docker currently waits 24h to release overlay IP addresses. The problem can be diagnosed by looking for <code class="highlighter-rouge">failed to allocate network IP for task</code> messages in the Docker logs.</li>
  <li>SELinux enablement is not supported for containers on IBM Z on RHEL because of missing Red Hat package.</li>
  <li>If a container is spawned on node A, using the same IP of a container destroyed
on nodeB within 5 min from the time that it exit, the container on node A is
not reachable until one of these 2 conditions happens:</li>
</ul>

<ol>
  <li>Container on A sends a packet out,</li>
  <li>The timer that cleans the arp entry in the overlay namespace is triggered (around 5 minutes).</li>
</ol>

<p>As a workaround, send at least a packet out from each container like
(ping, GARP, etc).</p>

<h2 id="17062-ee-4">17.06.2-ee-4</h2>
<p>2017-10-12</p>

<h4 id="client-7">Client</h4>

<ul>
  <li>Fix idempotence of <code class="highlighter-rouge">docker stack deploy</code> when secrets or configs are used <a href="https://github.com/docker/cli/pull/509">docker/cli#509</a></li>
</ul>

<h4 id="logging-2">Logging</h4>

<ul>
  <li>Avoid using a map for log attributes to prevent panic <a href="https://github.com/moby/moby/pull/34174">moby/moby#34174</a></li>
</ul>

<h4 id="networking-9">Networking</h4>

<ul>
  <li>Fix for garbage collection logic in NetworkDB. Entries were not properly garbage collected and deleted within the expected time <a href="https://github.com/docker/libnetwork/pull/1944">docker/libnetwork#1944</a> <a href="https://github.com/docker/libnetwork/pull/1960">docker/libnetwork#1960</a></li>
  <li>Allow configuration of max packet size in network DB to use the full available MTU. This requires a configuration in the docker daemon and need a dockerd restart <a href="https://github.com/docker/libnetwork/pull/1839">docker/libnetwork#1839</a></li>
  <li>Overlay fix for transient IP reuse <a href="https://github.com/docker/libnetwork/pull/1935">docker/libnetwork#1935</a> <a href="https://github.com/docker/libnetwork/pull/1968">docker/libnetwork#1968</a></li>
  <li>Serialize IP allocation <a href="https://github.com/docker/libnetwork/pull/1788">docker/libnetwork#1788</a></li>
</ul>

<h4 id="known-issues-22">Known issues</h4>

<p>If a container is spawned on node A, using the same IP of a container destroyed
on nodeB within 5 min from the time that it exit, the container on node A is
not reachable until one of these 2 conditions happens:</p>

<ol>
  <li>Container on A sends a packet out,</li>
  <li>The timer that cleans the arp entry in the overlay namespace is triggered (around 5 minutes).</li>
</ol>

<p>As a workaround, send at least a packet out from each container like
(ping, GARP, etc).</p>

<h2 id="17062-ee-3">17.06.2-ee-3</h2>
<p>2017-09-22</p>

<h4 id="swarm-mode-11">Swarm mode</h4>

<ul>
  <li>Increase max message size to allow larger snapshots <a href="https://github.com/docker/swarmkit/pull/131">docker/swarmkit#131</a></li>
</ul>

<h4 id="known-issues-23">Known issues</h4>

<p>If a container is spawned on node A, using the same IP of a container destroyed
on nodeB within 5 min from the time that it exit, the container on node A is
not reachable until one of these 2 conditions happens:</p>

<ol>
  <li>Container on A sends a packet out,</li>
  <li>The timer that cleans the arp entry in the overlay namespace is triggered (around 5 minutes).</li>
</ol>

<p>As a workaround, send at least a packet out from each container like
(ping, GARP, etc).</p>

<h2 id="17061-ee-2">17.06.1-ee-2</h2>
<p>2017-08-24</p>

<h4 id="client-8">Client</h4>

<ul>
  <li>Enable TCP Keep-Alive in Docker client <a href="https://github.com/docker/cli/pull/415">#415</a></li>
</ul>

<h4 id="networking-10">Networking</h4>

<ul>
  <li>Lock goroutine to OS thread while changing NS <a href="https://github.com/docker/libnetwork/pull/1911">#1911</a></li>
</ul>

<h4 id="runtime-19">Runtime</h4>

<ul>
  <li>devmapper: ensure that UdevWait is called after calls to setCookie <a href="https://github.com/moby/moby/pull/33732">#33732</a></li>
  <li>aufs: ensure diff layers are correctly removed to prevent leftover files from using up storage <a href="https://github.com/moby/moby/pull/34587">#34587</a></li>
</ul>

<h4 id="swarm-mode-12">Swarm mode</h4>

<ul>
  <li>Ignore PullOptions for running tasks <a href="https://github.com/docker/swarmkit/pull/2351">#2351</a></li>
</ul>

<h4 id="known-issues-24">Known issues</h4>

<p>If a container is spawned on node A, using the same IP of a container destroyed
on nodeB within 5 min from the time that it exit, the container on node A is
not reachable until one of these 2 conditions happens:</p>

<ol>
  <li>Container on A sends a packet out,</li>
  <li>The timer that cleans the arp entry in the overlay namespace is triggered (around 5 minutes).</li>
</ol>

<p>As a workaround, send at least a packet out from each container like
(ping, GARP, etc).</p>

<h2 id="17061-ee-1">17.06.1-ee-1</h2>
<p>2017-08-16</p>

<h4 id="important-notes-about-this-release-6">Important notes about this release</h4>

<ul>
  <li>
    <p>Starting with Docker EE 17.06.1, Ubuntu, SLES, RHEL packages are also available
for IBM Z using the s390x architecture.</p>
  </li>
  <li>
    <p>Docker EE 17.06.1 includes a new <a href="https://matsuand.github.io/docs.docker.jp.onthefly/enterprise/telemetry/">telemetry plugin</a>
which is enabled by default on Ubuntu hosts. For more details, including how to
opt out, see [the documentation(/enterprise/telemetry/).</p>
  </li>
  <li>
    <p>Docker 17.06 by default disables communication with legacy (v1)
registries. If you require interaction with registries that have not yet
migrated to the v2 protocol, set the <code class="highlighter-rouge">--disable-legacy-registry=false</code> daemon
option.</p>
  </li>
</ul>

<h4 id="builder-5">Builder</h4>

<ul>
  <li>Add <code class="highlighter-rouge">--iidfile</code> option to docker build. It allows specifying a location where to save the resulting image ID</li>
  <li>Allow specifying any remote ref in git checkout URLs <a href="https://github.com/moby/moby/pull/32502">#32502</a></li>
  <li>Add multi-stage build support <a href="https://github.com/moby/moby/pull/31257">#31257</a> <a href="https://github.com/moby/moby/pull/32063">#32063</a></li>
  <li>Allow using build-time args (<code class="highlighter-rouge">ARG</code>) in <code class="highlighter-rouge">FROM</code> <a href="https://github.com/moby/moby/pull/31352">#31352</a></li>
  <li>Add an option for specifying build target <a href="https://github.com/moby/moby/pull/32496">#32496</a></li>
  <li>Accept <code class="highlighter-rouge">-f -</code> to read Dockerfile from <code class="highlighter-rouge">stdin</code>, but use local context for building <a href="https://github.com/moby/moby/pull/31236">#31236</a></li>
  <li>The values of default build time arguments (e.g <code class="highlighter-rouge">HTTP_PROXY</code>) are no longer displayed in docker image history unless a corresponding <code class="highlighter-rouge">ARG</code> instruction is written in the Dockerfile. <a href="https://github.com/moby/moby/pull/31584">#31584</a></li>
  <li>Fix setting command if a custom shell is used in a parent image <a href="https://github.com/moby/moby/pull/32236">#32236</a></li>
  <li>Fix <code class="highlighter-rouge">docker build --label</code> when the label includes single quotes and a space <a href="https://github.com/moby/moby/pull/31750">#31750</a></li>
  <li>Disable container logging for build containers <a href="https://github.com/moby/moby/pull/29552">#29552</a></li>
  <li>Fix use of <code class="highlighter-rouge">**/</code> in <code class="highlighter-rouge">.dockerignore</code> <a href="https://github.com/moby/moby/pull/29043">#29043</a></li>
  <li>Fix a regression, where <code class="highlighter-rouge">ADD</code> from remote URL’s extracted archives <a href="https://github.com/docker/docker-ce/pull/89">#89</a></li>
  <li>Fix handling of remote “git@” notation <a href="https://github.com/docker/docker-ce/pull/100">#100</a></li>
  <li>Fix copy <code class="highlighter-rouge">--from</code> conflict with force pull <a href="https://github.com/docker/docker-ce/pull/86">#86</a></li>
</ul>

<h4 id="client-9">Client</h4>

<ul>
  <li>Add <code class="highlighter-rouge">--format</code> option to <code class="highlighter-rouge">docker stack ls</code> <a href="https://github.com/moby/moby/pull/31557">#31557</a></li>
  <li>Add support for labels in compose initiated builds <a href="https://github.com/moby/moby/pull/32632">#32632</a> <a href="https://github.com/moby/moby/pull/32972">#32972</a></li>
  <li>Add <code class="highlighter-rouge">--format</code> option to <code class="highlighter-rouge">docker history</code> <a href="https://github.com/moby/moby/pull/30962">#30962</a></li>
  <li>Add <code class="highlighter-rouge">--format</code> option to <code class="highlighter-rouge">docker system df</code> <a href="https://github.com/moby/moby/pull/31482">#31482</a></li>
  <li>Allow specifying Nameservers and Search Domains in stack files <a href="https://github.com/moby/moby/pull/32059">#32059</a></li>
  <li>Add support for <code class="highlighter-rouge">read_only</code> service to <code class="highlighter-rouge">docker stack deploy</code> <a href="https://github.com/docker/cli/pull/73">#docker/cli/73</a></li>
  <li>Display Swarm cluster and node TLS information <a href="https://github.com/docker/cli/pull/44">#docker/cli/44</a></li>
  <li>Add support for placement preference to <code class="highlighter-rouge">docker stack deploy</code> <a href="https://github.com/docker/cli/pull/35">#docker/cli/35</a></li>
  <li>Add new <code class="highlighter-rouge">ca </code> subcommand to <code class="highlighter-rouge">docker swarm</code> to allow managing a swarm CA <a href="https://github.com/docker/cli/pull/48">#docker/cli/48</a></li>
  <li>Add credential-spec to compose <a href="https://github.com/docker/cli/pull/71">#docker/cli/71</a></li>
  <li>Add support for csv format options to <code class="highlighter-rouge">--network</code> and <code class="highlighter-rouge">--network-add</code> <a href="https://github.com/docker/cli/pull/62">#docker/cli/62</a> <a href="https://github.com/moby/moby/pull/33130">#33130</a></li>
  <li>Fix stack compose bind-mount volumes on Windows <a href="https://github.com/docker/cli/pull/136">#docker/cli/136</a></li>
  <li>Correctly handle a Docker daemon without registry info <a href="https://github.com/docker/cli/pull/126">#docker/cli/126</a></li>
  <li>Allow <code class="highlighter-rouge">--detach</code> and <code class="highlighter-rouge">--quiet</code> flags when using --rollback <a href="https://github.com/docker/cli/pull/144">#docker/cli/144</a></li>
  <li>Remove deprecated <code class="highlighter-rouge">--email</code> flag from <code class="highlighter-rouge">docker login</code> <a href="https://github.com/docker/cli/pull/143">#docker/cli/143</a></li>
  <li>Adjusted <code class="highlighter-rouge">docker stats</code> memory output <a href="https://github.com/docker/cli/pull/80">#docker/cli/80</a></li>
  <li>Add <code class="highlighter-rouge">--mount</code> flag to <code class="highlighter-rouge">docker run</code> and <code class="highlighter-rouge">docker create</code> <a href="https://github.com/moby/moby/pull/32251">#32251</a></li>
  <li>Add <code class="highlighter-rouge">--type=secret</code> to <code class="highlighter-rouge">docker inspect</code> <a href="https://github.com/moby/moby/pull/32124">#32124</a></li>
  <li>Add <code class="highlighter-rouge">--format</code> option to <code class="highlighter-rouge">docker secret ls</code> <a href="https://github.com/moby/moby/pull/31552">#31552</a></li>
  <li>Add <code class="highlighter-rouge">--filter</code> option to <code class="highlighter-rouge">docker secret ls</code> <a href="https://github.com/moby/moby/pull/30810">#30810</a></li>
  <li>Add <code class="highlighter-rouge">--filter scope=&lt;swarm|local&gt;</code> to <code class="highlighter-rouge">docker network ls</code> <a href="https://github.com/moby/moby/pull/31529">#31529</a></li>
  <li>Add <code class="highlighter-rouge">--cpus</code> support to <code class="highlighter-rouge">docker update</code> <a href="https://github.com/moby/moby/pull/31148">#31148</a></li>
  <li>Add label filter to <code class="highlighter-rouge">docker system prune</code> and other <code class="highlighter-rouge">prune</code> commands <a href="https://github.com/moby/moby/pull/30740">#30740</a></li>
  <li><code class="highlighter-rouge">docker stack rm</code> now accepts multiple stacks as input <a href="https://github.com/moby/moby/pull/32110">#32110</a></li>
  <li>Improve <code class="highlighter-rouge">docker version --format</code> option when the client has downgraded the API version <a href="https://github.com/moby/moby/pull/31022">#31022</a></li>
  <li>Prompt when using an encrypted client certificate to connect to a docker daemon <a href="https://github.com/moby/moby/pull/31364">#31364</a></li>
  <li>Display created tags on successful <code class="highlighter-rouge">docker build</code> <a href="https://github.com/moby/moby/pull/32077">#32077</a></li>
  <li>Cleanup compose convert error messages <a href="https://github.com/moby/moby/pull/32087">#32087</a></li>
  <li>Sort <code class="highlighter-rouge">docker stack ls</code> by name <a href="https://github.com/moby/moby/pull/31085">#31085</a></li>
  <li>Flags for specifying bind mount consistency <a href="https://github.com/moby/moby/pull/31047">#31047</a></li>
  <li>Output of docker CLI --help is now wrapped to the terminal width <a href="https://github.com/moby/moby/pull/28751">#28751</a></li>
  <li>Suppress image digest in docker ps <a href="https://github.com/moby/moby/pull/30848">#30848</a></li>
  <li>Hide command options that are related to Windows <a href="https://github.com/moby/moby/pull/30788">#30788</a></li>
  <li>Fix <code class="highlighter-rouge">docker plugin install</code> prompt to accept “enter” for the “N” default <a href="https://github.com/moby/moby/pull/30769">#30769</a></li>
  <li>Add <code class="highlighter-rouge">truncate</code> function for Go templates <a href="https://github.com/moby/moby/pull/30484">#30484</a></li>
  <li>Support expanded syntax of ports in <code class="highlighter-rouge">stack deploy</code> <a href="https://github.com/moby/moby/pull/30476">#30476</a></li>
  <li>Support expanded syntax of mounts in <code class="highlighter-rouge">stack deploy</code> <a href="https://github.com/moby/moby/pull/30597">#30597</a> <a href="https://github.com/moby/moby/pull/31795">#31795</a></li>
  <li>Add <code class="highlighter-rouge">--add-host</code> for docker build <a href="https://github.com/moby/moby/pull/30383">#30383</a></li>
  <li>Add <code class="highlighter-rouge">.CreatedAt</code> placeholder for <code class="highlighter-rouge">docker network ls --format</code> <a href="https://github.com/moby/moby/pull/29900">#29900</a></li>
  <li>Update order of <code class="highlighter-rouge">--secret-rm</code> and <code class="highlighter-rouge">--secret-add</code> <a href="https://github.com/moby/moby/pull/29802">#29802</a></li>
  <li>Add <code class="highlighter-rouge">--filter enabled=true</code> for <code class="highlighter-rouge">docker plugin ls</code> <a href="https://github.com/moby/moby/pull/28627">#28627</a></li>
  <li>Add <code class="highlighter-rouge">--format</code> to <code class="highlighter-rouge">docker service ls</code> <a href="https://github.com/moby/moby/pull/28199">#28199</a></li>
  <li>Add <code class="highlighter-rouge">publish</code> and <code class="highlighter-rouge">expose</code> filter for <code class="highlighter-rouge">docker ps --filter</code> <a href="https://github.com/moby/moby/pull/27557">#27557</a></li>
  <li>Support multiple service IDs on <code class="highlighter-rouge">docker service ps</code> <a href="https://github.com/moby/moby/pull/25234">#25234</a></li>
  <li>Allow swarm join with <code class="highlighter-rouge">--availability=drain</code> <a href="https://github.com/moby/moby/pull/24993">#24993</a></li>
  <li>Docker inspect now shows “docker-default” when AppArmor is enabled and no other profile was defined <a href="https://github.com/moby/moby/pull/27083">#27083</a></li>
  <li>Make pruning volumes optional when running <code class="highlighter-rouge">docker system prune</code>, and add a <code class="highlighter-rouge">--volumes</code> flag <a href="https://github.com/docker/docker-ce/pull/109">#109</a></li>
  <li>Show progress of replicated tasks before they are assigned <a href="https://github.com/docker/docker-ce/pull/97">#97</a></li>
  <li>Fix <code class="highlighter-rouge">docker wait</code> hanging if the container does not exist <a href="https://github.com/docker/docker-ce/pull/106">#106</a></li>
  <li>If <code class="highlighter-rouge">docker swarm ca</code> is called without the <code class="highlighter-rouge">--rotate</code> flag, warn if other flags are passed <a href="https://github.com/docker/docker-ce/pull/110">#110</a></li>
  <li>Fix API version negotiation not working if the daemon returns an error <a href="https://github.com/docker/docker-ce/pull/115">#115</a></li>
  <li>Print an error if “until” filter is combined with “--volumes” on system prune <a href="https://github.com/docker/docker-ce/pull/154">#154</a></li>
</ul>

<h4 id="contrib">Contrib</h4>

<ul>
  <li>Add support for building docker debs for Ubuntu 17.04 Zesty on amd64 <a href="https://github.com/moby/moby/pull/32435">#32435</a></li>
</ul>

<h4 id="daemon">Daemon</h4>

<ul>
  <li>Fix <code class="highlighter-rouge">--api-cors-header</code> being ignored if <code class="highlighter-rouge">--api-enable-cors</code> is not set <a href="https://github.com/moby/moby/pull/32174">#32174</a></li>
  <li>Cleanup docker tmp dir on start <a href="https://github.com/moby/moby/pull/31741">#31741</a></li>
  <li>Deprecate <code class="highlighter-rouge">--graph</code> flag in favor or <code class="highlighter-rouge">--data-root</code> <a href="https://github.com/moby/moby/pull/28696">#28696</a></li>
</ul>

<h4 id="distribution">Distribution</h4>

<ul>
  <li>Select digest over tag when both are provided during a pull <a href="https://github.com/moby/moby/pull/33214">#33214</a></li>
</ul>

<h4 id="logging-3">Logging</h4>

<ul>
  <li>Add monitored resource type metadata for GCP logging driver <a href="https://github.com/moby/moby/pull/32930">#32930</a></li>
  <li>Add multiline processing to the AWS CloudWatch logs driver <a href="https://github.com/moby/moby/pull/30891">#30891</a></li>
  <li>Add support for logging driver plugins <a href="https://github.com/moby/moby/pull/28403">#28403</a></li>
  <li>Add support for showing logs of individual tasks to <code class="highlighter-rouge">docker service logs</code>, and add <code class="highlighter-rouge">/task/{id}/logs</code> REST endpoint <a href="https://github.com/moby/moby/pull/32015">#32015</a></li>
  <li>Add <code class="highlighter-rouge">--log-opt env-regex</code> option to match environment variables using a regular expression <a href="https://github.com/moby/moby/pull/27565">#27565</a></li>
  <li>Implement optional ring buffer for container logs <a href="https://github.com/moby/moby/pull/28762">#28762</a></li>
  <li>Add <code class="highlighter-rouge">--log-opt awslogs-create-group=&lt;true|false&gt;</code> for awslogs (CloudWatch) to support creation of log groups as needed <a href="https://github.com/moby/moby/pull/29504">#29504</a></li>
  <li>Fix segfault when using the gcplogs logging driver with a “static” binary <a href="https://github.com/moby/moby/pull/29478">#29478</a></li>
  <li>Fix stderr logging for <code class="highlighter-rouge">journald</code> and <code class="highlighter-rouge">syslog</code> <a href="https://github.com/docker/docker-ce/pull/95">#95</a></li>
  <li>Fix log readers can block writes indefinitely <a href="https://github.com/docker/docker-ce/pull/98">#98</a></li>
  <li>Fix <code class="highlighter-rouge">awslogs</code> driver repeating last event <a href="https://github.com/docker/docker-ce/pull/151">#151</a></li>
</ul>

<h4 id="networking-11">Networking</h4>

<ul>
  <li>Add Support swarm-mode services with node-local networks such as macvlan, ipvlan, bridge, host <a href="https://github.com/moby/moby/pull/32981">#32981</a></li>
  <li>Pass driver-options to network drivers on service creation <a href="https://github.com/moby/moby/pull/33130">#32981</a></li>
  <li>Isolate Swarm Control-plane traffic from Application data traffic using --data-path-addr <a href="https://github.com/moby/moby/pull/32717">#32717</a></li>
  <li>Several improvements to Service Discovery <a href="https://github.com/docker/libnetwork/pull/1796">#docker/libnetwork/1796</a></li>
  <li>Allow user to replace, and customize the ingress network <a href="https://github.com/moby/moby/pull/31714">#31714</a></li>
  <li>Fix UDP traffic in containers not working after the container is restarted <a href="https://github.com/moby/moby/pull/32505">#32505</a></li>
  <li>Fix files being written to <code class="highlighter-rouge">/var/lib/docker</code> if a different data-root is set <a href="https://github.com/moby/moby/pull/32505">#32505</a></li>
  <li>Check parameter <code class="highlighter-rouge">--ip</code>, <code class="highlighter-rouge">--ip6</code> and <code class="highlighter-rouge">--link-local-ip</code> in <code class="highlighter-rouge">docker network connect</code> <a href="https://github.com/moby/moby/pull/30807">#30807</a></li>
  <li>Added support for <code class="highlighter-rouge">dns-search</code> <a href="https://github.com/moby/moby/pull/30117">#30117</a></li>
  <li>Added --verbose option for docker network inspect to show task details from all swarm nodes <a href="https://github.com/moby/moby/pull/31710">#31710</a></li>
  <li>Clear stale datapath encryption states when joining the cluster <a href="https://github.com/docker/libnetwork/pull/1354">docker/libnetwork#1354</a></li>
  <li>Ensure iptables initialization only happens once <a href="https://github.com/docker/libnetwork/pull/1676">docker/libnetwork#1676</a></li>
  <li>Fix bad order of iptables filter rules <a href="https://github.com/docker/libnetwork/pull/961">docker/libnetwork#961</a></li>
  <li>Add anonymous container alias to service record on attachable network <a href="https://github.com/docker/libnetwork/pull/1651">docker/libnetwork#1651</a></li>
  <li>Support for <code class="highlighter-rouge">com.docker.network.container_interface_prefix</code> driver label <a href="https://github.com/docker/libnetwork/pull/1667">docker/libnetwork#1667</a></li>
  <li>Improve network list performance by omitting network details that are not used <a href="https://github.com/moby/moby/pull/30673">#30673</a></li>
  <li>Fix issue with driver options not received by network drivers <a href="https://github.com/docker/docker-ce/pull/127">#127</a></li>
</ul>

<h4 id="packaging-5">Packaging</h4>

<ul>
  <li>Rely on <code class="highlighter-rouge">container-selinux</code> on Centos/Fedora/RHEL when available <a href="https://github.com/moby/moby/pull/32437">#32437</a></li>
</ul>

<h4 id="plugins-1">Plugins</h4>

<ul>
  <li>Make plugin removes more resilient to failure <a href="https://github.com/docker/docker-ce/pull/91">#91</a></li>
</ul>

<h4 id="runtime-20">Runtime</h4>

<ul>
  <li>Add build &amp; engine info prometheus metrics <a href="https://github.com/moby/moby/pull/32792">#32792</a></li>
  <li>Update containerd to d24f39e203aa6be4944f06dd0fe38a618a36c764 <a href="https://github.com/moby/moby/pull/33007">#33007</a></li>
  <li>Update runc to 992a5be178a62e026f4069f443c6164912adbf09 <a href="https://github.com/moby/moby/pull/33007">#33007</a></li>
  <li>Add option to auto-configure blkdev for devmapper <a href="https://github.com/moby/moby/pull/31104">#31104</a></li>
  <li>Add log driver list to <code class="highlighter-rouge">docker info</code> <a href="https://github.com/moby/moby/pull/32540">#32540</a></li>
  <li>Add API endpoint to allow retrieving an image manifest <a href="https://github.com/moby/moby/pull/32061">#32061</a></li>
  <li>Do not remove container from memory on error with <code class="highlighter-rouge">forceremove</code> <a href="https://github.com/moby/moby/pull/31012">#31012</a></li>
  <li>Add support for metric plugins <a href="https://github.com/moby/moby/pull/32874">#32874</a></li>
  <li>Return an error when an invalid filter is given to <code class="highlighter-rouge">prune</code> commands <a href="https://github.com/moby/moby/pull/33023">#33023</a></li>
  <li>Add daemon option to allow pushing foreign layers <a href="https://github.com/moby/moby/pull/33151">#33151</a></li>
  <li>Fix an issue preventing containerd to be restarted after it died <a href="https://github.com/moby/moby/pull/32986">#32986</a></li>
  <li>Add cluster events to Docker event stream. <a href="https://github.com/moby/moby/pull/32421">#32421</a></li>
  <li>Add support for DNS search on windows <a href="https://github.com/moby/moby/pull/33311">#33311</a></li>
  <li>Upgrade to Go 1.8.3 <a href="https://github.com/moby/moby/pull/33387">#33387</a></li>
  <li>Prevent a containerd crash when journald is restarted <a href="https://github.com/moby/moby/pull/33007">#33007</a></li>
  <li>Fix healthcheck failures due to invalid environment variables <a href="https://github.com/moby/moby/pull/33249">#33249</a></li>
  <li>Prevent a directory to be created in lieu of the daemon socket when a container mounting it is to be restarted during a shutdown <a href="https://github.com/moby/moby/pull/33330">#30348</a></li>
  <li>Prevent a container to be restarted upon stop if its stop signal is set to <code class="highlighter-rouge">SIGKILL</code> <a href="https://github.com/moby/moby/pull/33335">#33335</a></li>
  <li>Ensure log drivers get passed the same filename to both StartLogging and StopLogging endpoints <a href="https://github.com/moby/moby/pull/33583">#33583</a></li>
  <li>Remove daemon data structure dump on <code class="highlighter-rouge">SIGUSR1</code> to avoid a panic <a href="https://github.com/moby/moby/pull/33598">#33598</a></li>
  <li>Ensure health probe is stopped when a container exits <a href="https://github.com/moby/moby/pull/32274">#32274</a></li>
  <li>Handle paused container when restoring without live-restore set <a href="https://github.com/moby/moby/pull/31704">#31704</a></li>
  <li>Do not allow sub second in healthcheck options in Dockerfile <a href="https://github.com/moby/moby/pull/31177">#31177</a></li>
  <li>Support name and id prefix in <code class="highlighter-rouge">secret update</code> <a href="https://github.com/moby/moby/pull/30856">#30856</a></li>
  <li>Use binary frame for websocket attach endpoint <a href="https://github.com/moby/moby/pull/30460">#30460</a></li>
  <li>Fix linux mount calls not applying propagation type changes <a href="https://github.com/moby/moby/pull/30416">#30416</a></li>
  <li>Fix ExecIds leak on failed <code class="highlighter-rouge">exec -i</code> <a href="https://github.com/moby/moby/pull/30340">#30340</a></li>
  <li>Prune named but untagged images if <code class="highlighter-rouge">danglingOnly=true</code> <a href="https://github.com/moby/moby/pull/30330">#30330</a></li>
  <li>Add daemon flag to set <code class="highlighter-rouge">no_new_priv</code> as default for unprivileged containers <a href="https://github.com/moby/moby/pull/29984">#29984</a></li>
  <li>Add daemon option <code class="highlighter-rouge">--default-shm-size</code> <a href="https://github.com/moby/moby/pull/29692">#29692</a></li>
  <li>Support registry mirror config reload <a href="https://github.com/moby/moby/pull/29650">#29650</a></li>
  <li>Ignore the daemon log config when building images <a href="https://github.com/moby/moby/pull/29552">#29552</a></li>
  <li>Move secret name or ID prefix resolving from client to daemon <a href="https://github.com/moby/moby/pull/29218">#29218</a></li>
  <li>Add the ability to specify extra rules for a container device <code class="highlighter-rouge">cgroup devices.allow</code> mechanism <a href="https://github.com/moby/moby/pull/22563">#22563</a></li>
  <li>Fix <code class="highlighter-rouge">cpu.cfs_quota_us</code> being reset when running <code class="highlighter-rouge">systemd daemon-reload</code> <a href="https://github.com/moby/moby/pull/31736">#31736</a></li>
  <li>Prevent a <code class="highlighter-rouge">goroutine</code> leak when <code class="highlighter-rouge">healthcheck</code> gets stopped <a href="https://github.com/docker/docker-ce/pull/90">#90</a></li>
  <li>Do not error on relabel when relabel not supported <a href="https://github.com/docker/docker-ce/pull/92">#92</a></li>
  <li>Limit max backoff delay to 2 seconds for GRPC connection <a href="https://github.com/docker/docker-ce/pull/94">#94</a></li>
  <li>Fix issue preventing containers to run when memory cgroup was specified due to bug in certain kernels <a href="https://github.com/docker/docker-ce/pull/102">#102</a></li>
  <li>Fix container not responding to SIGKILL when paused <a href="https://github.com/docker/docker-ce/pull/102">#102</a></li>
  <li>Improve error message if an image for an incompatible OS is loaded <a href="https://github.com/docker/docker-ce/pull/108">#108</a></li>
  <li>Fix a handle leak in <code class="highlighter-rouge">go-winio</code> <a href="https://github.com/docker/docker-ce/pull/112">#112</a></li>
  <li>Fix issue upon upgrade, preventing docker from showing running containers when <code class="highlighter-rouge">--live-restore</code> is enabled <a href="https://github.com/docker/docker-ce/pull/117">#117</a></li>
  <li>Fix bug where services using secrets would fail to start on daemons using the <code class="highlighter-rouge">userns-remap</code> feature <a href="https://github.com/docker/docker-ce/pull/121">#121</a></li>
  <li>Fix error handling with <code class="highlighter-rouge">not-exist</code> errors on remove <a href="https://github.com/docker/docker-ce/pull/142">#142</a></li>
  <li>Fix REST API Swagger representation cannot be loaded with SwaggerUI <a href="https://github.com/docker/docker-ce/pull/156">#156</a></li>
</ul>

<h4 id="security">Security</h4>

<ul>
  <li>Allow personality with UNAME26 bit set in default seccomp profile <a href="https://github.com/moby/moby/pull/32965">#32965</a></li>
  <li>Allow setting SELinux type or MCS labels when using <code class="highlighter-rouge">--ipc=container:</code> or <code class="highlighter-rouge">--ipc=host</code> <a href="https://github.com/moby/moby/pull/30652">#30652</a></li>
  <li>Redact secret data on secret creation <a href="https://github.com/docker/docker-ce/pull/99">#99</a></li>
</ul>

<h4 id="swarm-mode-13">Swarm mode</h4>

<ul>
  <li>Add an option to allow specifying a different interface for the data traffic (as opposed to control traffic) <a href="https://github.com/moby/moby/pull/32717">#32717</a></li>
  <li>Allow specifying a secret location within the container <a href="https://github.com/moby/moby/pull/32571">#32571</a></li>
  <li>Add support for secrets on Windows <a href="https://github.com/moby/moby/pull/32208">#32208</a></li>
  <li>Add TLS Info to swarm info and node info endpoint <a href="https://github.com/moby/moby/pull/32875">#32875</a></li>
  <li>Add support for services to carry arbitrary config objects <a href="https://github.com/moby/moby/pull/32336">#32336</a>, <a href="https://github.com/docker/cli/pull/45">#docker/cli/45</a>,<a href="https://github.com/moby/moby/pull/33169">#33169</a></li>
  <li>Add API to rotate swarm CA certificate <a href="https://github.com/moby/moby/pull/32993">#32993</a></li>
  <li>Service digest pining is now handled client side <a href="https://github.com/moby/moby/pull/32388">#32388</a>, <a href="https://github.com/moby/moby/pull/33239">#33239</a></li>
  <li>Placement now also take platform in account <a href="https://github.com/moby/moby/pull/33144">#33144</a></li>
  <li>Fix possible hang when joining fails <a href="https://github.com/docker/docker-ce/pull/19">#docker-ce/19</a></li>
  <li>Fix an issue preventing external CA to be accepted <a href="https://github.com/moby/moby/pull/33341">#33341</a></li>
  <li>Fix possible orchestration panic in mixed version clusters <a href="https://github.com/docker/swarmkit/pull/2233">#swarmkit/2233</a></li>
  <li>Avoid assigning duplicate IPs during initialization <a href="https://github.com/docker/swarmkit/pull/2237">#swarmkit/2237</a></li>
  <li>Add update/rollback order for services (<code class="highlighter-rouge">--update-order</code> / <code class="highlighter-rouge">--rollback-order</code>) <a href="https://github.com/moby/moby/pull/30261">#30261</a></li>
  <li>Add support for synchronous <code class="highlighter-rouge">service create</code> and <code class="highlighter-rouge">service update</code> <a href="https://github.com/moby/moby/pull/31144">#31144</a></li>
  <li>Add support for “grace periods” on healthchecks through the <code class="highlighter-rouge">HEALTHCHECK --start-period</code> and <code class="highlighter-rouge">--health-start-period</code> flag to
<code class="highlighter-rouge">docker service create</code>, <code class="highlighter-rouge">docker service update</code>, <code class="highlighter-rouge">docker create</code>, and <code class="highlighter-rouge">docker run</code> to support containers with an initial startup
time <a href="https://github.com/moby/moby/pull/28938">#28938</a></li>
  <li><code class="highlighter-rouge">docker service create</code> now omits fields that are not specified by the user, when possible. This allows defaults to be applied inside the manager <a href="https://github.com/moby/moby/pull/32284">#32284</a></li>
  <li><code class="highlighter-rouge">docker service inspect</code> now shows default values for fields that are not specified by the user <a href="https://github.com/moby/moby/pull/32284">#32284</a></li>
  <li>Move <code class="highlighter-rouge">docker service logs</code> out of experimental <a href="https://github.com/moby/moby/pull/32462">#32462</a></li>
  <li>Add support for Credential Spec and SELinux to services to the API <a href="https://github.com/moby/moby/pull/32339">#32339</a></li>
  <li>Add <code class="highlighter-rouge">--entrypoint</code> flag to <code class="highlighter-rouge">docker service create</code> and <code class="highlighter-rouge">docker service update</code> <a href="https://github.com/moby/moby/pull/29228">#29228</a></li>
  <li>Add <code class="highlighter-rouge">--network-add</code> and <code class="highlighter-rouge">--network-rm</code> to <code class="highlighter-rouge">docker service update</code> <a href="https://github.com/moby/moby/pull/32062">#32062</a></li>
  <li>Add <code class="highlighter-rouge">--credential-spec</code> flag to <code class="highlighter-rouge">docker service create</code> and <code class="highlighter-rouge">docker service update</code> <a href="https://github.com/moby/moby/pull/32339">#32339</a></li>
  <li>Add <code class="highlighter-rouge">--filter mode=&lt;global|replicated&gt;</code> to <code class="highlighter-rouge">docker service ls</code> <a href="https://github.com/moby/moby/pull/31538">#31538</a></li>
  <li>Resolve network IDs on the client side, instead of in the daemon when creating services <a href="https://github.com/moby/moby/pull/32062">#32062</a></li>
  <li>Add <code class="highlighter-rouge">--format</code> option to <code class="highlighter-rouge">docker node ls</code> <a href="https://github.com/moby/moby/pull/30424">#30424</a></li>
  <li>Add <code class="highlighter-rouge">--prune</code> option to <code class="highlighter-rouge">docker stack deploy</code> to remove services that are no longer defined in the docker-compose file <a href="https://github.com/moby/moby/pull/31302">#31302</a></li>
  <li>Add <code class="highlighter-rouge">PORTS</code> column for <code class="highlighter-rouge">docker service ls</code> when using <code class="highlighter-rouge">ingress</code> mode <a href="https://github.com/moby/moby/pull/30813">#30813</a></li>
  <li>Fix unnescessary re-deploying of tasks when environment-variables are used <a href="https://github.com/moby/moby/pull/32364">#32364</a></li>
  <li>Fix <code class="highlighter-rouge">docker stack deploy</code> not supporting <code class="highlighter-rouge">endpoint_mode</code> when deploying from a docker compose file <a href="https://github.com/moby/moby/pull/32333">#32333</a></li>
  <li>Proceed with startup if cluster component cannot be created to allow recovering from a broken swarm setup <a href="https://github.com/moby/moby/pull/31631">#31631</a></li>
  <li>Topology-aware scheduling <a href="https://github.com/moby/moby/pull/30725">#30725</a></li>
  <li>Automatic service rollback on failure <a href="https://github.com/moby/moby/pull/31108">#31108</a></li>
  <li>Worker and manager on the same node are now connected through a UNIX socket <a href="https://github.com/docker/swarmkit/pull/1828">docker/swarmkit#1828</a>, <a href="https://github.com/docker/swarmkit/pull/1850">docker/swarmkit#1850</a>, <a href="https://github.com/docker/swarmkit/pull/1851">docker/swarmkit#1851</a></li>
  <li>Improve raft transport package <a href="https://github.com/docker/swarmkit/pull/1748">docker/swarmkit#1748</a></li>
  <li>No automatic manager shutdown on demotion/removal <a href="https://github.com/docker/swarmkit/pull/1829">docker/swarmkit#1829</a></li>
  <li>Use TransferLeadership to make leader demotion safer <a href="https://github.com/docker/swarmkit/pull/1939">docker/swarmkit#1939</a></li>
  <li>Decrease default monitoring period <a href="https://github.com/docker/swarmkit/pull/1967">docker/swarmkit#1967</a></li>
  <li>Add Service logs formatting <a href="https://github.com/moby/moby/pull/31672">#31672</a></li>
  <li>Fix service logs API to be able to specify stream <a href="https://github.com/moby/moby/pull/31313">#31313</a></li>
  <li>Add <code class="highlighter-rouge">--stop-signal</code> for <code class="highlighter-rouge">service create</code> and <code class="highlighter-rouge">service update</code> <a href="https://github.com/moby/moby/pull/30754">#30754</a></li>
  <li>Add <code class="highlighter-rouge">--read-only</code> for <code class="highlighter-rouge">service create</code> and <code class="highlighter-rouge">service update</code> <a href="https://github.com/moby/moby/pull/30162">#30162</a></li>
  <li>Renew the context after communicating with the registry <a href="https://github.com/moby/moby/pull/31586">#31586</a></li>
  <li>(experimental) Add <code class="highlighter-rouge">--tail</code> and <code class="highlighter-rouge">--since</code> options to <code class="highlighter-rouge">docker service logs</code> <a href="https://github.com/moby/moby/pull/31500">#31500</a></li>
  <li>(experimental) Add <code class="highlighter-rouge">--no-task-ids</code> and <code class="highlighter-rouge">--no-trunc</code> options to <code class="highlighter-rouge">docker service logs</code> <a href="https://github.com/moby/moby/pull/31672">#31672</a></li>
  <li>Do not add duplicate platform information to service spec <a href="https://github.com/docker/docker-ce/pull/107">#107</a></li>
  <li>Cluster update and memory issue fixes <a href="https://github.com/docker/docker-ce/pull/114">#114</a></li>
  <li>Changing get network request to return predefined network in swarm <a href="https://github.com/docker/docker-ce/pull/150">#150</a></li>
</ul>

<h4 id="windows-1">Windows</h4>

<ul>
  <li>Block pulling Windows images on non-Windows daemons <a href="https://github.com/moby/moby/pull/29001">#29001</a></li>
</ul>

<h4 id="deprecation">Deprecation</h4>

<ul>
  <li>Disable legacy registry (v1) by default <a href="https://github.com/moby/moby/pull/33629">#33629</a></li>
  <li>Deprecate <code class="highlighter-rouge">--api-enable-cors</code> daemon flag. This flag was marked deprecated in Docker 1.6.0 but not listed in deprecated features <a href="https://github.com/moby/moby/pull/32352">#32352</a></li>
  <li>Remove Ubuntu 12.04 (Precise Pangolin) as supported platform. Ubuntu 12.04 is EOL, and no longer receives updates <a href="https://github.com/moby/moby/pull/32520">#32520</a></li>
</ul>

<h4 id="known-issues-25">Known issues</h4>

<p>If a container is spawned on node A, using the same IP of a container destroyed
on nodeB within 5 min from the time that it exit, the container on node A is
not reachable until one of these 2 conditions happens:</p>

<ol>
  <li>Container on A sends a packet out,</li>
  <li>The timer that cleans the arp entry in the overlay namespace is triggered (around 5 minutes).</li>
</ol>

<p>As a workaround, send at least a packet out from each container like
(ping, GARP, etc).</p>

<h2 id="docker-ee-17032-ee-8">Docker EE 17.03.2-ee-8</h2>
<p>2017-12-13</p>

<ul>
  <li>Handle cleanup DNS for attachable container to prevent leak in name resolution <a href="https://github.com/docker/libnetwork/pull/1999">docker/libnetwork#1999</a></li>
  <li>When a node is removed, delete all of its attachment tasks so networks used by those tasks can be removed <a href="https://github.com/docker/swarmkit/pull/2417">docker/swarmkit#2417</a></li>
  <li>Increase gRPC request timeout to 20 seconds for sending snapshots to prevent <code class="highlighter-rouge">context deadline exceeded</code> errors <a href="https://github.com/docker/swarmkit/pull/2406">docker/swarmkit#2406</a></li>
  <li>Avoid using a map for log attributes to prevent panic <a href="https://github.com/moby/moby/pull/34174">moby/moby#34174</a></li>
  <li>Fix “raw” mode with the Splunk logging driver <a href="https://github.com/moby/moby/pull/34520">moby/moby#34520</a></li>
  <li>Don’t unmount entire plugin manager tree on remove <a href="https://github.com/moby/moby/pull/33422">moby/moby#33422</a></li>
  <li>Redact secret data on secret creation <a href="https://github.com/moby/moby/pull/33884">moby/moby#33884</a></li>
  <li>Sort secrets and configs to ensure idempotence and prevent <code class="highlighter-rouge">docker stack deploy</code> from useless restart of services <a href="https://github.com/docker/cli/pull/509">docker/cli#509</a></li>
  <li>Automatically set <code class="highlighter-rouge">may_detach_mounts=1</code> on startup to prevent <code class="highlighter-rouge">device or resource busy</code> errors <a href="https://github.com/moby/moby/pull/34886">moby/moby#34886</a></li>
  <li>Don’t abort when setting <code class="highlighter-rouge">may_detach_mounts</code> <a href="https://github.com/moby/moby/pull/35172">moby/moby#35172</a></li>
  <li>Protect health monitor channel to prevent engine panic <a href="https://github.com/moby/moby/pull/35482">moby/moby#35482</a></li>
</ul>

<h2 id="docker-ee-17032-ee-7">Docker EE 17.03.2-ee-7</h2>
<p>2017-10-04</p>

<ul>
  <li>Fix logic in network resource reaping to prevent memory leak <a href="https://github.com/docker/libnetwork/pull/1944">docker/libnetwork#1944</a> <a href="https://github.com/docker/libnetwork/pull/1960">docker/libnetwork#1960</a></li>
  <li>Increase max GRPC message size to 128MB for larger snapshots so newly added managers can successfully join <a href="https://github.com/docker/swarmkit/pull/2375">docker/swarmkit#2375</a></li>
</ul>

<h3 id="docker-ee-17032-ee-6">Docker EE 17.03.2-ee-6</h3>
<p>2017-08-24</p>

<ul>
  <li>Fix daemon panic on docker image push <a href="https://github.com/moby/moby/pull/33105">moby/moby#33105</a></li>
  <li>Fix panic in concurrent network creation/deletion operations <a href="https://github.com/docker/libnetwork/pull/1861">docker/libnetwork#1861</a></li>
  <li>Improve network db stability under stressful situations <a href="https://github.com/docker/libnetwork/pull/1860">docker/libnetwork#1860</a></li>
  <li>Enable TCP Keep-Alive in Docker client <a href="https://github.com/docker/cli/pull/415">docker/cli#415</a></li>
  <li>Lock goroutine to OS thread while changing NS <a href="https://github.com/docker/libnetwork/pull/1911">docker/libnetwork#1911</a></li>
  <li>Ignore PullOptions for running tasks <a href="https://github.com/docker/swarmkit/pull/2351">docker/swarmkit#2351</a></li>
</ul>

<h3 id="docker-ee-17032-ee-5">Docker EE 17.03.2-ee-5</h3>
<p>20 Jul 2017</p>

<ul>
  <li>Add more locking to storage drivers <a href="https://github.com/moby/moby/pull/31136">#31136</a></li>
  <li>Prevent data race on <code class="highlighter-rouge">docker network connect/disconnect</code> <a href="https://github.com/moby/moby/pull/33456">#33456</a></li>
  <li>Improve service discovery reliability <a href="https://github.com/docker/libnetwork/pull/1796">#1796</a> <a href="https://github.com/docker/libnetwork/pull/1808">#18078</a></li>
  <li>Fix resource leak in swarm mode <a href="https://github.com/docker/swarmkit/pull/2215">#2215</a></li>
  <li>Optimize <code class="highlighter-rouge">docker system df</code> for volumes on NFS <a href="https://github.com/moby/moby/pull/33620">#33620</a></li>
  <li>Fix validation bug with host-mode ports in swarm mode <a href="https://github.com/docker/swarmkit/pull/2177">#2177</a></li>
  <li>Fix potential crash in swarm mode <a href="https://github.com/docker/swarmkit/pull/2268">#2268</a></li>
  <li>Improve network control-plane reliability <a href="https://github.com/docker/libnetwork/pull/1704">#1704</a></li>
  <li>Do not error out when selinux relabeling is not supported on volume filesystem <a href="https://github.com/moby/moby/pull/33831">#33831</a></li>
  <li>Remove debugging code for aufs ebusy errors <a href="https://github.com/moby/moby/pull/31665">#31665</a></li>
  <li>Prevent resource leak on healthchecks <a href="https://github.com/moby/moby/pull/33781">#33781</a></li>
  <li>Fix issue where containerd supervisor may exit prematurely <a href="https://github.com/moby/moby/pull/32590">#32590</a></li>
  <li>Fix potential containerd crash <a href="https://github.com/docker/containerd/pull/2">#2</a></li>
  <li>Ensure server details are set in client even when an error is returned <a href="https://github.com/moby/moby/pull/33827">#33827</a></li>
  <li>Fix issue where slow/dead <code class="highlighter-rouge">docker logs</code> clients can block the container <a href="https://github.com/moby/moby/pull/33897">#33897</a></li>
  <li>Fix potential panic on Windows when running as a service <a href="https://github.com/moby/moby/pull/32244">#32244</a></li>
</ul>

<h3 id="docker-ee-17032-ee-4">Docker EE 17.03.2-ee-4</h3>
<p>2017-06-01</p>

<p>Refer to the <a href="https://github.com/moby/moby/releases/tag/v17.03.2-ce">detailed list</a> of all changes since the release of Docker EE 17.03.1-ee-3</p>

<p><strong>Note</strong>: This release includes a fix for potential data loss under certain
circumstances with the local (built-in) volume driver.</p>

<h3 id="docker-ee-17031-ee-3">Docker EE 17.03.1-ee-3</h3>
<p>2017-03-30</p>

<ul>
  <li>Fix an issue with the SELinux policy for Oracle Linux <a href="https://github.com/docker/docker/pull/31501">#31501</a></li>
</ul>

<h3 id="docker-ee-17031-ee-2">Docker EE 17.03.1-ee-2</h3>
<p>2017-03-28</p>

<ul>
  <li>Fix issue with swarm CA timeouts <a href="https://github.com/docker/swarmkit/pull/2063">#2063</a> <a href="https://github.com/docker/swarmkit/pull/2064/files">#2064</a></li>
</ul>

<p>Refer to the <a href="https://github.com/moby/moby/releases/tag/v17.03.1-ce">detailed list</a> of all changes since the release of Docker EE 17.03.0-ee-1</p>

<h3 id="docker-ee-17030-ee-1-2-mar-2017">Docker EE 17.03.0-ee-1 (2 Mar 2017)</h3>

<p>Initial Docker EE release, based on Docker CE 17.03.0</p>

<ul>
  <li>Optimize size calculation for <code class="highlighter-rouge">docker system df</code> container size <a href="https://github.com/docker/docker/pull/31159">#31159</a></li>
</ul>

<h2 id="older-docker-engine-ce-release-notes">Older Docker Engine CE Release notes</h2>

<h2 id="18063-ce">18.06.3-ce</h2>

<p>2019-02-19</p>

<h3 id="security-fixes-for-docker-engine---community">Security fixes for Docker Engine - Community</h3>
<ul>
  <li>Change how the <code class="highlighter-rouge">runc</code> critical vulnerability patch is applied to include the fix in RPM packages. <a href="https://github.com/docker/engine/pull/156">docker/engine#156</a></li>
</ul>

<h2 id="18062">18.06.2</h2>

<p>2019-02-11</p>

<h3 id="security-fixes-for-docker-engine---community-1">Security fixes for Docker Engine - Community</h3>
<ul>
  <li>Update <code class="highlighter-rouge">runc</code> to address a critical vulnerability that allows specially-crafted containers to gain administrative privileges on the host. <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-5736">CVE-2019-5736</a></li>
  <li>Ubuntu 14.04 customers using a 3.13 kernel will need to upgrade to a supported Ubuntu 4.x kernel</li>
</ul>

<h2 id="18061-ce">18.06.1-ce</h2>
<p>2018-08-21</p>

<h3 id="builder-6">Builder</h3>

<ul>
  <li>Fix no error if build args are missing during docker build. <a href="https://github.com/docker/engine/pull/25">docker/engine#25</a></li>
  <li>Set BuildKit’s ExportedProduct variable to show useful errors. <a href="https://github.com/docker/engine/pull/21">docker/engine#21</a></li>
</ul>

<h3 id="client-10">Client</h3>

<ul>
  <li>Various shell completion script updates: <a href="https://github.com/docker/cli/pull/1229">docker/cli#1229</a>,
 <a href="https://github.com/docker/cli/pull/1268">docker/cli#1268</a>, and <a href="https://github.com/docker/cli/pull/1272">docker/cli#1272</a></li>
  <li>Fix <code class="highlighter-rouge">DOCKER_CONFIG</code> warning message and fallback search. <a href="https://github.com/docker/cli/pull/1241">docker/cli#1241</a></li>
  <li>Fix help message flags on <code class="highlighter-rouge">docker stack</code> commands and sub-commands. <a href="https://github.com/docker/cli/pull/1267">docker/cli#1267</a></li>
</ul>

<h3 id="runtime-21">Runtime</h3>

<ul>
  <li>Disable CRI plugin listening on port 10010 by default. <a href="https://github.com/docker/engine/pull/29">docker/engine#29</a></li>
  <li>Update containerd to v1.1.2. <a href="https://github.com/docker/engine/pull/33">docker/engine#33</a></li>
  <li>Windows: Do not invoke HCS shutdown if terminate called. <a href="https://github.com/docker/engine/pull/31">docker/engine#31</a></li>
  <li>Windows: Select polling-based watcher for Windows log watcher. <a href="https://github.com/docker/engine/pull/34">docker/engine#34</a></li>
</ul>

<h3 id="swarm-mode-14">Swarm Mode</h3>

<ul>
  <li>Fix the condition used for skipping over running tasks. <a href="https://github.com/docker/swarmkit/pull/2677">docker/swarmkit#2677</a></li>
  <li>Fix task sorting. <a href="https://github.com/docker/swarmkit/pull/2712">docker/swarmkit#2712</a></li>
</ul>

<h2 id="18060-ce">18.06.0-ce</h2>
<p>2018-07-18</p>

<h3 id="important-notes-about-this-release-7">Important notes about this release</h3>

<ul>
  <li>Docker 18.06 CE will be the last release with a 4-month maintenance lifecycle. The planned Docker 18.09 CE release will be supported for 7 months with Docker 19.03 CE being the next release in line. More details about the release process can be found <a href="https://matsuand.github.io/docs.docker.jp.onthefly/install/">here</a>.</li>
</ul>

<h3 id="builder-7">Builder</h3>

<ul>
  <li>Builder: fix layer leak on multi-stage wildcard copy. <a href="https://github.com/moby/moby/pull/37178">moby/moby#37178</a></li>
  <li>Fix parsing of invalid environment variable substitution . <a href="https://github.com/moby/moby/pull/37134">moby/moby#37134</a></li>
  <li>Builder: use the arch info from base image. <a href="https://github.com/moby/moby/pull/36816">moby/moby#36816</a> <a href="https://github.com/moby/moby/pull/37197">moby/moby#37197</a></li>
  <li>New experimental builder backend based on <a href="https://github.com/moby/buildkit">BuildKit</a>. To enable, run daemon in experimental mode and set <code class="highlighter-rouge">DOCKER_BUILDKIT=1</code> environment variable on the docker CLI. <a href="https://github.com/moby/moby/pull/37151">moby/moby#37151</a> <a href="https://github.com/docker/cli/pull/1111">docker/cli#1111</a></li>
  <li>Fix handling uppercase targets names in multi-stage builds. <a href="https://github.com/moby/moby/pull/36960">moby/moby#36960</a></li>
</ul>

<h3 id="client-11">Client</h3>

<ul>
  <li>Bump spf13/cobra to v0.0.3, pflag to v1.0.1. <a href="https://github.com/moby/moby/pull/37106">moby/moby#37106</a></li>
  <li>Add support for the new Stack API for Kubernetes v1beta2. <a href="https://github.com/docker/cli/pull/899">docker/cli#899</a></li>
  <li>K8s: more robust stack error detection on deploy. <a href="https://github.com/docker/cli/pull/948">docker/cli#948</a></li>
  <li>Support for rollback config in compose 3.7. <a href="https://github.com/docker/cli/pull/409">docker/cli#409</a></li>
  <li>Update Cobra and pflag, and use built-in --version feature. <a href="https://github.com/docker/cli/pull/1069">docker/cli#1069</a></li>
  <li>Fix <code class="highlighter-rouge">docker stack deploy --prune</code> with empty name removing all services. <a href="https://github.com/docker/cli/pull/1088">docker/cli#1088</a></li>
  <li>[Kubernetes] stack services filters. <a href="https://github.com/docker/cli/pull/1023">docker/cli#1023</a></li>
  <li>Only show orchestrator flag in root, stack and version commands in help. <a href="https://github.com/docker/cli/pull/1106">docker/cli#1106</a></li>
  <li>Add an <code class="highlighter-rouge">Extras</code> field on the compose config types. <a href="https://github.com/docker/cli/pull/1126">docker/cli#1126</a></li>
  <li>Add options to the compose loader. <a href="https://github.com/docker/cli/pull/1128">docker/cli#1128</a></li>
  <li>Fix always listing nodes in docker stack ps command on Kubernetes. <a href="https://github.com/docker/cli/pull/1093">docker/cli#1093</a></li>
  <li>Fix output being shown twice on stack rm error message. <a href="https://github.com/docker/cli/pull/1093">docker/cli#1093</a></li>
  <li>Extend client API with custom HTTP requests. <a href="https://github.com/moby/moby/pull/37071">moby/moby#37071</a></li>
  <li>Changed error message for unreadable files to clarify possibility of a .Dockerignore entry. <a href="https://github.com/docker/cli/pull/1053">docker/cli#1053</a></li>
  <li>Restrict kubernetes.allNamespaces value to ‘enabled’ or ‘disabled’ in configuration file. <a href="https://github.com/docker/cli/pull/1087">docker/cli#1087</a></li>
  <li>Check errors when initializing the docker client in the help command. <a href="https://github.com/docker/cli/pull/1119">docker/cli#1119</a></li>
  <li>Better namespace experience with Kubernetes. Fix using namespace defined in ~/.kube/config for stack commands. Add a NAMESPACE column for docker stack ls command. Add a --all-namespaces flag for docker stack ls command. <a href="https://github.com/docker/cli/pull/991">docker/cli#991</a></li>
  <li>Export Push and Save. <a href="https://github.com/docker/cli/pull/1123">docker/cli#1123</a></li>
  <li>Export pull as a public function. <a href="https://github.com/docker/cli/pull/1026">docker/cli#1026</a></li>
  <li>Remove Kubernetes commands from experimental. <a href="https://github.com/docker/cli/pull/1068">docker/cli#1068</a></li>
  <li>Adding configs/secrets to service inspect pretty. <a href="https://github.com/docker/cli/pull/1006">docker/cli#1006</a></li>
  <li>Fix service filtering by name on Kubernetes. <a href="https://github.com/docker/cli/pull/1101">docker/cli#1101</a></li>
  <li>Fix component information alignment in <code class="highlighter-rouge">docker version</code>. <a href="https://github.com/docker/cli/pull/1065">docker/cli#1065</a></li>
  <li>Fix cpu/memory limits and reservations being reset on service update. <a href="https://github.com/docker/cli/pull/1079">docker/cli#1079</a></li>
  <li>Manifest list: request specific permissions. <a href="https://github.com/docker/cli/pull/1024">docker/cli#1024</a></li>
  <li>Setting --orchestrator=all also sets --all-namespaces unless specific --namespace are set. <a href="https://github.com/docker/cli/pull/1059">docker/cli#1059</a></li>
  <li>Fix panics when --compress and --stream are used together. <a href="https://github.com/docker/cli/pull/1105">docker/cli#1105</a></li>
  <li>Switch from x/net/context to context. <a href="https://github.com/docker/cli/pull/1038">docker/cli#1038</a></li>
  <li>Add --init option to <code class="highlighter-rouge">docker service create</code>. <a href="https://github.com/docker/cli/pull/479">docker/cli#479</a></li>
  <li>Fixed bug displaying garbage output for build command when --stream and --quiet flags combined. <a href="https://github.com/docker/cli/pull/1090">docker/cli#1090</a></li>
  <li>Add <code class="highlighter-rouge">init</code> support in 3.7 schema. <a href="https://github.com/docker/cli/pull/1129">docker/cli#1129</a></li>
  <li>Fix docker trust signer removal. <a href="https://github.com/docker/cli/pull/1112">docker/cli#1112</a></li>
  <li>Fix error message from docker inspect. <a href="https://github.com/docker/cli/pull/1071">docker/cli#1071</a></li>
  <li>Allow <code class="highlighter-rouge">x-*</code> extension on 3rd level objects. <a href="https://github.com/docker/cli/pull/1097">docker/cli#1097</a></li>
  <li>An invalid orchestrator now generates an error instead of being silently ignored. <a href="https://github.com/docker/cli/pull/1055">docker/cli#1055</a></li>
  <li>Added ORCHESTRATOR column to docker stack ls command. <a href="https://github.com/docker/cli/pull/973">docker/cli#973</a></li>
  <li>Warn when using host-ip for published ports for services. <a href="https://github.com/docker/cli/pull/1017">docker/cli#1017</a></li>
  <li>Added the option to enable experimental cli features through the <code class="highlighter-rouge">DOCKER_CLI_EXPERIMENTAL</code> environment variable. <a href="https://github.com/docker/cli/pull/1138">docker/cli#1138</a></li>
  <li>Add exec_die to the list of known container events. <a href="https://github.com/docker/cli/pull/1028">docker/cli#1028</a></li>
  <li>[K8s] Do env-variable expansion on the uninterpreted Config files. <a href="https://github.com/docker/cli/pull/974">docker/cli#974</a></li>
  <li>Print warnings on stderr for each unsupported features while parsing a compose file for deployment on Kubernetes. <a href="https://github.com/docker/cli/pull/903">docker/cli#903</a></li>
  <li>Added description about pids count. <a href="https://github.com/docker/cli/pull/1045">docker/cli#1045</a></li>
  <li>Warn user of filter when pruning. <a href="https://github.com/docker/cli/pull/1043">docker/cli#1043</a></li>
  <li>Fix <code class="highlighter-rouge">--rollback-*</code> options overwriting <code class="highlighter-rouge">--update-*</code> options. <a href="https://github.com/docker/cli/pull/1052">docker/cli#1052</a></li>
  <li>Update Attach, Build, Commit, Cp, Create subcommand fish completions. <a href="https://github.com/docker/cli/pull/1005">docker/cli#1005</a></li>
  <li>Add bash completion for <code class="highlighter-rouge">dockerd --default-address-pool</code>. <a href="https://github.com/docker/cli/pull/1173">docker/cli#1173</a></li>
  <li>Add bash completion for <code class="highlighter-rouge">exec_die</code> event. <a href="https://github.com/docker/cli/pull/1173">docker/cli#1173</a></li>
  <li>Update docker-credential-helper so <code class="highlighter-rouge">pass</code> is not called on every docker command. <a href="https://github.com/docker/cli/pull/1184">docker/cli#1184</a></li>
  <li>Fix for rotating swarm external CA. <a href="https://github.com/docker/cli/pull/1199">docker/cli#1199</a></li>
  <li>Improve version output alignment. <a href="https://github.com/docker/cli/pull/1207">docker/cli#1207</a></li>
  <li>Add bash completion for <code class="highlighter-rouge">service create|update --init</code>. <a href="https://github.com/docker/cli/pull/1210">docker/cli#1210</a></li>
</ul>

<h3 id="deprecation-1">Deprecation</h3>

<ul>
  <li>Document reserved namespaces deprecation. <a href="https://github.com/docker/cli/pull/1040">docker/cli#1040</a></li>
</ul>

<h3 id="logging-4">Logging</h3>

<ul>
  <li>Allow awslogs to use non-blocking mode. <a href="https://github.com/moby/moby/pull/36522">moby/moby#36522</a></li>
  <li>Improve logging of long log lines on fluentd log driver.. <a href="https://github.com/moby/moby/pull/36159">moby/moby#36159</a></li>
  <li>Re-order CHANGELOG.md to pass <code class="highlighter-rouge">make validate</code> test. <a href="https://github.com/moby/moby/pull/37047">moby/moby#37047</a></li>
  <li>Update Events, Exec, Export, History, Images, Import, Inspect, Load, and Login subcommand fish completions. <a href="https://github.com/docker/cli/pull/1061">docker/cli#1061</a></li>
  <li>Update documentation for RingLogger’s ring buffer. <a href="https://github.com/moby/moby/pull/37084">moby/moby#37084</a></li>
  <li>Add metrics for log failures/partials. <a href="https://github.com/moby/moby/pull/37034">moby/moby#37034</a></li>
  <li>Fix logging plugin crash unrecoverable. <a href="https://github.com/moby/moby/pull/37028">moby/moby#37028</a></li>
  <li>Fix logging test type. <a href="https://github.com/moby/moby/pull/37070">moby/moby#37070</a></li>
  <li>Fix race conditions in logs API. <a href="https://github.com/moby/moby/pull/37062">moby/moby#37062</a></li>
  <li>Fix some issues in logfile reader and rotation. <a href="https://github.com/moby/moby/pull/37063">moby/moby#37063</a></li>
</ul>

<h3 id="networking-12">Networking</h3>

<ul>
  <li>Allow user to specify default address pools for docker networks. <a href="https://github.com/moby/moby/pull/36396">moby/moby#36396</a> <a href="https://github.com/docker/cli/pull/818">docker/cli#818</a></li>
  <li>Adding logs for ipam state <a href="https://github.com/docker/libnetwork/pull/2147">doccker/libnetwork#2417</a></li>
  <li>Fix race conditions in the overlay network driver <a href="https://github.com/docker/libnetwork/pull/2143">doccker/libnetwork#2143</a></li>
  <li>Add wait time into xtables lock warning <a href="https://github.com/docker/libnetwork/pull/2142">doccker/libnetwork#2142</a></li>
  <li>filter xtables lock warnings when firewalld is active <a href="https://github.com/docker/libnetwork/pull/2135">doccker/libnetwork#2135</a></li>
  <li>Switch from x/net/context to context <a href="https://github.com/docker/libnetwork/pull/2140">doccker/libnetwork#2140</a></li>
  <li>Adding a recovery mechanism for a split gossip cluster <a href="https://github.com/docker/libnetwork/pull/2134">doccker/libnetwork#2134</a></li>
  <li>Running docker inspect on network attachment tasks now returns a full task object. <a href="https://github.com/moby/moby/pull/35246">moby/moby#35246</a></li>
  <li>Some container/network cleanups. <a href="https://github.com/moby/moby/pull/37033">moby/moby#37033</a></li>
  <li>Fix network inspect for overlay network. <a href="https://github.com/moby/moby/pull/37045">moby/moby#37045</a></li>
  <li>Improve Scalability of the Linux load balancing. <a href="https://github.com/docker/engine/pull/16">docker/engine#16</a></li>
  <li>Change log level from error to warning. <a href="https://github.com/docker/engine/pull/19">docker/engine#19</a></li>
</ul>

<h3 id="runtime-22">Runtime</h3>

<ul>
  <li>Aufs: log why aufs is not supported. <a href="https://github.com/moby/moby/pull/36995">moby/moby#36995</a></li>
  <li>Hide experimental checkpoint features on Windows. <a href="https://github.com/docker/cli/pull/1094">docker/cli#1094</a></li>
  <li>Lcow: Allow the client to customize capabilities and device cgroup rules for LCOW containers. <a href="https://github.com/moby/moby/pull/37294">moby/moby#37294</a></li>
  <li>Changed path given for executable output in windows to actual location of executable output. <a href="https://github.com/moby/moby/pull/37295">moby/moby#37295</a></li>
  <li>Add windows recycle bin test and update hcsshim to v0.6.11. <a href="https://github.com/moby/moby/pull/36994">moby/moby#36994</a></li>
  <li>Allow to add any args when doing a make run. <a href="https://github.com/moby/moby/pull/37190">moby/moby#37190</a></li>
  <li>Optimize ContainerTop() aka docker top. <a href="https://github.com/moby/moby/pull/37131">moby/moby#37131</a></li>
  <li>Fix compilation on 32bit machines. <a href="https://github.com/moby/moby/pull/37292">moby/moby#37292</a></li>
  <li>Update API version to v1 38. <a href="https://github.com/moby/moby/pull/37141">moby/moby#37141</a></li>
  <li>Fix <code class="highlighter-rouge">docker service update --host-add</code> does not update existing host entry. <a href="https://github.com/docker/cli/pull/1054">docker/cli#1054</a></li>
  <li>Fix swagger file type for ExecIds. <a href="https://github.com/moby/moby/pull/36962">moby/moby#36962</a></li>
  <li>Fix swagger volume type generation. <a href="https://github.com/moby/moby/pull/37060">moby/moby#37060</a></li>
  <li>Fix wrong assertion in volume/service package. <a href="https://github.com/moby/moby/pull/37211">moby/moby#37211</a></li>
  <li>Fix daemon panic on restart when a plugin is running. <a href="https://github.com/moby/moby/pull/37234">moby/moby#37234</a></li>
  <li>Construct and add ‘LABEL’ command from ‘label’ option to last stage. <a href="https://github.com/moby/moby/pull/37011">moby/moby#37011</a></li>
  <li>Fix race condition between exec start and resize.. <a href="https://github.com/moby/moby/pull/37172">moby/moby#37172</a></li>
  <li>Alternative failure mitigation of <code class="highlighter-rouge">TestExecInteractiveStdinClose</code>. <a href="https://github.com/moby/moby/pull/37143">moby/moby#37143</a></li>
  <li>RawAccess allows a set of paths to be not set as masked or readonly. <a href="https://github.com/moby/moby/pull/36644">moby/moby#36644</a></li>
  <li>Be explicit about github.com prefix being a legacy feature. <a href="https://github.com/moby/moby/pull/37174">moby/moby#37174</a></li>
  <li>Bump Golang to 1.10.3. <a href="https://github.com/docker/cli/pull/1122">docker/cli#1122</a></li>
  <li>Close ReadClosers to prevent xz zombies. <a href="https://github.com/moby/moby/pull/34218">moby/moby#34218</a></li>
  <li>Daemon.ContainerStop(): fix for a negative timeout. <a href="https://github.com/moby/moby/pull/36874">moby/moby#36874</a></li>
  <li>Daemon.setMounts(): copy slice in place. <a href="https://github.com/moby/moby/pull/36991">moby/moby#36991</a></li>
  <li>Describe IP field of swagger Port definition. <a href="https://github.com/moby/moby/pull/36971">moby/moby#36971</a></li>
  <li>Extract volume interaction to a volumes service. <a href="https://github.com/moby/moby/pull/36688">moby/moby#36688</a></li>
  <li>Fixed markdown formatting in docker image v1, v1.1, and v1.2 spec. <a href="https://github.com/moby/moby/pull/37051">moby/moby#37051</a></li>
  <li>Improve GetTimestamp parsing. <a href="https://github.com/moby/moby/pull/35402">moby/moby#35402</a></li>
  <li>Jsonmessage: pass message to aux callback. <a href="https://github.com/moby/moby/pull/37064">moby/moby#37064</a></li>
  <li>Overlay2: remove unused cdMountFrom() helper function. <a href="https://github.com/moby/moby/pull/37041">moby/moby#37041</a></li>
  <li>Overlay: Fix overlay storage-driver silently ignoring unknown storage-driver options. <a href="https://github.com/moby/moby/pull/37040">moby/moby#37040</a></li>
  <li>Remove some unused contrib items. <a href="https://github.com/moby/moby/pull/36977">moby/moby#36977</a></li>
  <li>Restartmanager: do not apply restart policy on created containers. <a href="https://github.com/moby/moby/pull/36924">moby/moby#36924</a></li>
  <li>Set item-type for ExecIDs. <a href="https://github.com/moby/moby/pull/37121">moby/moby#37121</a></li>
  <li>Use go-systemd const instead of magic string in Linux version of dockerd. <a href="https://github.com/moby/moby/pull/37136">moby/moby#37136</a></li>
  <li>Use stdlib TLS dialer. <a href="https://github.com/moby/moby/pull/36687">moby/moby#36687</a></li>
  <li>Warn when an engine label using a reserved namespace (com.docker.*, io.docker.*, or org.dockerproject.*) is configured, as per https://matsuand.github.io/docs.docker.jp.onthefly/config/labels-custom-metadata/. <a href="https://github.com/moby/moby/pull/36921">moby/moby#36921</a></li>
  <li>Fix missing plugin name in message. <a href="https://github.com/moby/moby/pull/37052">moby/moby#37052</a></li>
  <li>Fix link anchors in CONTRIBUTING.md. <a href="https://github.com/moby/moby/pull/37276">moby/moby#37276</a></li>
  <li>Fix link to Docker Toolbox. <a href="https://github.com/moby/moby/pull/37240">moby/moby#37240</a></li>
  <li>Fix mis-used skip condition. <a href="https://github.com/moby/moby/pull/37179">moby/moby#37179</a></li>
  <li>Fix bind mounts not working in some cases. <a href="https://github.com/moby/moby/pull/37031">moby/moby#37031</a></li>
  <li>Fix fd leak on attach. <a href="https://github.com/moby/moby/pull/37184">moby/moby#37184</a></li>
  <li>Fix fluentd partial detection. <a href="https://github.com/moby/moby/pull/37029">moby/moby#37029</a></li>
  <li>Fix incorrect link in version-history.md. <a href="https://github.com/moby/moby/pull/37049">moby/moby#37049</a></li>
  <li>Allow vim to be case insensitive for D in dockerfile. <a href="https://github.com/moby/moby/pull/37235">moby/moby#37235</a></li>
  <li>Add <code class="highlighter-rouge">t.Name()</code> to tests so that service names are unique. <a href="https://github.com/moby/moby/pull/37166">moby/moby#37166</a></li>
  <li>Add additional message when backendfs is extfs without d_type support. <a href="https://github.com/moby/moby/pull/37022">moby/moby#37022</a></li>
  <li>Add api version checking for tests from new feature. <a href="https://github.com/moby/moby/pull/37169">moby/moby#37169</a></li>
  <li>Add image metrics for push and pull. <a href="https://github.com/moby/moby/pull/37233">moby/moby#37233</a></li>
  <li>Add support for <code class="highlighter-rouge">init</code> on services. <a href="https://github.com/moby/moby/pull/37183">moby/moby#37183</a></li>
  <li>Add verification of escapeKeys array length in pkg/term/proxy.go. <a href="https://github.com/moby/moby/pull/36918">moby/moby#36918</a></li>
  <li>When link id is empty for overlay2, do not remove this link.. <a href="https://github.com/moby/moby/pull/36161">moby/moby#36161</a></li>
  <li>Fix build on OpenBSD by defining Self(). <a href="https://github.com/moby/moby/pull/37301">moby/moby#37301</a></li>
  <li>Windows: Fix named pipe support for hyper-v isolated containers. <a href="https://github.com/docker/engine/pull/2">docker/engine#2</a> <a href="https://github.com/docker/cli/pull/1165">docker/cli#1165</a></li>
  <li>Fix manifest lists to always use correct size. <a href="https://github.com/docker/cli/pull/1183">docker/cli#1183</a></li>
  <li>Register OCI media types. <a href="https://github.com/docker/engine/pull/4">docker/engine#4</a></li>
  <li>Update containerd to v1.1.1 <a href="https://github.com/docker/engine/pull/17">docker/engine#17</a></li>
  <li>LCOW: Prefer Windows over Linux in a manifest list. <a href="https://github.com/docker/engine/pull/3">docker/engine#3</a></li>
  <li>Add updated <code class="highlighter-rouge">MaskPaths</code> that are used in code paths directly using containerd to address <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=2018-10892">CVE-2018-10892</a>. <a href="https://github.com/docker/engine/pull/15">docker/engine#15</a></li>
  <li>Add <code class="highlighter-rouge">/proc/acpi</code> to masked paths to address <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=2018-10892">CVE-2018-10892</a>. <a href="https://github.com/docker/engine/pull/14">docker/engine#14</a></li>
  <li>Fix bindmount autocreate race. <a href="https://github.com/docker/engine/pull/11">docker/engine#11</a></li>
</ul>

<h3 id="swarm-mode-15">Swarm Mode</h3>

<ul>
  <li>List stacks for both Swarm and Kubernetes with --orchestrator=all in docker stack ls. Allow several occurrences of --namespace for Kubernetes with docker stack ls. <a href="https://github.com/docker/cli/pull/1031">docker/cli#1031</a></li>
  <li>Bump SwarmKit to remove deprecated grpc metadata wrappers. <a href="https://github.com/moby/moby/pull/36905">moby/moby#36905</a></li>
  <li>Issue an error for --orchestrator=all when working on mismatched Swarm and Kubernetes hosts. <a href="https://github.com/docker/cli/pull/1035">docker/cli#1035</a></li>
  <li>Fix broken swarm commands with Kubernetes defined as orchestrator. “--orchestrator” flag is no longer global but local to stack commands and subcommands <a href="https://github.com/docker/cli/pull/1137">docker/cli#1137</a> <a href="https://github.com/docker/cli/pull/1139">docker/cli#1139</a></li>
  <li>Bump swarmkit to include task reaper fixes and more metrics. <a href="https://github.com/docker/engine/pull/13">docker/engine#13</a></li>
  <li>Avoid a leak when a service with unassigned tasks is deleted. <a href="https://github.com/docker/engine/pull/27">docker/engine#27</a></li>
  <li>Fix racy batching on the dispatcher. <a href="https://github.com/docker/engine/pull/27">docker/engine#27</a></li>
</ul>

<h2 id="18031-ce">18.03.1-ce</h2>
<p>2018-04-26</p>

<h4 id="client-12">Client</h4>

<ul>
  <li>Fix error with merge compose file with networks <a href="https://github.com/docker/cli/pull/983">docker/cli#983</a></li>
  <li>Fix docker stack deploy re-deploying services after the service was updated with <code class="highlighter-rouge">--force</code> <a href="https://github.com/docker/cli/pull/963">docker/cli#963</a></li>
  <li>Fix docker version output alignment <a href="https://github.com/docker/cli/pull/965">docker/cli#965</a></li>
</ul>

<h4 id="runtime-23">Runtime</h4>

<ul>
  <li>Fix AppArmor profiles not being applied to <code class="highlighter-rouge">docker exec</code> processes <a href="https://github.com/moby/moby/pull/36466">moby/moby#36466</a></li>
  <li>Don’t sort plugin mount slice <a href="https://github.com/moby/moby/pull/36711">moby/moby#36711</a></li>
  <li>Daemon/cluster: handle partial attachment entries during configure <a href="https://github.com/moby/moby/pull/36769">moby/moby#36769</a></li>
  <li>Bump Golang to 1.9.5 <a href="https://github.com/moby/moby/pull/36779">moby/moby#36779</a> <a href="https://github.com/docker/cli/pull/986">docker/cli#986</a></li>
  <li>Daemon/stats: more resilient cpu sampling <a href="https://github.com/moby/moby/pull/36519">moby/moby#36519</a></li>
  <li>Containerd: update to 1.0.3 release <a href="https://github.com/moby/moby/pull/36749">moby/moby#36749</a></li>
  <li>Fix Windows layer leak when write fails <a href="https://github.com/moby/moby/pull/36728">moby/moby#36728</a></li>
  <li>Don’t make container mount unbindable <a href="https://github.com/moby/moby/pull/36768">moby/moby#36768</a></li>
  <li>Fix Daemon panics on container export after a daemon restart <a href="https://github.com/moby/moby/pull/36586">moby/moby/36586</a></li>
  <li>Fix digest cache being removed on autherrors <a href="https://github.com/moby/moby/pull/36509">moby/moby#36509</a></li>
  <li>Make sure plugin container is removed on failure <a href="https://github.com/moby/moby/pull/36715">moby/moby#36715</a></li>
  <li>Copy: avoid using all system memory with authz plugins <a href="https://github.com/moby/moby/pull/36595">moby/moby#36595</a></li>
  <li>Relax some libcontainerd client locking <a href="https://github.com/moby/moby/pull/36848">moby/moby#36848</a></li>
  <li>Update <code class="highlighter-rouge">hcsshim</code> to v0.6.10 to address <a href="https://portal.msrc.microsoft.com/en-us/security-guidance/advisory/CVE-2018-8115">CVE-2018-8115</a></li>
</ul>

<h4 id="swarm-mode-16">Swarm Mode</h4>

<ul>
  <li>Increase raft Election tick to 10 times Heartbeat tick <a href="https://github.com/moby/moby/pull/36672">moby/moby#36672</a></li>
</ul>

<h4 id="networking-13">Networking</h4>

<ul>
  <li>Gracefully remove LB endpoints from services <a href="https://github.com/docker/libnetwork/pull/2112">docker/libnetwork#2112</a></li>
  <li>Retry other external DNS servers on ServFail <a href="https://github.com/docker/libnetwork/pull/2121">docker/libnetwork#2121</a></li>
  <li>Improve scalabiltiy of bridge network isolation rules <a href="https://github.com/docker/libnetwork/pull/2117">docker/libnetwork#2117</a></li>
  <li>Allow for larger preset property values, do not override <a href="https://github.com/docker/libnetwork/pull/2124">docker/libnetwork#2124</a></li>
  <li>Prevent panics on concurrent reads/writes when calling <code class="highlighter-rouge">changeNodeState</code> <a href="https://github.com/docker/libnetwork/pull/2136">docker/libnetwork#2136</a></li>
</ul>

<h2 id="18030-ce">18.03.0-ce</h2>
<p>2018-03-21</p>

<h4 id="builder-8">Builder</h4>

<ul>
  <li>Switch to -buildmode=pie <a href="https://github.com/moby/moby/pull/34369">moby/moby#34369</a></li>
  <li>Allow Dockerfile to be outside of build-context <a href="https://github.com/docker/cli/pull/886">docker/cli#886</a></li>
  <li>Builder: fix wrong cache hits building from tars <a href="https://github.com/moby/moby/pull/36329">moby/moby#36329</a></li>
  <li>Fixes files leaking to other images in a multi-stage build <a href="https://github.com/moby/moby/pull/36338">moby/moby#36338</a></li>
</ul>

<h4 id="client-13">Client</h4>

<ul>
  <li>Simplify the marshaling of compose types.Config <a href="https://github.com/docker/cli/pull/895">docker/cli#895</a></li>
  <li>Add support for multiple composefile when deploying <a href="https://github.com/docker/cli/pull/569">docker/cli#569</a></li>
  <li>Fix broken Kubernetes stack flags <a href="https://github.com/docker/cli/pull/831">docker/cli#831</a></li>
  <li>Fix stack marshaling for Kubernetes <a href="https://github.com/docker/cli/pull/890">docker/cli#890</a></li>
  <li>Fix and simplify bash completion for service env, mounts and labels <a href="https://github.com/docker/cli/pull/682">docker/cli#682</a></li>
  <li>Fix <code class="highlighter-rouge">before</code> and <code class="highlighter-rouge">since</code> filter for <code class="highlighter-rouge">docker ps</code> <a href="https://github.com/moby/moby/pull/35938">moby/moby#35938</a></li>
  <li>Fix <code class="highlighter-rouge">--label-file</code> weird behavior <a href="https://github.com/docker/cli/pull/838">docker/cli#838</a></li>
  <li>Fix compilation of defaultCredentialStore() on unsupported platforms <a href="https://github.com/docker/cli/pull/872">docker/cli#872</a></li>
  <li>Improve and fix bash completion for images <a href="https://github.com/docker/cli/pull/717">docker/cli#717</a></li>
  <li>Added check for empty source in bind mount <a href="https://github.com/docker/cli/pull/824">docker/cli#824</a></li>
  <li>Fix TLS from environment variables in client <a href="https://github.com/moby/moby/pull/36270">moby/moby#36270</a></li>
  <li>docker build now runs faster when registry-specific credential helper(s) are configured <a href="https://github.com/docker/cli/pull/840">docker/cli#840</a></li>
  <li>Update event filter zsh completion with <code class="highlighter-rouge">disable</code>, <code class="highlighter-rouge">enable</code>, <code class="highlighter-rouge">install</code> and <code class="highlighter-rouge">remove</code> <a href="https://github.com/docker/cli/pull/372">docker/cli#372</a></li>
  <li>Produce errors when empty ids are passed into inspect calls <a href="https://github.com/moby/moby/pull/36144">moby/moby#36144</a></li>
  <li>Marshall version for the k8s controller <a href="https://github.com/docker/cli/pull/891">docker/cli#891</a></li>
  <li>Set a non-zero timeout for HTTP client communication with plugin backend <a href="https://github.com/docker/cli/pull/883">docker/cli#883</a></li>
  <li>Add DOCKER_TLS environment variable for --tls option <a href="https://github.com/docker/cli/pull/863">docker/cli#863</a></li>
  <li>Add --template-driver option for secrets/configs <a href="https://github.com/docker/cli/pull/896">docker/cli#896</a></li>
  <li>Move <code class="highlighter-rouge">docker trust</code> commands out of experimental <a href="https://github.com/docker/cli/pull/934">docker/cli#934</a> <a href="https://github.com/docker/cli/pull/935">docker/cli#935</a> <a href="https://github.com/docker/cli/pull/944">docker/cli#944</a></li>
</ul>

<h4 id="logging-5">Logging</h4>

<ul>
  <li>AWS logs - don’t add new lines to maximum sized events <a href="https://github.com/moby/moby/pull/36078">moby/moby#36078</a></li>
  <li>Move log validator logic after plugins are loaded <a href="https://github.com/moby/moby/pull/36306">moby/moby#36306</a></li>
  <li>Support a proxy in Splunk log driver <a href="https://github.com/moby/moby/pull/36220">moby/moby#36220</a></li>
  <li>Fix log tail with empty logs <a href="https://github.com/moby/moby/pull/36305">moby/moby#36305</a></li>
</ul>

<h4 id="networking-14">Networking</h4>

<ul>
  <li>Libnetwork revendoring <a href="https://github.com/moby/moby/pull/36137">moby/moby#36137</a></li>
  <li>Fix for deadlock on exit with Memberlist revendor <a href="https://github.com/docker/libnetwork/pull/2040">docker/libnetwork#2040</a></li>
  <li>Fix user specified ndots option <a href="https://github.com/docker/libnetwork/pull/2065">docker/libnetwork#2065</a></li>
  <li>Fix to use ContainerID for Windows instead of SandboxID <a href="https://github.com/docker/libnetwork/pull/2010">docker/libnetwork#2010</a></li>
  <li>Verify NetworkingConfig to make sure EndpointSettings is not nil <a href="https://github.com/moby/moby/pull/36077">moby/moby#36077</a></li>
  <li>Fix <code class="highlighter-rouge">DockerNetworkInternalMode</code> issue <a href="https://github.com/moby/moby/pull/36298">moby/moby#36298</a></li>
  <li>Fix race in attachable network attachment <a href="https://github.com/moby/moby/pull/36191">moby/moby#36191</a></li>
  <li>Fix timeout issue of <code class="highlighter-rouge">InspectNetwork</code> on AArch64 <a href="https://github.com/moby/moby/pull/36257">moby/moby#36257</a></li>
  <li>Verbose info is missing for partial overlay ID <a href="https://github.com/moby/moby/pull/35989">moby/moby#35989</a></li>
  <li>Update <code class="highlighter-rouge">FindNetwork</code> to address network name duplications <a href="https://github.com/moby/moby/pull/30897">moby/moby#30897</a></li>
  <li>Disallow attaching ingress network <a href="https://github.com/docker/swarmkit/pull/2523">docker/swarmkit#2523</a></li>
  <li>Prevent implicit removal of the ingress network <a href="https://github.com/moby/moby/pull/36538">moby/moby#36538</a></li>
  <li>Fix stale HNS endpoints on Windows <a href="https://github.com/moby/moby/pull/36603">moby/moby#36603</a></li>
  <li>IPAM fixes for duplicate IP addresses <a href="https://github.com/docker/libnetwork/pull/2104">docker/libnetwork#2104</a> <a href="https://github.com/docker/libnetwork/pull/2105">docker/libnetwork#2105</a></li>
</ul>

<h4 id="runtime-24">Runtime</h4>

<ul>
  <li>Enable HotAdd for Windows <a href="https://github.com/moby/moby/pull/35414">moby/moby#35414</a></li>
  <li>LCOW: Graphdriver fix deadlock in hotRemoveVHDs <a href="https://github.com/moby/moby/pull/36114">moby/moby#36114</a></li>
  <li>LCOW: Regular mount if only one layer <a href="https://github.com/moby/moby/pull/36052">moby/moby#36052</a></li>
  <li>Remove interim env var LCOW_API_PLATFORM_IF_OMITTED <a href="https://github.com/moby/moby/pull/36269">moby/moby#36269</a></li>
  <li>Revendor Microsoft/opengcs @ v0.3.6 <a href="https://github.com/moby/moby/pull/36108">moby/moby#36108</a></li>
  <li>Fix issue of ExitCode and PID not show up in Task.Status.ContainerStatus <a href="https://github.com/moby/moby/pull/36150">moby/moby#36150</a></li>
  <li>Fix issue with plugin scanner going too deep <a href="https://github.com/moby/moby/pull/36119">moby/moby#36119</a></li>
  <li>Do not make graphdriver homes private mounts <a href="https://github.com/moby/moby/pull/36047">moby/moby#36047</a></li>
  <li>Do not recursive unmount on cleanup of zfs/btrfs <a href="https://github.com/moby/moby/pull/36237">moby/moby#36237</a></li>
  <li>Don’t restore image if layer does not exist <a href="https://github.com/moby/moby/pull/36304">moby/moby#36304</a></li>
  <li>Adjust minimum API version for templated configs/secrets <a href="https://github.com/moby/moby/pull/36366">moby/moby#36366</a></li>
  <li>Bump containerd to 1.0.2 (cfd04396dc68220d1cecbe686a6cc3aa5ce3667c) <a href="https://github.com/moby/moby/pull/36308">moby/moby#36308</a></li>
  <li>Bump Golang to 1.9.4 <a href="https://github.com/moby/moby/pull/36243">moby/moby#36243</a></li>
  <li>Ensure daemon root is unmounted on shutdown <a href="https://github.com/moby/moby/pull/36107">moby/moby#36107</a></li>
  <li>Update runc to 6c55f98695e902427906eed2c799e566e3d3dfb5 <a href="https://github.com/moby/moby/pull/36222">moby/moby#36222</a></li>
  <li>Fix container cleanup on daemon restart <a href="https://github.com/moby/moby/pull/36249">moby/moby#36249</a></li>
  <li>Support SCTP port mapping (bump up API to v1.37) <a href="https://github.com/moby/moby/pull/33922">moby/moby#33922</a></li>
  <li>Support SCTP port mapping <a href="https://github.com/docker/cli/pull/278">docker/cli#278</a></li>
  <li>Fix Volumes property definition in ContainerConfig <a href="https://github.com/moby/moby/pull/35946">moby/moby#35946</a></li>
  <li>Bump moby and dependencies <a href="https://github.com/docker/cli/pull/829">docker/cli#829</a></li>
  <li>C.RWLayer: check for nil before use <a href="https://github.com/moby/moby/pull/36242">moby/moby#36242</a></li>
  <li>Add <code class="highlighter-rouge">REMOVE</code> and <code class="highlighter-rouge">ORPHANED</code> to TaskState <a href="https://github.com/moby/moby/pull/36146">moby/moby#36146</a></li>
  <li>Fixed error detection using <code class="highlighter-rouge">IsErrNotFound</code> and <code class="highlighter-rouge">IsErrNotImplemented</code> for <code class="highlighter-rouge">ContainerStatPath</code>, <code class="highlighter-rouge">CopyFromContainer</code>, and <code class="highlighter-rouge">CopyToContainer</code> methods <a href="https://github.com/moby/moby/pull/35979">moby/moby#35979</a></li>
  <li>Add an integration/internal/container helper package <a href="https://github.com/moby/moby/pull/36266">moby/moby#36266</a></li>
  <li>Add canonical import path <a href="https://github.com/moby/moby/pull/36194">moby/moby#36194</a></li>
  <li>Add/use container.Exec() to integration <a href="https://github.com/moby/moby/pull/36326">moby/moby#36326</a></li>
  <li>Fix “--node-generic-resource” singular/plural <a href="https://github.com/moby/moby/pull/36125">moby/moby#36125</a></li>
  <li>Daemon.cleanupContainer: nullify container RWLayer upon release <a href="https://github.com/moby/moby/pull/36160">moby/moby#36160</a></li>
  <li>Daemon: passdown the <code class="highlighter-rouge">--oom-kill-disable</code> option to containerd <a href="https://github.com/moby/moby/pull/36201">moby/moby#36201</a></li>
  <li>Display a warn message when there is binding ports and net mode is host <a href="https://github.com/moby/moby/pull/35510">moby/moby#35510</a></li>
  <li>Refresh containerd remotes on containerd restarted <a href="https://github.com/moby/moby/pull/36173">moby/moby#36173</a></li>
  <li>Set daemon root to use shared propagation <a href="https://github.com/moby/moby/pull/36096">moby/moby#36096</a></li>
  <li>Optimizations for recursive unmount <a href="https://github.com/moby/moby/pull/34379">moby/moby#34379</a></li>
  <li>Perform plugin mounts in the runtime <a href="https://github.com/moby/moby/pull/35829">moby/moby#35829</a></li>
  <li>Graphdriver: Fix RefCounter memory leak <a href="https://github.com/moby/moby/pull/36256">moby/moby#36256</a></li>
  <li>Use continuity fs package for volume copy <a href="https://github.com/moby/moby/pull/36290">moby/moby#36290</a></li>
  <li>Use proc/exe for reexec <a href="https://github.com/moby/moby/pull/36124">moby/moby#36124</a></li>
  <li>Add API support for templated secrets and configs <a href="https://github.com/moby/moby/pull/33702">moby/moby#33702</a> and <a href="https://github.com/moby/moby/pull/36366">moby/moby#36366</a></li>
  <li>Use rslave propagation for mounts from daemon root <a href="https://github.com/moby/moby/pull/36055">moby/moby#36055</a></li>
  <li>Add /proc/keys to masked paths <a href="https://github.com/moby/moby/pull/36368">moby/moby#36368</a></li>
  <li>Bump Runc to 1.0.0-rc5 <a href="https://github.com/moby/moby/pull/36449">moby/moby#36449</a></li>
  <li>Fixes <code class="highlighter-rouge">runc exec</code> on big-endian architectures <a href="https://github.com/moby/moby/pull/36449">moby/moby#36449</a></li>
  <li>Use chroot when mount namespaces aren’t provided <a href="https://github.com/moby/moby/pull/36449">moby/moby#36449</a></li>
  <li>Fix systemd slice expansion so that it could be consumed by cAdvisor <a href="https://github.com/moby/moby/pull/36449">moby/moby#36449</a></li>
  <li>Fix devices mounted with wrong uid/gid <a href="https://github.com/moby/moby/pull/36449">moby/moby#36449</a></li>
  <li>Fix read-only containers with IPC private mounts <code class="highlighter-rouge">/dev/shm</code> read-only <a href="https://github.com/moby/moby/pull/36526">moby/moby#36526</a></li>
</ul>

<h4 id="swarm-mode-17">Swarm Mode</h4>

<ul>
  <li>Replace EC Private Key with PKCS#8 PEMs <a href="https://github.com/docker/swarmkit/pull/2246">docker/swarmkit#2246</a></li>
  <li>Fix IP overlap with empty EndpointSpec <a href="https://github.com/docker/swarmkit/pull/2505">docker/swarmkit #2505</a></li>
  <li>Add support for Support SCTP port mapping <a href="https://github.com/docker/swarmkit/pull/2298">docker/swarmkit#2298</a></li>
  <li>Do not reschedule tasks if only placement constraints change and are satisfied by the assigned node <a href="https://github.com/docker/swarmkit/pull/2496">docker/swarmkit#2496</a></li>
  <li>Ensure task reaper stopChan is closed no more than once <a href="https://github.com/docker/swarmkit/pull/2491">docker/swarmkit #2491</a></li>
  <li>Synchronization fixes <a href="https://github.com/docker/swarmkit/pull/2495">docker/swarmkit#2495</a></li>
  <li>Add log message to indicate message send retry if streaming unimplemented <a href="https://github.com/docker/swarmkit/pull/2483">docker/swarmkit#2483</a></li>
  <li>Debug logs for session, node events on dispatcher, heartbeats <a href="https://github.com/docker/swarmkit/pull/2486">docker/swarmkit#2486</a></li>
  <li>Add swarm types to bash completion event type filter <a href="https://github.com/docker/cli/pull/888">docker/cli#888</a></li>
  <li>Fix issue where network inspect does not show Created time for networks in swarm scope <a href="https://github.com/moby/moby/pull/36095">moby/moby#36095</a></li>
</ul>

<h2 id="17121-ce">17.12.1-ce</h2>
<p>2018-02-27</p>

<h4 id="client-14">Client</h4>
<ul>
  <li>Fix <code class="highlighter-rouge">node-generic-resource</code> typo <a href="https://github.com/moby/moby/pull/35970">moby/moby#35970</a> and <a href="https://github.com/moby/moby/pull/36125">moby/moby#36125</a></li>
  <li>Return errors from daemon on stack deploy configs create/update <a href="https://github.com/docker/cli/pull/757">docker/cli#757</a></li>
</ul>

<h4 id="logging-6">Logging</h4>
<ul>
  <li>awslogs: fix batch size calculation for large logs <a href="https://github.com/moby/moby/pull/35726">moby/moby#35726</a></li>
  <li>Support a proxy in splunk log driver <a href="https://github.com/moby/moby/pull/36220">moby/moby#36220</a></li>
</ul>

<h4 id="networking-15">Networking</h4>
<ul>
  <li>Fix ingress network when upgrading from 17.09 to 17.12 <a href="https://github.com/moby/moby/pull/36003">moby/moby#36003</a></li>
  <li>Add verbose info to partial overlay ID <a href="https://github.com/moby/moby/pull/35989">moby/moby#35989</a></li>
  <li>Fix IPv6 networking being deconfigured if live-restore is being enabled <a href="https://github.com/docker/libnetwork/pull/2043">docker/libnetwork#2043</a></li>
  <li>Fix watchMiss thread context <a href="https://github.com/docker/libnetwork/pull/2051">docker/libnetwork#2051</a></li>
</ul>

<h4 id="packaging-6">Packaging</h4>
<ul>
  <li>Set TasksMax in docker.service <a href="https://github.com/docker/docker-ce-packaging/pull/78">docker/docker-ce-packaging#78</a></li>
</ul>

<h4 id="runtime-25">Runtime</h4>
<ul>
  <li>Bump Golang to 1.9.4</li>
  <li>Bump containerd to 1.0.1</li>
  <li>Fix dockerd not being able to reconnect to containerd when it is restarted <a href="https://github.com/moby/moby/pull/36173">moby/moby#36173</a></li>
  <li>Fix containerd events from being processed twice <a href="https://github.com/moby/moby/issues/35891">moby/moby#35891</a></li>
  <li>Fix vfs graph driver failure to initialize because of failure to setup fs quota <a href="https://github.com/moby/moby/pull/35827">moby/moby#35827</a></li>
  <li>Fix regression of health check not using container’s working directory <a href="https://github.com/moby/moby/pull/35845">moby/moby#35845</a></li>
  <li>Honor <code class="highlighter-rouge">DOCKER_RAMDISK</code> with containerd 1.0 <a href="https://github.com/moby/moby/pull/35957">moby/moby#35957</a></li>
  <li>Update runc to fix hang during start and exec <a href="https://github.com/moby/moby/pull/36097">moby/moby#36097</a></li>
  <li>Windows: Vendor of Microsoft/hcsshim @v.0.6.8 partial fix for import layer failing <a href="https://github.com/moby/moby/pull/35924">moby/moby#35924</a></li>
  <li>Do not make graphdriver homes private mounts <a href="https://github.com/moby/moby/pull/36047">moby/moby#36047</a></li>
  <li>Use rslave propagation for mounts from daemon root <a href="https://github.com/moby/moby/pull/36055">moby/moby#36055</a></li>
  <li>Set daemon root to use shared mount propagation <a href="https://github.com/moby/moby/pull/36096">moby/moby#36096</a></li>
  <li>Validate that mounted paths exist when container is started, not just during creation  <a href="https://github.com/moby/moby/pull/35833">moby/moby#35833</a></li>
  <li>Add <code class="highlighter-rouge">REMOVE</code> and <code class="highlighter-rouge">ORPHANED</code> to TaskState <a href="https://github.com/moby/moby/pull/36146">moby/moby#36146</a></li>
  <li>Fix issue where network inspect does not show Created time for networks in swarm scope <a href="https://github.com/moby/moby/pull/36095">moby/moby#36095</a></li>
  <li>Nullify container read write layer upon release <a href="https://github.com/moby/moby/pull/36160">moby/moby#36130</a> and <a href="https://github.com/moby/moby/pull/36242">moby/moby#36343</a></li>
</ul>

<h4 id="swarm">Swarm</h4>
<ul>
  <li>Remove watchMiss from swarm mode <a href="https://github.com/docker/libnetwork/pull/2047">docker/libnetwork#2047</a></li>
</ul>

<h4 id="known-issues-26">Known Issues</h4>
<ul>
  <li>Health check no longer uses the container’s working directory <a href="https://github.com/moby/moby/issues/35843">moby/moby#35843</a></li>
  <li>Errors not returned from client in stack deploy configs <a href="https://github.com/docker/cli/pull/757">moby/moby#757</a></li>
  <li>Docker cannot use memory limit when using systemd options <a href="https://github.com/moby/moby/issues/35123">moby/moby#35123</a></li>
</ul>

<h2 id="17120-ce">17.12.0-ce</h2>
<p>2017-12-27</p>

<h4 id="known-issues-27">Known Issues</h4>
<ul>
  <li>AWS logs batch size calculation <a href="https://github.com/moby/moby/pull/35726">moby/moby#35726</a></li>
  <li>Health check no longer uses the container’s working directory <a href="https://github.com/moby/moby/issues/35843">moby/moby#35843</a></li>
  <li>Errors not returned from client in stack deploy configs <a href="https://github.com/docker/cli/pull/757">moby/moby#757</a></li>
  <li>Daemon aborts when project quota fails <a href="https://github.com/moby/moby/pull/35827">moby/moby#35827</a></li>
  <li>Docker cannot use memory limit when using systemd options <a href="https://github.com/moby/moby/issues/35123">moby/moby#35123</a></li>
</ul>

<h4 id="builder-9">Builder</h4>

<ul>
  <li>Fix build cache hash for broken symlink <a href="https://github.com/moby/moby/pull/34271">moby/moby#34271</a></li>
  <li>Fix long stream sync <a href="https://github.com/moby/moby/pull/35404">moby/moby#35404</a></li>
  <li>Fix dockerfile parser failing silently on long tokens <a href="https://github.com/moby/moby/pull/35429">moby/moby#35429</a></li>
</ul>

<h4 id="client-15">Client</h4>

<ul>
  <li>Remove secret/config duplication in cli/compose <a href="https://github.com/docker/cli/pull/671">docker/cli#671</a></li>
  <li>Add <code class="highlighter-rouge">--local</code> flag to <code class="highlighter-rouge">docker trust sign</code> <a href="https://github.com/docker/cli/pull/575">docker/cli#575</a></li>
  <li>Add <code class="highlighter-rouge">docker trust inspect</code> <a href="https://github.com/docker/cli/pull/694">docker/cli#694</a></li>
  <li>Add <code class="highlighter-rouge">name</code> field to secrets and configs to allow interpolation in Compose files <a href="https://github.com/docker/cli/pull/668">docker/cli#668</a></li>
  <li>Add <code class="highlighter-rouge">--isolation</code> for setting swarm service isolation mode <a href="https://github.com/docker/cli/pull/426">docker/cli#426</a></li>
  <li>Remove deprecated “daemon” subcommand <a href="https://github.com/docker/cli/pull/689">docker/cli#689</a></li>
  <li>Fix behaviour of <code class="highlighter-rouge">rmi -f</code> with unexpected errors <a href="https://github.com/docker/cli/pull/654">docker/cli#654</a></li>
  <li>Integrated Generic resource in service create <a href="https://github.com/docker/cli/pull/429">docker/cli#429</a></li>
  <li>Fix external networks in stacks <a href="https://github.com/docker/cli/pull/743">docker/cli#743</a></li>
  <li>Remove support for referencing images by image shortid <a href="https://github.com/docker/cli/pull/753">docker/cli#753</a> and <a href="https://github.com/moby/moby/pull/35790">moby/moby#35790</a></li>
  <li>Use commit-sha instead of tag for containerd <a href="https://github.com/moby/moby/pull/35770">moby/moby#35770</a></li>
</ul>

<h4 id="documentation">Documentation</h4>

<ul>
  <li>Update API version history for 1.35 <a href="https://github.com/moby/moby/pull/35724">moby/moby#35724</a></li>
</ul>

<h4 id="logging-7">Logging</h4>

<ul>
  <li>Logentries driver line-only=true []byte output fix <a href="https://github.com/moby/moby/pull/35612">moby/moby#35612</a></li>
  <li>Logentries line-only logopt fix to maintain backwards compatibility <a href="https://github.com/moby/moby/pull/35628">moby/moby#35628</a></li>
  <li>Add <code class="highlighter-rouge">--until</code> flag for docker logs <a href="https://github.com/moby/moby/pull/32914">moby/moby#32914</a></li>
  <li>Add gelf log driver plugin to Windows build <a href="https://github.com/moby/moby/pull/35073">moby/moby#35073</a></li>
  <li>Set timeout on splunk batch send <a href="https://github.com/moby/moby/pull/35496">moby/moby#35496</a></li>
  <li>Update Graylog2/go-gelf <a href="https://github.com/moby/moby/pull/35765">moby/moby#35765</a></li>
</ul>

<h4 id="networking-16">Networking</h4>

<ul>
  <li>Move load balancer sandbox creation/deletion into libnetwork <a href="https://github.com/moby/moby/pull/35422">moby/moby#35422</a></li>
  <li>Only chown network files within container metadata <a href="https://github.com/moby/moby/pull/34224">moby/moby#34224</a></li>
  <li>Restore error type in FindNetwork <a href="https://github.com/moby/moby/pull/35634">moby/moby#35634</a></li>
  <li>Fix consumes MIME type for NetworkConnect <a href="https://github.com/moby/moby/pull/35542">moby/moby#35542</a></li>
  <li>Added support for persisting Windows network driver specific options <a href="https://github.com/moby/moby/pull/35563">moby/moby#35563</a></li>
  <li>Fix timeout on netlink sockets and watchmiss leak <a href="https://github.com/moby/moby/pull/35677">moby/moby#35677</a></li>
  <li>New daemon config for networking diagnosis <a href="https://github.com/moby/moby/pull/35677">moby/moby#35677</a></li>
  <li>Clean up node management logic <a href="https://github.com/docker/libnetwork/pull/2036">docker/libnetwork#2036</a></li>
  <li>Allocate VIPs when endpoints are restored <a href="https://github.com/docker/swarmkit/pull/2474">docker/swarmkit#2474</a></li>
</ul>

<h4 id="runtime-26">Runtime</h4>

<ul>
  <li>Update to containerd v1.0.0 <a href="https://github.com/moby/moby/pull/35707">moby/moby#35707</a></li>
  <li>Have VFS graphdriver use accelerated in-kernel copy <a href="https://github.com/moby/moby/pull/35537">moby/moby#35537</a></li>
  <li>Introduce <code class="highlighter-rouge">workingdir</code> option for docker exec <a href="https://github.com/moby/moby/pull/35661">moby/moby#35661</a></li>
  <li>Bump Go to 1.9.2 <a href="https://github.com/moby/moby/pull/33892">moby/moby#33892</a> <a href="https://github.com/docker/cli/pull/716">docker/cli#716</a></li>
  <li><code class="highlighter-rouge">/dev</code> should not be readonly with <code class="highlighter-rouge">--readonly</code> flag <a href="https://github.com/moby/moby/pull/35344">moby/moby#35344</a></li>
  <li>Add custom build-time Graphdrivers priority list <a href="https://github.com/moby/moby/pull/35522">moby/moby#35522</a></li>
  <li>LCOW: CLI changes to add platform flag - pull, run, create and build <a href="https://github.com/docker/cli/pull/474">docker/cli#474</a></li>
  <li>Fix width/height on Windows for <code class="highlighter-rouge">docker exec</code> <a href="https://github.com/moby/moby/pull/35631">moby/moby#35631</a></li>
  <li>Detect overlay2 support on pre-4.0 kernels <a href="https://github.com/moby/moby/pull/35527">moby/moby#35527</a></li>
  <li>Devicemapper: remove container rootfs mountPath after umount <a href="https://github.com/moby/moby/pull/34573">moby/moby#34573</a></li>
  <li>Disallow overlay/overlay2 on top of NFS <a href="https://github.com/moby/moby/pull/35483">moby/moby#35483</a></li>
  <li>Fix potential panic during plugin set. <a href="https://github.com/moby/moby/pull/35632">moby/moby#35632</a></li>
  <li>Fix some issues with locking on the container <a href="https://github.com/moby/moby/pull/35501">moby/moby#35501</a></li>
  <li>Fixup some issues with plugin refcounting <a href="https://github.com/moby/moby/pull/35265">moby/moby#35265</a></li>
  <li>Add missing lock in ProcessEvent <a href="https://github.com/moby/moby/pull/35516">moby/moby#35516</a></li>
  <li>Add vfs quota support <a href="https://github.com/moby/moby/pull/35231">moby/moby#35231</a></li>
  <li>Skip empty directories on prior graphdriver detection <a href="https://github.com/moby/moby/pull/35528">moby/moby#35528</a></li>
  <li>Skip xfs quota tests when running in user namespace <a href="https://github.com/moby/moby/pull/35526">moby/moby#35526</a></li>
  <li>Added SubSecondPrecision to config option. <a href="https://github.com/moby/moby/pull/35529">moby/moby#35529</a></li>
  <li>Update fsnotify to fix deadlock in removing watch <a href="https://github.com/moby/moby/pull/35453">moby/moby#35453</a></li>
  <li>Fix “duplicate mount point” when <code class="highlighter-rouge">--tmpfs /dev/shm</code> is used <a href="https://github.com/moby/moby/pull/35467">moby/moby#35467</a></li>
  <li>Fix honoring tmpfs-size for user <code class="highlighter-rouge">/dev/shm</code> mount <a href="https://github.com/moby/moby/pull/35316">moby/moby#35316</a></li>
  <li>Fix EBUSY errors under overlayfs and v4.13+ kernels <a href="https://github.com/moby/moby/pull/34948">moby/moby#34948</a></li>
  <li>Container: protect health monitor channel <a href="https://github.com/moby/moby/pull/35482">moby/moby#35482</a></li>
  <li>Container: protect the health status with mutex <a href="https://github.com/moby/moby/pull/35517">moby/moby#35517</a></li>
  <li>Container: update real-time resources <a href="https://github.com/moby/moby/pull/33731">moby/moby#33731</a></li>
  <li>Create labels when volume exists only remotely <a href="https://github.com/moby/moby/pull/34896">moby/moby#34896</a></li>
  <li>Fix leaking container/exec state <a href="https://github.com/moby/moby/pull/35484">moby/moby#35484</a></li>
  <li>Disallow using legacy (v1) registries <a href="https://github.com/moby/moby/pull/35751">moby/moby#35751</a> and <a href="https://github.com/docker/cli/pull/747">docker/cli#747</a></li>
  <li>Windows: Fix case insensitive filename matching against builder cache <a href="https://github.com/moby/moby/pull/35793">moby/moby#35793</a></li>
  <li>Fix race conditions around process handling and error checks <a href="https://github.com/moby/moby/pull/35809">moby/moby#35809</a></li>
  <li>Ensure containers are stopped on daemon startup <a href="https://github.com/moby/moby/pull/35805">moby/moby#35805</a></li>
  <li>Follow containerd namespace conventions <a href="https://github.com/moby/moby/pull/35812">moby/moby#35812</a></li>
</ul>

<h4 id="swarm-mode-18">Swarm Mode</h4>

<ul>
  <li>Added support for swarm service isolation mode <a href="https://github.com/moby/moby/pull/34424">moby/moby#34424</a></li>
  <li>Fix task clean up for tasks that are complete <a href="https://github.com/docker/swarmkit/pull/2477">docker/swarmkit#2477</a></li>
</ul>

<h4 id="packaging-7">Packaging</h4>

<ul>
  <li>Add Packaging for Fedora 27 <a href="https://github.com/docker/docker-ce-packaging/pull/59">docker/docker-ce-packaging#59</a></li>
  <li>Change default versioning scheme to 0.0.0-dev unless specified for packaging <a href="https://github.com/docker/docker-ce-packaging/pull/67">docker/docker-ce-packaging#67</a></li>
  <li>Pass Version to engine static builds <a href="https://github.com/docker/docker-ce-packaging/pull/70">docker/docker-ce-packaging#70</a></li>
  <li>Added support for aarch64 on Debian (stretch/jessie) and Ubuntu Zesty or newer <a href="https://github.com/docker/docker-ce-packaging/pull/35">docker/docker-ce-packaging#35</a></li>
</ul>

<h2 id="17091-ce">17.09.1-ce</h2>
<p>2017-12-07</p>

<h4 id="builder-10">Builder</h4>

<ul>
  <li>Fix config leakage on shared parent stage <a href="https://github.com/moby/moby/issues/33753">moby/moby#33753</a></li>
  <li>Warn on empty continuation lines only, not on comment-only lines <a href="https://github.com/moby/moby/pull/35004">moby/moby#35004</a></li>
</ul>

<h4 id="client-16">Client</h4>

<ul>
  <li>Set API version on Client even when Ping fails <a href="https://github.com/docker/cli/pull/546">docker/cli#546</a></li>
</ul>

<h4 id="networking-17">Networking</h4>

<ul>
  <li>Overlay fix for transient IP reuse <a href="https://github.com/docker/libnetwork/pull/2016">docker/libnetwork#2016</a></li>
  <li>Fix reapTime logic in NetworkDB and handle DNS cleanup for attachable container <a href="https://github.com/docker/libnetwork/pull/2017">docker/libnetwork#2017</a></li>
  <li>Disable hostname lookup on chain exists check <a href="https://github.com/docker/libnetwork/pull/2019">docker/libnetwork#2019</a></li>
  <li>Fix lint issues <a href="https://github.com/docker/libnetwork/pull/2020">docker/libnetwork#2020</a></li>
  <li>Restore error type in FindNetwork <a href="https://github.com/moby/moby/pull/35634">moby/moby#35634</a></li>
</ul>

<h4 id="runtime-27">Runtime</h4>

<ul>
  <li>Protect <code class="highlighter-rouge">health monitor</code> Go channel <a href="https://github.com/moby/moby/pull/35482">moby/moby#35482</a></li>
  <li>Fix leaking container/exec state <a href="https://github.com/moby/moby/pull/35484">moby/moby#35484</a></li>
  <li>Add /proc/scsi to masked paths (patch to work around <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-16539">CVE-2017-16539</a>) <a href="https://github.com/moby/moby/pull/35399">moby/moby/#35399</a></li>
  <li>Vendor tar-split: fix to prevent memory exhaustion issue that could crash Docker daemon <a href="https://github.com/moby/moby/pull/35424">moby/moby/#35424</a> Fixes <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-14992">CVE-2017-14992</a></li>
  <li>Fix P/Z HubPullSuite tests  <a href="https://github.com/moby/moby/pull/34837">moby/moby#34837</a></li>
  <li>Windows: Add support for version filtering on pull <a href="https://github.com/moby/moby/pull/35090">moby/moby#35090</a></li>
  <li>Windows: Stop filtering Windows manifest lists by version <a href="https://github.com/moby/moby/pull/35117">moby/moby#35117</a></li>
  <li>Use rslave instead of rprivate in chroot archive <a href="https://github.com/moby/moby/pull/35217">moby/moby/#35217</a></li>
  <li>Remove container rootfs mountPath after unmount <a href="https://github.com/moby/moby/pull/34573">moby/moby#34573</a></li>
  <li>Fix honoring tmpfs size of user /dev/shm mount <a href="https://github.com/moby/moby/pull/35316">moby/moby#35316</a></li>
  <li>Don’t abort when setting may_detach_mounts (log the error instead)  <a href="https://github.com/moby/moby/pull/35172">moby/moby#35172</a></li>
  <li>Fix version comparison when negotiating the API version <a href="https://github.com/moby/moby/pull/35008">moby/moby#35008</a></li>
</ul>

<h4 id="swarm-mode-19">Swarm mode</h4>

<ul>
  <li>Increase gRPC request timeout when sending snapshots <a href="https://github.com/docker/swarmkit/pull/2404">docker/swarmkit#2404</a></li>
  <li>Fix node filtering when there is no log driver <a href="https://github.com/docker/swarmkit/pull/2442">docker/swarmkit#2442</a></li>
  <li>Add an error on attempt to change cluster name <a href="https://github.com/docker/swarmkit/pull/2454">docker/swarmkit/#2454</a></li>
  <li>Delete node attachments when node is removed <a href="https://github.com/docker/swarmkit/pull/2456">docker/swarmkit/#2456</a></li>
  <li>Provide custom gRPC dialer to override default proxy dialer <a href="https://github.com/docker/swarmkit/pull/2457">docker/swarmkit/#2457</a></li>
  <li>Avoids recursive readlock on swarm info <a href="https://github.com/moby/moby/pull/35388">moby/moby#35388</a></li>
</ul>

<h2 id="17090-ce">17.09.0-ce</h2>
<p>2017-09-26</p>

<h4 id="builder-11">Builder</h4>

<ul>
  <li>Add <code class="highlighter-rouge">--chown</code> flag to <code class="highlighter-rouge">ADD/COPY</code> commands in Dockerfile <a href="https://github.com/moby/moby/pull/34263">moby/moby#34263</a></li>
  <li>Fix cloning unneeded files while building from git repositories <a href="https://github.com/moby/moby/pull/33704">moby/moby#33704</a></li>
</ul>

<h4 id="client-17">Client</h4>

<ul>
  <li>Allow extension fields in the v3.4 version of the compose format <a href="https://github.com/docker/cli/pull/452">docker/cli#452</a></li>
  <li>Make compose file allow to specify names for non-external volume <a href="https://github.com/docker/cli/pull/306">docker/cli#306</a></li>
  <li>Support <code class="highlighter-rouge">--compose-file -</code> as stdin <a href="https://github.com/docker/cli/pull/347">docker/cli#347</a></li>
  <li>Support <code class="highlighter-rouge">start_period</code> for healthcheck in Docker Compose <a href="https://github.com/docker/cli/pull/475">docker/cli#475</a></li>
  <li>Add support for <code class="highlighter-rouge">stop-signal</code> in docker stack commands <a href="https://github.com/docker/cli/pull/388">docker/cli#388</a></li>
  <li>Add support for update order in compose deployments <a href="https://github.com/docker/cli/pull/360">docker/cli#360</a></li>
  <li>Add ulimits to unsupported compose fields <a href="https://github.com/docker/cli/pull/482">docker/cli#482</a></li>
  <li>Add <code class="highlighter-rouge">--format</code> to <code class="highlighter-rouge">docker-search</code> <a href="https://github.com/docker/cli/pull/440">docker/cli#440</a></li>
  <li>Show images digests when <code class="highlighter-rouge">{{.Digest}}</code> is in format <a href="https://github.com/docker/cli/pull/439">docker/cli#439</a></li>
  <li>Print output of <code class="highlighter-rouge">docker stack rm</code> on <code class="highlighter-rouge">stdout</code> instead of <code class="highlighter-rouge">stderr</code> <a href="https://github.com/docker/cli/pull/491">docker/cli#491</a></li>
  <li>Fix <code class="highlighter-rouge">docker history --format {{json .}}</code> printing human-readable timestamps instead of ISO8601 when <code class="highlighter-rouge">--human=true</code> <a href="https://github.com/docker/cli/pull/438">docker/cli#438</a></li>
  <li>Fix idempotence of <code class="highlighter-rouge">docker stack deploy</code> when secrets or configs are used <a href="https://github.com/docker/cli/pull/509">docker/cli#509</a></li>
  <li>Fix presentation of random host ports <a href="https://github.com/docker/cli/pull/404">docker/cli#404</a></li>
  <li>Fix redundant service restarts when service created with multiple secrets <a href="https://github.com/moby/moby/issues/34746">moby/moby#34746</a></li>
</ul>

<h4 id="logging-8">Logging</h4>

<ul>
  <li>Fix Splunk logger not transmitting log data when tag is empty and raw-mode is used <a href="https://github.com/moby/moby/pull/34520">moby/moby#34520</a></li>
</ul>

<h4 id="networking-18">Networking</h4>

<ul>
  <li>Add the control plane MTU option in the daemon config <a href="https://github.com/moby/moby/pull/34103">moby/moby#34103</a></li>
  <li>Add service virtual IP to sandbox’s loopback address <a href="https://github.com/docker/libnetwork/pull/1877">docker/libnetwork#1877</a></li>
</ul>

<h4 id="runtime-28">Runtime</h4>

<ul>
  <li>Graphdriver: promote overlay2 over aufs <a href="https://github.com/moby/moby/pull/34430">moby/moby#34430</a></li>
  <li>LCOW: Additional flags for VHD boot <a href="https://github.com/moby/moby/pull/34451">moby/moby#34451</a></li>
  <li>LCOW: Don’t block export <a href="https://github.com/moby/moby/pull/34448">moby/moby#34448</a></li>
  <li>LCOW: Dynamic sandbox management <a href="https://github.com/moby/moby/pull/34170">moby/moby#34170</a></li>
  <li>LCOW: Force Hyper-V Isolation <a href="https://github.com/moby/moby/pull/34468">moby/moby#34468</a></li>
  <li>LCOW: Move toolsScratchPath to /tmp <a href="https://github.com/moby/moby/pull/34396">moby/moby#34396</a></li>
  <li>LCOW: Remove hard-coding <a href="https://github.com/moby/moby/pull/34398">moby/moby#34398</a></li>
  <li>LCOW: WORKDIR correct handling <a href="https://github.com/moby/moby/pull/34405">moby/moby#34405</a></li>
  <li>Windows: named pipe mounts <a href="https://github.com/moby/moby/pull/33852">moby/moby#33852</a></li>
  <li>Fix “permission denied” errors when accessing volume with SELinux enforcing mode <a href="https://github.com/moby/moby/pull/34684">moby/moby#34684</a></li>
  <li>Fix layers size reported as <code class="highlighter-rouge">0</code> in <code class="highlighter-rouge">docker system df</code> <a href="https://github.com/moby/moby/pull/34826">moby/moby#34826</a></li>
  <li>Fix some “device or resource busy” errors when removing containers on RHEL 7.4 based kernels <a href="https://github.com/moby/moby/pull/34886">moby/moby#34886</a></li>
</ul>

<h4 id="swarm-mode-20">Swarm mode</h4>

<ul>
  <li>Include whether the managers in the swarm are autolocked as part of <code class="highlighter-rouge">docker info</code> <a href="https://github.com/docker/cli/pull/471">docker/cli#471</a></li>
  <li>Add ‘docker service rollback’ subcommand <a href="https://github.com/docker/cli/pull/205">docker/cli#205</a></li>
  <li>Fix managers failing to join if the gRPC snapshot is larger than 4MB <a href="https://github.com/docker/swarmkit/pull/2375">docker/swarmkit#2375</a></li>
  <li>Fix “permission denied” errors for configuration file in SELinux-enabled containers <a href="https://github.com/moby/moby/pull/34732">moby/moby#34732</a></li>
  <li>Fix services failing to deploy on ARM nodes <a href="https://github.com/moby/moby/pull/34021">moby/moby#34021</a></li>
</ul>

<h4 id="packaging-8">Packaging</h4>

<ul>
  <li>Build scripts for ppc64el on Ubuntu <a href="https://github.com/docker/docker-ce-packaging/pull/43">docker/docker-ce-packaging#43</a></li>
</ul>

<h4 id="deprecation-2">Deprecation</h4>

<ul>
  <li>Remove deprecated <code class="highlighter-rouge">--enable-api-cors</code> daemon flag <a href="https://github.com/moby/moby/pull/34821">moby/moby#34821</a></li>
</ul>

<h2 id="17062-ce">17.06.2-ce</h2>
<p>2017-09-05</p>

<h4 id="client-18">Client</h4>

<ul>
  <li>Enable TCP keepalive in the client to prevent loss of connection <a href="https://github.com/docker/cli/pull/415">docker/cli#415</a></li>
</ul>

<h4 id="runtime-29">Runtime</h4>

<ul>
  <li>Devmapper: ensure UdevWait is called after calls to setCookie <a href="https://github.com/moby/moby/pull/33732">moby/moby#33732</a></li>
  <li>Aufs: ensure diff layers are correctly removed to prevent leftover files from using up storage <a href="https://github.com/moby/moby/pull/34587">moby/moby#34587</a></li>
</ul>

<h4 id="swarm-mode-21">Swarm mode</h4>

<ul>
  <li>Ignore PullOptions for running tasks <a href="https://github.com/docker/swarmkit/pull/2351">docker/swarmkit#2351</a></li>
</ul>

<h2 id="17061-ce">17.06.1-ce</h2>
<p>2017-08-15</p>

<h4 id="builder-12">Builder</h4>

<ul>
  <li>Fix a regression, where <code class="highlighter-rouge">ADD</code> from remote URL’s extracted archives <a href="https://github.com/docker/docker-ce/pull/89">#89</a></li>
  <li>Fix handling of remote “git@” notation <a href="https://github.com/docker/docker-ce/pull/100">#100</a></li>
  <li>Fix copy <code class="highlighter-rouge">--from</code> conflict with force pull <a href="https://github.com/docker/docker-ce/pull/86">#86</a></li>
</ul>

<h4 id="client-19">Client</h4>

<ul>
  <li>Make pruning volumes optional when running <code class="highlighter-rouge">docker system prune</code>, and add a <code class="highlighter-rouge">--volumes</code> flag <a href="https://github.com/docker/docker-ce/pull/109">#109</a></li>
  <li>Show progress of replicated tasks before they are assigned <a href="https://github.com/docker/docker-ce/pull/97">#97</a></li>
  <li>Fix <code class="highlighter-rouge">docker wait</code> hanging if the container does not exist <a href="https://github.com/docker/docker-ce/pull/106">#106</a></li>
  <li>If <code class="highlighter-rouge">docker swarm ca</code> is called without the <code class="highlighter-rouge">--rotate</code> flag, warn if other flags are passed <a href="https://github.com/docker/docker-ce/pull/110">#110</a></li>
  <li>Fix API version negotiation not working if the daemon returns an error <a href="https://github.com/docker/docker-ce/pull/115">#115</a></li>
  <li>Print an error if “until” filter is combined with “--volumes” on system prune <a href="https://github.com/docker/docker-ce/pull/154">#154</a></li>
</ul>

<h4 id="logging-9">Logging</h4>

<ul>
  <li>Fix stderr logging for <code class="highlighter-rouge">journald</code> and <code class="highlighter-rouge">syslog</code> <a href="https://github.com/docker/docker-ce/pull/95">#95</a></li>
  <li>Fix log readers can block writes indefinitely <a href="https://github.com/docker/docker-ce/pull/98">#98</a></li>
  <li>Fix <code class="highlighter-rouge">awslogs</code> driver repeating last event <a href="https://github.com/docker/docker-ce/pull/151">#151</a></li>
</ul>

<h4 id="networking-19">Networking</h4>

<ul>
  <li>Fix issue with driver options not received by network drivers <a href="https://github.com/docker/docker-ce/pull/127">#127</a></li>
</ul>

<h4 id="plugins-2">Plugins</h4>

<ul>
  <li>Make plugin removes more resilient to failure <a href="https://github.com/docker/docker-ce/pull/91">#91</a></li>
</ul>

<h4 id="runtime-30">Runtime</h4>

<ul>
  <li>Prevent a <code class="highlighter-rouge">goroutine</code> leak when <code class="highlighter-rouge">healthcheck</code> gets stopped <a href="https://github.com/docker/docker-ce/pull/90">#90</a></li>
  <li>Do not error on relabel when relabel not supported <a href="https://github.com/docker/docker-ce/pull/92">#92</a></li>
  <li>Limit max backoff delay to 2 seconds for GRPC connection <a href="https://github.com/docker/docker-ce/pull/94">#94</a></li>
  <li>Fix issue preventing containers to run when memory cgroup was specified due to bug in certain kernels <a href="https://github.com/docker/docker-ce/pull/102">#102</a></li>
  <li>Fix container not responding to SIGKILL when paused <a href="https://github.com/docker/docker-ce/pull/102">#102</a></li>
  <li>Improve error message if an image for an incompatible OS is loaded <a href="https://github.com/docker/docker-ce/pull/108">#108</a></li>
  <li>Fix a handle leak in <code class="highlighter-rouge">go-winio</code> <a href="https://github.com/docker/docker-ce/pull/112">#112</a></li>
  <li>Fix issue upon upgrade, preventing docker from showing running containers when <code class="highlighter-rouge">--live-restore</code> is enabled <a href="https://github.com/docker/docker-ce/pull/117">#117</a></li>
  <li>Fix bug where services using secrets would fail to start on daemons using the <code class="highlighter-rouge">userns-remap</code> feature <a href="https://github.com/docker/docker-ce/pull/121">#121</a></li>
  <li>Fix error handling with <code class="highlighter-rouge">not-exist</code> errors on remove <a href="https://github.com/docker/docker-ce/pull/142">#142</a></li>
  <li>Fix REST API Swagger representation cannot be loaded with SwaggerUI <a href="https://github.com/docker/docker-ce/pull/156">#156</a></li>
</ul>

<h4 id="security-1">Security</h4>

<ul>
  <li>Redact secret data on secret creation <a href="https://github.com/docker/docker-ce/pull/99">#99</a></li>
</ul>

<h4 id="swarm-mode-22">Swarm mode</h4>

<ul>
  <li>Do not add duplicate platform information to service spec <a href="https://github.com/docker/docker-ce/pull/107">#107</a></li>
  <li>Cluster update and memory issue fixes <a href="https://github.com/docker/docker-ce/pull/114">#114</a></li>
  <li>Changing get network request to return predefined network in swarm <a href="https://github.com/docker/docker-ce/pull/150">#150</a></li>
</ul>

<h2 id="17060-ce">17.06.0-ce</h2>
<p>2017-06-28</p>

<blockquote>
  <p><strong>Note</strong>: Docker 17.06.0 has an issue in the image builder causing a change in the behavior
of the <code class="highlighter-rouge">ADD</code> instruction of Dockerfile when referencing a remote <code class="highlighter-rouge">.tar.gz</code> file. The issue will be
fixed in Docker 17.06.1.</p>
</blockquote>

<blockquote>
  <p><strong>Note</strong>: Starting with Docker CE 17.06, Ubuntu packages are also available
for IBM Z using the s390x architecture.</p>
</blockquote>

<blockquote>
  <p><strong>Note</strong>: Docker 17.06 by default disables communication with legacy (v1)
registries. If you require interaction with registries that have not yet
migrated to the v2 protocol, set the <code class="highlighter-rouge">--disable-legacy-registry=false</code> daemon
option. Interaction with v1 registries will be removed in Docker 17.12.</p>
</blockquote>

<h4 id="builder-13">Builder</h4>

<ul>
  <li>Add <code class="highlighter-rouge">--iidfile</code> option to docker build. It allows specifying a location where to save the resulting image ID</li>
  <li>Allow specifying any remote ref in git checkout URLs <a href="https://github.com/moby/moby/pull/32502">#32502</a></li>
</ul>

<h4 id="client-20">Client</h4>

<ul>
  <li>Add <code class="highlighter-rouge">--format</code> option to <code class="highlighter-rouge">docker stack ls</code> <a href="https://github.com/moby/moby/pull/31557">#31557</a></li>
  <li>Add support for labels in compose initiated builds <a href="https://github.com/moby/moby/pull/32632">#32632</a> <a href="https://github.com/moby/moby/pull/32972">#32972</a></li>
  <li>Add <code class="highlighter-rouge">--format</code> option to <code class="highlighter-rouge">docker history</code> <a href="https://github.com/moby/moby/pull/30962">#30962</a></li>
  <li>Add <code class="highlighter-rouge">--format</code> option to <code class="highlighter-rouge">docker system df</code> <a href="https://github.com/moby/moby/pull/31482">#31482</a></li>
  <li>Allow specifying Nameservers and Search Domains in stack files <a href="https://github.com/moby/moby/pull/32059">#32059</a></li>
  <li>Add support for <code class="highlighter-rouge">read_only</code> service to <code class="highlighter-rouge">docker stack deploy</code> <a href="https://github.com/docker/cli/pull/73">#docker/cli/73</a></li>
  <li>Display Swarm cluster and node TLS information <a href="https://github.com/docker/cli/pull/44">#docker/cli/44</a></li>
  <li>Add support for placement preference to <code class="highlighter-rouge">docker stack deploy</code> <a href="https://github.com/docker/cli/pull/35">#docker/cli/35</a></li>
  <li>Add new <code class="highlighter-rouge">ca </code> subcommand to <code class="highlighter-rouge">docker swarm</code> to allow managing a swarm CA <a href="https://github.com/docker/cli/pull/48">#docker/cli/48</a></li>
  <li>Add credential-spec to compose <a href="https://github.com/docker/cli/pull/71">#docker/cli/71</a></li>
  <li>Add support for csv format options to <code class="highlighter-rouge">--network</code> and <code class="highlighter-rouge">--network-add</code> <a href="https://github.com/docker/cli/pull/62">#docker/cli/62</a> <a href="https://github.com/moby/moby/pull/33130">#33130</a></li>
  <li>Fix stack compose bind-mount volumes on Windows <a href="https://github.com/docker/cli/pull/136">#docker/cli/136</a></li>
  <li>Correctly handle a Docker daemon without registry info <a href="https://github.com/docker/cli/pull/126">#docker/cli/126</a></li>
  <li>Allow <code class="highlighter-rouge">--detach</code> and <code class="highlighter-rouge">--quiet</code> flags when using --rollback <a href="https://github.com/docker/cli/pull/144">#docker/cli/144</a></li>
  <li>Remove deprecated <code class="highlighter-rouge">--email</code> flag from <code class="highlighter-rouge">docker login</code> <a href="https://github.com/docker/cli/pull/143">#docker/cli/143</a></li>
  <li>Adjusted <code class="highlighter-rouge">docker stats</code> memory output <a href="https://github.com/docker/cli/pull/80">#docker/cli/80</a></li>
</ul>

<h4 id="distribution-1">Distribution</h4>

<ul>
  <li>Select digest over tag when both are provided during a pull <a href="https://github.com/moby/moby/pull/33214">#33214</a></li>
</ul>

<h4 id="logging-10">Logging</h4>

<ul>
  <li>Add monitored resource type metadata for GCP logging driver <a href="https://github.com/moby/moby/pull/32930">#32930</a></li>
  <li>Add multiline processing to the AWS CloudWatch logs driver <a href="https://github.com/moby/moby/pull/30891">#30891</a></li>
</ul>

<h4 id="networking-20">Networking</h4>

<ul>
  <li>Add Support swarm-mode services with node-local networks such as macvlan, ipvlan, bridge, host <a href="https://github.com/moby/moby/pull/32981">#32981</a></li>
  <li>Pass driver-options to network drivers on service creation <a href="https://github.com/moby/moby/pull/33130">#32981</a></li>
  <li>Isolate Swarm Control-plane traffic from Application data traffic using --data-path-addr <a href="https://github.com/moby/moby/pull/32717">#32717</a></li>
  <li>Several improvements to Service Discovery <a href="https://github.com/docker/libnetwork/pull/1796">#docker/libnetwork/1796</a></li>
</ul>

<h4 id="packaging-9">Packaging</h4>

<ul>
  <li>Rely on <code class="highlighter-rouge">container-selinux</code> on Centos/Fedora/RHEL when available <a href="https://github.com/moby/moby/pull/32437">#32437</a></li>
</ul>

<h4 id="runtime-31">Runtime</h4>

<ul>
  <li>Add build &amp; engine info prometheus metrics <a href="https://github.com/moby/moby/pull/32792">#32792</a></li>
  <li>Update containerd to d24f39e203aa6be4944f06dd0fe38a618a36c764 <a href="https://github.com/moby/moby/pull/33007">#33007</a></li>
  <li>Update runc to 992a5be178a62e026f4069f443c6164912adbf09 <a href="https://github.com/moby/moby/pull/33007">#33007</a></li>
  <li>Add option to auto-configure blkdev for devmapper <a href="https://github.com/moby/moby/pull/31104">#31104</a></li>
  <li>Add log driver list to <code class="highlighter-rouge">docker info</code> <a href="https://github.com/moby/moby/pull/32540">#32540</a></li>
  <li>Add API endpoint to allow retrieving an image manifest <a href="https://github.com/moby/moby/pull/32061">#32061</a></li>
  <li>Do not remove container from memory on error with <code class="highlighter-rouge">forceremove</code> <a href="https://github.com/moby/moby/pull/31012">#31012</a></li>
  <li>Add support for metric plugins <a href="https://github.com/moby/moby/pull/32874">#32874</a></li>
  <li>Return an error when an invalid filter is given to <code class="highlighter-rouge">prune</code> commands <a href="https://github.com/moby/moby/pull/33023">#33023</a></li>
  <li>Add daemon option to allow pushing foreign layers <a href="https://github.com/moby/moby/pull/33151">#33151</a></li>
  <li>Fix an issue preventing containerd to be restarted after it died <a href="https://github.com/moby/moby/pull/32986">#32986</a></li>
  <li>Add cluster events to Docker event stream. <a href="https://github.com/moby/moby/pull/32421">#32421</a></li>
  <li>Add support for DNS search on windows <a href="https://github.com/moby/moby/pull/33311">#33311</a></li>
  <li>Upgrade to Go 1.8.3 <a href="https://github.com/moby/moby/pull/33387">#33387</a></li>
  <li>Prevent a containerd crash when journald is restarted <a href="https://github.com/containerd/containerd/pull/930">#containerd/930</a></li>
  <li>Fix healthcheck failures due to invalid environment variables <a href="https://github.com/moby/moby/pull/33249">#33249</a></li>
  <li>Prevent a directory to be created in lieu of the daemon socket when a container mounting it is to be restarted during a shutdown <a href="https://github.com/moby/moby/pull/33330">#30348</a></li>
  <li>Prevent a container to be restarted upon stop if its stop signal is set to <code class="highlighter-rouge">SIGKILL</code> <a href="https://github.com/moby/moby/pull/33335">#33335</a></li>
  <li>Ensure log drivers get passed the same filename to both StartLogging and StopLogging endpoints <a href="https://github.com/moby/moby/pull/33583">#33583</a></li>
  <li>Remove daemon data structure dump on <code class="highlighter-rouge">SIGUSR1</code> to avoid a panic <a href="https://github.com/moby/moby/pull/33598">#33598</a></li>
</ul>

<h4 id="security-2">Security</h4>

<ul>
  <li>Allow personality with UNAME26 bit set in default seccomp profile <a href="https://github.com/moby/moby/pull/32965">#32965</a></li>
</ul>

<h4 id="swarm-mode-23">Swarm Mode</h4>

<ul>
  <li>Add an option to allow specifying a different interface for the data traffic (as opposed to control traffic) <a href="https://github.com/moby/moby/pull/32717">#32717</a></li>
  <li>Allow specifying a secret location within the container <a href="https://github.com/moby/moby/pull/32571">#32571</a></li>
  <li>Add support for secrets on Windows <a href="https://github.com/moby/moby/pull/32208">#32208</a></li>
  <li>Add TLS Info to swarm info and node info endpoint <a href="https://github.com/moby/moby/pull/32875">#32875</a></li>
  <li>Add support for services to carry arbitrary config objects <a href="https://github.com/moby/moby/pull/32336">#32336</a>, <a href="https://github.com/docker/cli/pull/45">#docker/cli/45</a>,<a href="https://github.com/moby/moby/pull/33169">#33169</a></li>
  <li>Add API to rotate swarm CA certificate <a href="https://github.com/moby/moby/pull/32993">#32993</a></li>
  <li>Service digest pining is now handled client side <a href="https://github.com/moby/moby/pull/32388">#32388</a>, <a href="https://github.com/moby/moby/pull/33239">#33239</a></li>
  <li>Placement now also take platform in account <a href="https://github.com/moby/moby/pull/33144">#33144</a></li>
  <li>Fix possible hang when joining fails <a href="https://github.com/docker/docker-ce/pull/19">#docker-ce/19</a></li>
  <li>Fix an issue preventing external CA to be accepted <a href="https://github.com/moby/moby/pull/33341">#33341</a></li>
  <li>Fix possible orchestration panic in mixed version clusters <a href="https://github.com/docker/swarmkit/pull/2233">#swarmkit/2233</a></li>
  <li>Avoid assigning duplicate IPs during initialization <a href="https://github.com/docker/swarmkit/pull/2237">#swarmkit/2237</a></li>
</ul>

<h4 id="deprecation-3">Deprecation</h4>

<ul>
  <li>Disable legacy registry (v1) by default <a href="https://github.com/moby/moby/pull/33629">#33629</a></li>
</ul>

<h2 id="17032-ce">17.03.2-ce</h2>
<p>2017-05-29</p>

<h2 id="17033-ce">17.03.3-ce</h2>
<p>2018-08-30</p>

<h3 id="runtime-32">Runtime</h3>

<ul>
  <li>Update go-connections to d217f8e <a href="https://github.com/docker/engine/pull/28">#28</a></li>
</ul>

<h2 id="17032-ce-1">17.03.2-ce</h2>
<p>2017-05-29</p>

<h4 id="networking-21">Networking</h4>

<ul>
  <li>Fix a concurrency issue preventing network creation <a href="https://github.com/moby/moby/pull/33273">#33273</a></li>
</ul>

<h4 id="runtime-33">Runtime</h4>

<ul>
  <li>Relabel secrets path to avoid a Permission Denied on selinux enabled systems <a href="https://github.com/moby/moby/pull/33236">#33236</a> (ref <a href="https://github.com/moby/moby/pull/32529">#32529</a></li>
  <li>Fix cases where local volume were not properly relabeled if needed <a href="https://github.com/moby/moby/pull/33236">#33236</a> (ref <a href="https://github.com/moby/moby/pull/29428">#29428</a>)</li>
  <li>Fix an issue while upgrading if a plugin rootfs was still mounted <a href="https://github.com/moby/moby/pull/33236">#33236</a> (ref <a href="https://github.com/moby/moby/pull/32525">#32525</a>)</li>
  <li>Fix an issue where volume wouldn’t default to the <code class="highlighter-rouge">rprivate</code> propagation mode <a href="https://github.com/moby/moby/pull/33236">#33236</a> (ref <a href="https://github.com/moby/moby/pull/32851">#32851</a>)</li>
  <li>Fix a panic that could occur when a volume driver could not be retrieved <a href="https://github.com/moby/moby/pull/33236">#33236</a> (ref <a href="https://github.com/moby/moby/pull/32347">#32347</a>)</li>
  <li>Add a warning in <code class="highlighter-rouge">docker info</code> when the <code class="highlighter-rouge">overlay</code> or <code class="highlighter-rouge">overlay2</code> graphdriver is used on a filesystem without <code class="highlighter-rouge">d_type</code> support <a href="https://github.com/moby/moby/pull/33236">#33236</a> (ref <a href="https://github.com/moby/moby/pull/31290">#31290</a>)</li>
  <li>Fix an issue with backporting mount spec to older volumes <a href="https://github.com/moby/moby/pull/33207">#33207</a></li>
  <li>Fix issue where a failed unmount can lead to data loss on local volume remove <a href="https://github.com/moby/moby/pull/33120">#33120</a></li>
</ul>

<h4 id="swarm-mode-24">Swarm Mode</h4>

<ul>
  <li>Fix a case where tasks could get killed unexpectedly <a href="https://github.com/moby/moby/pull/33118">#33118</a></li>
  <li>Fix an issue preventing to deploy services if the registry cannot be reached despite the needed images being locally present <a href="https://github.com/moby/moby/pull/33117">#33117</a></li>
</ul>

<h2 id="17031-ce">17.03.1-ce</h2>
<p>2017-03-27</p>

<h4 id="remote-api-v127--client">Remote API (v1.27) &amp; Client</h4>

<ul>
  <li>Fix autoremove on older api <a href="https://github.com/docker/docker/pull/31692">#31692</a></li>
  <li>Fix default network customization for a stack <a href="https://github.com/docker/docker/pull/31258/">#31258</a></li>
  <li>Correct CPU usage calculation in presence of offline CPUs and newer Linux <a href="https://github.com/docker/docker/pull/31802">#31802</a></li>
  <li>Fix issue where service healthcheck is <code class="highlighter-rouge">{}</code> in remote API <a href="https://github.com/docker/docker/pull/30197">#30197</a></li>
</ul>

<h4 id="runtime-34">Runtime</h4>

<ul>
  <li>Update runc to 54296cf40ad8143b62dbcaa1d90e520a2136ddfe <a href="https://github.com/docker/docker/pull/31666">#31666</a></li>
  <li>Ignore cgroup2 mountpoints <a href="https://github.com/opencontainers/runc/pull/1266">opencontainers/runc#1266</a></li>
  <li>Update containerd to 4ab9917febca54791c5f071a9d1f404867857fcc <a href="https://github.com/docker/docker/pull/31662">#31662</a> <a href="https://github.com/docker/docker/pull/31852">#31852</a></li>
  <li>Register healtcheck service before calling restore() <a href="https://github.com/docker/containerd/pull/609">docker/containerd#609</a></li>
  <li>Fix <code class="highlighter-rouge">docker exec</code> not working after unattended upgrades that reload apparmor profiles <a href="https://github.com/docker/docker/pull/31773">#31773</a></li>
  <li>Fix unmounting layer without merge dir with Overlay2 <a href="https://github.com/docker/docker/pull/31069">#31069</a></li>
  <li>Do not ignore “volume in use” errors when force-delete <a href="https://github.com/docker/docker/pull/31450">#31450</a></li>
</ul>

<h4 id="swarm-mode-25">Swarm Mode</h4>

<ul>
  <li>Update swarmkit to 17756457ad6dc4d8a639a1f0b7a85d1b65a617bb <a href="https://github.com/docker/docker/pull/31807">#31807</a></li>
  <li>Scheduler now correctly considers tasks which have been assigned to a node but aren’t yet running <a href="https://github.com/docker/swarmkit/pull/1980">docker/swarmkit#1980</a></li>
  <li>Allow removal of a network when only dead tasks reference it <a href="https://github.com/docker/swarmkit/pull/2018">docker/swarmkit#2018</a></li>
  <li>Retry failed network allocations less aggressively <a href="https://github.com/docker/swarmkit/pull/2021">docker/swarmkit#2021</a></li>
  <li>Avoid network allocation for tasks that are no longer running <a href="https://github.com/docker/swarmkit/pull/2017">docker/swarmkit#2017</a></li>
  <li>Bookkeeping fixes inside network allocator allocator <a href="https://github.com/docker/swarmkit/pull/2019">docker/swarmkit#2019</a> <a href="https://github.com/docker/swarmkit/pull/2020">docker/swarmkit#2020</a></li>
</ul>

<h4 id="windows-2">Windows</h4>

<ul>
  <li>Cleanup HCS on restore <a href="https://github.com/docker/docker/pull/31503">#31503</a></li>
</ul>

<h2 id="17030-ce">17.03.0-ce</h2>
<p>2017-03-01</p>

<p><strong>IMPORTANT</strong>: Starting with this release, Docker is on a monthly release cycle and uses a
new YY.MM versioning scheme to reflect this. Two channels are available: monthly and quarterly.
Any given monthly release will only receive security and bugfixes until the next monthly
release is available. Quarterly releases receive security and bugfixes for 4 months after
initial release. This release includes bugfixes for 1.13.1 but
there are no major feature additions and the API version stays the same.
Upgrading from Docker 1.13.1 to 17.03.0 is expected to be simple and low-risk.</p>

<h4 id="client-21">Client</h4>

<ul>
  <li>Fix panic in <code class="highlighter-rouge">docker stats --format</code> <a href="https://github.com/docker/docker/pull/30776">#30776</a></li>
</ul>

<h4 id="contrib-1">Contrib</h4>

<ul>
  <li>Update various <code class="highlighter-rouge">bash</code> and <code class="highlighter-rouge">zsh</code> completion scripts <a href="https://github.com/docker/docker/pull/30823">#30823</a>, <a href="https://github.com/docker/docker/pull/30945">#30945</a> and more...</li>
  <li>Block obsolete socket families in default seccomp profile - mitigates unpatched kernels’ CVE-2017-6074 <a href="https://github.com/docker/docker/pull/29076">#29076</a></li>
</ul>

<h4 id="networking-22">Networking</h4>

<ul>
  <li>Fix bug on overlay encryption keys rotation in cross-datacenter swarm <a href="https://github.com/docker/docker/pull/30727">#30727</a></li>
  <li>Fix side effect panic in overlay encryption and network control plane communication failure (“No installed keys could decrypt the message”) on frequent swarm leader re-election <a href="https://github.com/docker/docker/pull/25608">#25608</a></li>
  <li>Several fixes around system responsiveness and datapath programming when using overlay network with external kv-store <a href="https://github.com/docker/libnetwork/pull/1639">docker/libnetwork#1639</a>, <a href="https://github.com/docker/libnetwork/pull/1632">docker/libnetwork#1632</a> and more...</li>
  <li>Discard incoming plain vxlan packets for encrypted overlay network <a href="https://github.com/docker/docker/pull/31170">#31170</a></li>
  <li>Release the network attachment on allocation failure <a href="https://github.com/docker/docker/pull/31073">#31073</a></li>
  <li>Fix port allocation when multiple published ports map to the same target port <a href="https://github.com/docker/swarmkit/pull/1835">docker/swarmkit#1835</a></li>
</ul>

<h4 id="runtime-35">Runtime</h4>

<ul>
  <li>Fix a deadlock in docker logs <a href="https://github.com/docker/docker/pull/30223">#30223</a></li>
  <li>Fix CPU spin waiting for log write events <a href="https://github.com/docker/docker/pull/31070">#31070</a></li>
  <li>Fix a possible crash when using journald <a href="https://github.com/docker/docker/pull/31231">#31231</a> <a href="https://github.com/docker/docker/pull/31263">#31263</a></li>
  <li>Fix a panic on close of nil channel <a href="https://github.com/docker/docker/pull/31274">#31274</a></li>
  <li>Fix duplicate mount point for <code class="highlighter-rouge">--volumes-from</code> in <code class="highlighter-rouge">docker run</code> <a href="https://github.com/docker/docker/pull/29563">#29563</a></li>
  <li>Fix <code class="highlighter-rouge">--cache-from</code> does not cache last step <a href="https://github.com/docker/docker/pull/31189">#31189</a></li>
</ul>

<h4 id="swarm-mode-26">Swarm Mode</h4>

<ul>
  <li>Shutdown leaks an error when the container was never started <a href="https://github.com/docker/docker/pull/31279">#31279</a></li>
  <li>Fix possibility of tasks getting stuck in the “NEW” state during a leader failover <a href="https://github.com/docker/swarmkit/pull/1938">docker/swarmkit#1938</a></li>
  <li>Fix extraneous task creations for global services that led to confusing replica counts in <code class="highlighter-rouge">docker service ls</code> <a href="https://github.com/docker/swarmkit/pull/1957">docker/swarmkit#1957</a></li>
  <li>Fix problem that made rolling updates slow when <code class="highlighter-rouge">task-history-limit</code> was set to 1 <a href="https://github.com/docker/swarmkit/pull/1948">docker/swarmkit#1948</a></li>
  <li>Restart tasks elsewhere, if appropriate, when they are shut down as a result of nodes no longer satisfying constraints <a href="https://github.com/docker/swarmkit/pull/1958">docker/swarmkit#1958</a></li>
  <li>(experimental)</li>
</ul>

<h2 id="edge-releases">Edge releases</h2>

<h2 id="18050-ce">18.05.0-ce</h2>
<p>2018-05-09</p>

<h4 id="builder-14">Builder</h4>

<ul>
  <li>Adding <code class="highlighter-rouge">netbsd</code> compatibility to the package <code class="highlighter-rouge">pkg/term</code>. <a href="https://github.com/moby/moby/pull/36887">moby/moby#36887</a></li>
  <li>Standardizes output path for artifacts of intermediate builds to <code class="highlighter-rouge">/build/</code>. <a href="https://github.com/moby/moby/pull/36858">moby/moby#36858</a></li>
</ul>

<h4 id="client-22">Client</h4>

<ul>
  <li>Fix <code class="highlighter-rouge">docker stack deploy</code> reference flag. <a href="https://github.com/docker/cli/pull/981">docker/cli#981</a></li>
  <li>Fix docker stack deploy re-deploying services after the service was updated with <code class="highlighter-rouge">--force</code>. <a href="https://github.com/docker/cli/pull/963">docker/cli#963</a></li>
  <li>Add bash completion for <code class="highlighter-rouge">secret|config create --template-driver</code>. <a href="https://github.com/docker/cli/pull/1004">docker/cli#1004</a></li>
  <li>Add fish completions for docker trust subcommand. <a href="https://github.com/docker/cli/pull/984">docker/cli#984</a></li>
  <li>Fix --format example for docker history. <a href="https://github.com/docker/cli/pull/980">docker/cli#980</a></li>
  <li>Fix error with merge composefile with networks. <a href="https://github.com/docker/cli/pull/983">docker/cli#983</a></li>
</ul>

<h4 id="logging-11">Logging</h4>
<ul>
  <li>Standardized the properties of storage-driver log messages. <a href="https://github.com/moby/moby/pull/36492">moby/moby#36492</a></li>
  <li>Improve partial message support in logger. <a href="https://github.com/moby/moby/pull/35831">moby/moby#35831</a></li>
</ul>

<h4 id="networking-23">Networking</h4>

<ul>
  <li>Allow for larger preset property values, do not override. <a href="https://github.com/docker/libnetwork/pull/2124">docker/libnetwork#2124</a></li>
  <li>networkdb: User write lock in handleNodeEvent.  <a href="https://github.com/docker/libnetwork/pull/2136">docker/libnetwork#2136</a></li>
  <li>Import libnetwork fix for rolling updates. <a href="https://github.com/moby/moby/pull/36638">moby/moby#36638</a></li>
  <li>Update libnetwork to improve scalabiltiy of bridge network isolation rules. <a href="https://github.com/moby/moby/pull/36774">moby/moby#36774</a></li>
  <li>Fix a misused network object name. <a href="https://github.com/moby/moby/pull/36745">moby/moby#36745</a></li>
</ul>

<h4 id="runtime-36">Runtime</h4>

<ul>
  <li>LCOW: Implement <code class="highlighter-rouge">docker save</code>. <a href="https://github.com/moby/moby/pull/36599">moby/moby#36599</a></li>
  <li>Pkg: devmapper: dynamically load dm_task_deferred_remove. <a href="https://github.com/moby/moby/pull/35518">moby/moby#35518</a></li>
  <li>Windows: Add GetLayerPath implementation in graphdriver. <a href="https://github.com/moby/moby/pull/36738">moby/moby#36738</a></li>
  <li>Fix Windows layer leak when write fails. <a href="https://github.com/moby/moby/pull/36728">moby/moby#36728</a></li>
  <li>Fix FIFO, sockets and device files when run in user NS. <a href="https://github.com/moby/moby/pull/36756">moby/moby#36756</a></li>
  <li>Fix docker version output alignment. <a href="https://github.com/docker/cli/pull/965">docker/cli#965</a></li>
  <li>Always make sysfs read-write with privileged. <a href="https://github.com/moby/moby/pull/36808">moby/moby#36808</a></li>
  <li>Bump Golang to 1.10.1. <a href="https://github.com/moby/moby/pull/35739">moby/moby#35739</a></li>
  <li>Bump containerd client. <a href="https://github.com/moby/moby/pull/36684">moby/moby#36684</a></li>
  <li>Bump golang.org/x/net to go1.10 release commit. <a href="https://github.com/moby/moby/pull/36894">moby/moby#36894</a></li>
  <li>Context.WithTimeout: do call the cancel func. <a href="https://github.com/moby/moby/pull/36920">moby/moby#36920</a></li>
  <li>Copy: avoid using all system memory with authz plugins. <a href="https://github.com/moby/moby/pull/36595">moby/moby#36595</a></li>
  <li>Daemon/cluster: handle partial attachment entries during configure. <a href="https://github.com/moby/moby/pull/36769">moby/moby#36769</a></li>
  <li>Don’t make container mount unbindable. <a href="https://github.com/moby/moby/pull/36768">moby/moby#36768</a></li>
  <li>Extra check before unmounting on shutdown. <a href="https://github.com/moby/moby/pull/36879">moby/moby#36879</a></li>
  <li>Move mount parsing to separate package. <a href="https://github.com/moby/moby/pull/36896">moby/moby#36896</a></li>
  <li>No global volume driver store. <a href="https://github.com/moby/moby/pull/36637">moby/moby#36637</a></li>
  <li>Pkg/mount improvements. <a href="https://github.com/moby/moby/pull/36091">moby/moby#36091</a></li>
  <li>Relax some libcontainerd client locking. <a href="https://github.com/moby/moby/pull/36848">moby/moby#36848</a></li>
  <li>Remove daemon dependency on api packages. <a href="https://github.com/moby/moby/pull/36912">moby/moby#36912</a></li>
  <li>Remove the retries for service update. <a href="https://github.com/moby/moby/pull/36827">moby/moby#36827</a></li>
  <li>Revert unencryted storage warning prompt. <a href="https://github.com/docker/cli/pull/1008">docker/cli#1008</a></li>
  <li>Support cancellation in <code class="highlighter-rouge">directory.Size()</code>. <a href="https://github.com/moby/moby/pull/36734">moby/moby#36734</a></li>
  <li>Switch from x/net/context -&gt; context. <a href="https://github.com/moby/moby/pull/36904">moby/moby#36904</a></li>
  <li>Fixed a function to check Content-type is <code class="highlighter-rouge">application/json</code> or not. <a href="https://github.com/moby/moby/pull/36778">moby/moby#36778</a></li>
  <li>Add default pollSettings config functions. <a href="https://github.com/moby/moby/pull/36706">moby/moby#36706</a></li>
  <li>Add if judgment before receiving operations on daemonWaitCh. <a href="https://github.com/moby/moby/pull/36651">moby/moby#36651</a></li>
  <li>Fix issues with running volume tests as non-root.. <a href="https://github.com/moby/moby/pull/36935">moby/moby#36935</a></li>
</ul>

<h4 id="swarm-mode-27">Swarm Mode</h4>

<ul>
  <li>RoleManager will remove detected nodes from the cluster membership <a href="https://github.com/docker/swarmkit/pull/2548">docker/swarmkit#2548</a></li>
  <li>Scheduler/TaskReaper: handle unassigned tasks marked for shutdown <a href="https://github.com/docker/swarmkit/pull/2574">docker/swarmkit#2574</a></li>
  <li>Avoid predefined error log. <a href="https://github.com/docker/swarmkit/pull/2561">docker/swarmkit#2561</a></li>
  <li>Task reaper should delete tasks with removed slots that were not yet assigned. <a href="https://github.com/docker/swarmkit/pull/2557">docker/swarmkit#2557</a></li>
  <li>Agent reports FIPS status. <a href="https://github.com/docker/swarmkit/pull/2587">docker/swarmkit#2587</a></li>
  <li>Fix: timeMutex critical operation outside of critical section. <a href="https://github.com/docker/swarmkit/pull/2603">docker/swarmkit#2603</a></li>
  <li>Expose swarmkit’s Raft tuning parameters in engine config. <a href="https://github.com/moby/moby/pull/36726">moby/moby#36726</a></li>
  <li>Make internal/test/daemon.Daemon swarm aware. <a href="https://github.com/moby/moby/pull/36826">moby/moby#36826</a></li>
</ul>

<h2 id="18040-ce">18.04.0-ce</h2>
<p>2018-04-10</p>

<h4 id="builder-15">Builder</h4>

<ul>
  <li>Fix typos in builder and client. <a href="https://github.com/moby/moby/pull/36424">moby/moby#36424</a></li>
</ul>

<h4 id="client-23">Client</h4>

<ul>
  <li>Print Stack API and Kubernetes versions in version command. <a href="https://github.com/docker/cli/pull/898">docker/cli#898</a></li>
  <li>Fix Kubernetes duplication in version command. <a href="https://github.com/docker/cli/pull/953">docker/cli#953</a></li>
  <li>Use HasAvailableFlags instead of HasFlags for Options in help. <a href="https://github.com/docker/cli/pull/959">docker/cli#959</a></li>
  <li>Add support for mandatory variables to stack deploy. <a href="https://github.com/docker/cli/pull/893">docker/cli#893</a></li>
  <li>Fix docker stack services command Port output. <a href="https://github.com/docker/cli/pull/943">docker/cli#943</a></li>
  <li>Deprecate unencrypted storage. <a href="https://github.com/docker/cli/pull/561">docker/cli#561</a></li>
  <li>Don’t set a default filename for ConfigFile. <a href="https://github.com/docker/cli/pull/917">docker/cli#917</a></li>
  <li>Fix compose network name. <a href="https://github.com/docker/cli/pull/941">docker/cli#941</a></li>
</ul>

<h4 id="logging-12">Logging</h4>

<ul>
  <li>Silent login: use credentials from cred store to login. <a href="https://github.com/docker/cli/pull/139">docker/cli#139</a></li>
  <li>Add support for compressibility of log file. <a href="https://github.com/moby/moby/pull/29932">moby/moby#29932</a></li>
  <li>Fix empty LogPath with non-blocking logging mode. <a href="https://github.com/moby/moby/pull/36272">moby/moby#36272</a></li>
</ul>

<h4 id="networking-24">Networking</h4>

<ul>
  <li>Prevent explicit removal of ingress network. <a href="https://github.com/moby/moby/pull/36538">moby/moby#36538</a></li>
</ul>

<h4 id="runtime-37">Runtime</h4>

<ul>
  <li>Devmapper cleanup improvements. <a href="https://github.com/moby/moby/pull/36307">moby/moby#36307</a></li>
  <li>Devmapper.Mounted: remove. <a href="https://github.com/moby/moby/pull/36437">moby/moby#36437</a></li>
  <li>Devmapper/Remove(): use Rmdir, ignore errors. <a href="https://github.com/moby/moby/pull/36438">moby/moby#36438</a></li>
  <li>LCOW - Change platform parser directive to FROM statement flag. <a href="https://github.com/moby/moby/pull/35089">moby/moby#35089</a></li>
  <li>Split daemon service code to windows file. <a href="https://github.com/moby/moby/pull/36653">moby/moby#36653</a></li>
  <li>Windows: Block pulling uplevel images. <a href="https://github.com/moby/moby/pull/36327">moby/moby#36327</a></li>
  <li>Windows: Hyper-V containers are broken after 36586 was merged. <a href="https://github.com/moby/moby/pull/36610">moby/moby#36610</a></li>
  <li>Windows: Move kernel_windows to use golang registry functions. <a href="https://github.com/moby/moby/pull/36617">moby/moby#36617</a></li>
  <li>Windows: Pass back system errors on container exit. <a href="https://github.com/moby/moby/pull/35967">moby/moby#35967</a></li>
  <li>Windows: Remove servicing mode. <a href="https://github.com/moby/moby/pull/36267">moby/moby#36267</a></li>
  <li>Windows: Report Version and UBR. <a href="https://github.com/moby/moby/pull/36451">moby/moby#36451</a></li>
  <li>Bump Runc to 1.0.0-rc5. <a href="https://github.com/moby/moby/pull/36449">moby/moby#36449</a></li>
  <li>Mount failure indicates the path that failed. <a href="https://github.com/moby/moby/pull/36407">moby/moby#36407</a></li>
  <li>Change return for errdefs.getImplementer(). <a href="https://github.com/moby/moby/pull/36489">moby/moby#36489</a></li>
  <li>Client: fix hijackedconn reading from buffer. <a href="https://github.com/moby/moby/pull/36663">moby/moby#36663</a></li>
  <li>Content encoding negotiation added to archive request. <a href="https://github.com/moby/moby/pull/36164">moby/moby#36164</a></li>
  <li>Daemon/stats: more resilient cpu sampling. <a href="https://github.com/moby/moby/pull/36519">moby/moby#36519</a></li>
  <li>Daemon/stats: remove obnoxious types file. <a href="https://github.com/moby/moby/pull/36494">moby/moby#36494</a></li>
  <li>Daemon: use context error rather than inventing new one. <a href="https://github.com/moby/moby/pull/36670">moby/moby#36670</a></li>
  <li>Enable CRIU on non-amd64 architectures (v2). <a href="https://github.com/moby/moby/pull/36676">moby/moby#36676</a></li>
  <li>Fixes intermittent client hang after closing stdin to attached container <a href="https://github.com/moby/moby/pull/36517">moby/moby#36517</a></li>
  <li>Fix daemon panic on container export after restart <a href="https://github.com/moby/moby/pull/36586">moby/moby#36586</a></li>
  <li>Follow-up fixes on multi-stage moby’s Dockerfile. <a href="https://github.com/moby/moby/pull/36425">moby/moby#36425</a></li>
  <li>Freeze busybox and latest glibc in Docker image. <a href="https://github.com/moby/moby/pull/36375">moby/moby#36375</a></li>
  <li>If container will run as non root user, drop permitted, effective caps early. <a href="https://github.com/moby/moby/pull/36587">moby/moby#36587</a></li>
  <li>Layer: remove metadata store interface. <a href="https://github.com/moby/moby/pull/36504">moby/moby#36504</a></li>
  <li>Minor optimizations to dockerd. <a href="https://github.com/moby/moby/pull/36577">moby/moby#36577</a></li>
  <li>Whitelist statx syscall. <a href="https://github.com/moby/moby/pull/36417">moby/moby#36417</a></li>
  <li>Add missing error return for plugin creation. <a href="https://github.com/moby/moby/pull/36646">moby/moby#36646</a></li>
  <li>Fix AppArmor not being applied to Exec processes. <a href="https://github.com/moby/moby/pull/36466">moby/moby#36466</a></li>
  <li>Daemon/logger/ring.go: log error not instance. <a href="https://github.com/moby/moby/pull/36475">moby/moby#36475</a></li>
  <li>Fix stats collector spinning CPU if no stats are collected. <a href="https://github.com/moby/moby/pull/36609">moby/moby#36609</a></li>
  <li>Fix(distribution): digest cache should not be moved if it was an auth. <a href="https://github.com/moby/moby/pull/36509">moby/moby#36509</a></li>
  <li>Make sure plugin container is removed on failure. <a href="https://github.com/moby/moby/pull/36715">moby/moby#36715</a></li>
  <li>Bump to containerd 1.0.3. <a href="https://github.com/moby/moby/pull/36749">moby/moby#36749</a></li>
  <li>Don’t sort plugin mount slice. <a href="https://github.com/moby/moby/pull/36711">moby/moby#36711</a></li>
</ul>

<h4 id="swarm-mode-28">Swarm Mode</h4>

<ul>
  <li>Fixes for synchronizing the dispatcher shutdown with in-progress rpcs. <a href="https://github.com/moby/moby/pull/36371">moby/moby#36371</a></li>
  <li>Increase raft ElectionTick to 10xHeartbeatTick. <a href="https://github.com/moby/moby/pull/36672">moby/moby#36672</a></li>
  <li>Make Swarm manager Raft quorum parameters configurable in daemon config. <a href="https://github.com/moby/moby/pull/36726">moby/moby#36726</a></li>
  <li>Ingress network should not be attachable. <a href="https://github.com/docker/swarmkit/pull/2523">docker/swarmkit#2523</a></li>
  <li>[manager/state] Add fernet as an option for raft encryption. <a href="https://github.com/docker/swarmkit/pull/2535">docker/swarmkit#2535</a></li>
  <li>Log GRPC server errors.  <a href="https://github.com/docker/swarmkit/pull/2541">docker/swarmkit#2541</a></li>
  <li>Log leadership changes at the manager level. <a href="https://github.com/docker/swarmkit/pull/2542">docker/swarmkit#2542</a></li>
  <li>Remove the containerd executor. <a href="https://github.com/docker/swarmkit/pull/2568">docker/swarmkit#2568</a></li>
  <li>Agent: backoff session when no remotes are available. <a href="https://github.com/docker/swarmkit/pull/2570">docker/swarmkit#2570</a></li>
  <li>[ca/manager] Remove root CA key encryption support entirely. <a href="https://github.com/docker/swarmkit/pull/2573">docker/swarmkit#2573</a></li>
  <li>Fix agent logging race. <a href="https://github.com/docker/swarmkit/pull/2578">docker/swarmkit#2578</a></li>
  <li>Adding logic to restore networks in order. <a href="https://github.com/docker/swarmkit/pull/2571">docker/swarmkit#2571</a></li>
</ul>

<h2 id="18020-ce">18.02.0-ce</h2>
<p>2018-02-07</p>

<h4 id="builder-16">Builder</h4>

<ul>
  <li>Gitutils: fix checking out submodules <a href="https://github.com/moby/moby/pull/35737">moby/moby#35737</a></li>
</ul>

<h4 id="client-24">Client</h4>

<ul>
  <li>Attach: Ensure attach exit code matches container’s <a href="https://github.com/docker/cli/pull/696">docker/cli#696</a></li>
  <li>Added support for tmpfs-mode in compose file <a href="https://github.com/docker/cli/pull/808">docker/cli#808</a></li>
  <li>Adds a new compose file version 3.6 <a href="https://github.com/docker/cli/pull/808">docker/cli#808</a></li>
  <li>Fix issue of filter in <code class="highlighter-rouge">docker ps</code> where <code class="highlighter-rouge">health=starting</code> returns nothing <a href="https://github.com/moby/moby/pull/35940">moby/moby#35940</a></li>
  <li>Improve presentation of published port ranges <a href="https://github.com/docker/cli/pull/581">docker/cli#581</a></li>
  <li>Bump Go to 1.9.3 <a href="https://github.com/docker/cli/pull/827">docker/cli#827</a></li>
  <li>Fix broken Kubernetes stack flags <a href="https://github.com/docker/cli/pull/831">docker/cli#831</a></li>
  <li>Annotate “stack” commands to be “swarm” and “kubernetes” <a href="https://github.com/docker/cli/pull/804">docker/cli#804</a></li>
</ul>

<h4 id="experimental">Experimental</h4>

<ul>
  <li>Add manifest command <a href="https://github.com/docker/cli/pull/138">docker/cli#138</a></li>
  <li>LCOW remotefs - return error in Read() implementation <a href="https://github.com/moby/moby/pull/36051">moby/moby#36051</a></li>
  <li>LCOW: Coalesce daemon stores, allow dual LCOW and WCOW mode <a href="https://github.com/moby/moby/pull/34859">moby/moby#34859</a></li>
  <li>LCOW: Fix OpenFile parameters <a href="https://github.com/moby/moby/pull/36043">moby/moby#36043</a></li>
  <li>LCOW: Raise minimum requirement to Windows RS3 RTM build (16299) <a href="https://github.com/moby/moby/pull/36065">moby/moby#36065</a></li>
</ul>

<h4 id="logging-13">Logging</h4>

<ul>
  <li>Improve daemon config reload; log active configuration <a href="https://github.com/moby/moby/pull/36019">moby/moby#36019</a></li>
  <li>Fixed error detection using IsErrNotFound and IsErrNotImplemented for the ContainerLogs method <a href="https://github.com/moby/moby/pull/36000">moby/moby#36000</a></li>
  <li>Add journald tag as SYSLOG_IDENTIFIER <a href="https://github.com/moby/moby/pull/35570">moby/moby#35570</a></li>
  <li>Splunk: limit the reader size on error responses <a href="https://github.com/moby/moby/pull/35509">moby/moby#35509</a></li>
</ul>

<h4 id="networking-25">Networking</h4>

<ul>
  <li>Disable service on release network results in zero-downtime deployments with rolling upgrades <a href="https://github.com/moby/moby/pull/35960">moby/moby#35960</a></li>
  <li>Fix services failing to start if multiple networks with the same name exist in different spaces <a href="https://github.com/moby/moby/pull/30897">moby/moby#30897</a></li>
  <li>Fix duplicate networks being added with <code class="highlighter-rouge">docker service update --network-add</code> <a href="https://github.com/docker/cli/pull/780">docker/cli#780</a></li>
  <li>Fixing ingress network when upgrading from 17.09 to 17.12. <a href="https://github.com/moby/moby/pull/36003">moby/moby#36003</a></li>
  <li>Fix ndots configuration <a href="https://github.com/docker/libnetwork/pull/1995">docker/libnetwork#1995</a></li>
  <li>Fix IPV6 networking being deconfigured if live-restore is enabled <a href="https://github.com/docker/libnetwork/pull/2043">docker/libnetwork#2043</a></li>
  <li>Add support for MX type DNS queries in the embedded DNS server <a href="https://github.com/docker/libnetwork/pull/2041">docker/libnetwork#2041</a></li>
</ul>

<h4 id="packaging-10">Packaging</h4>

<ul>
  <li>Added packaging for Fedora 26, Fedora 27, and Centos 7 on aarch64 <a href="https://github.com/docker/docker-ce-packaging/pull/71">docker/docker-ce-packaging#71</a></li>
  <li>Removed support for Ubuntu Zesty <a href="https://github.com/docker/docker-ce-packaging/pull/73">docker/docker-ce-packaging#73</a></li>
  <li>Removed support for Fedora 25 <a href="https://github.com/docker/docker-ce-packaging/pull/72">docker/docker-ce-packaging#72</a></li>
</ul>

<h4 id="runtime-38">Runtime</h4>

<ul>
  <li>Fixes unexpected Docker Daemon shutdown based on pipe error <a href="https://github.com/moby/moby/pull/35968">moby/moby#35968</a></li>
  <li>Fix some occurrences of hcsshim::ImportLayer failed in Win32: The system cannot find the path specified <a href="https://github.com/moby/moby/pull/35924">moby/moby#35924</a></li>
  <li>Windows: increase the maximum layer size during build to 127GB <a href="https://github.com/moby/moby/pull/35925">moby/moby#35925</a></li>
  <li>Fix Devicemapper: Error running DeleteDevice dm_task_run failed <a href="https://github.com/moby/moby/pull/35919">moby/moby#35919</a></li>
  <li>Introduce « exec_die » event <a href="https://github.com/moby/moby/pull/35744">moby/moby#35744</a></li>
  <li>Update API to version 1.36 <a href="https://github.com/moby/moby/pull/35744">moby/moby#35744</a></li>
  <li>Fix <code class="highlighter-rouge">docker update</code> not updating cpu quota, and cpu-period of a running container <a href="https://github.com/moby/moby/pull/36030">moby/moby#36030</a></li>
  <li>Make container shm parent unbindable <a href="https://github.com/moby/moby/pull/35830">moby/moby#35830</a></li>
  <li>Make image (layer) downloads faster by using pigz <a href="https://github.com/moby/moby/pull/35697">moby/moby#35697</a></li>
  <li>Protect the daemon from volume plugins that are slow or deadlocked <a href="https://github.com/moby/moby/pull/35441">moby/moby#35441</a></li>
  <li>Fix <code class="highlighter-rouge">DOCKER_RAMDISK</code> environment variable not being honoured <a href="https://github.com/moby/moby/pull/35957">moby/moby#35957</a></li>
  <li>Bump containerd to 1.0.1 (9b55aab90508bd389d7654c4baf173a981477d55) <a href="https://github.com/moby/moby/pull/35986">moby/moby#35986</a></li>
  <li>Update runc to fix hang during start and exec <a href="https://github.com/moby/moby/pull/36097">moby/moby#36097</a></li>
  <li>Fix “--node-generic-resource” singular/plural <a href="https://github.com/moby/moby/pull/36125">moby/moby#36125</a></li>
</ul>

<h2 id="18010-ce">18.01.0-ce</h2>
<p>2018-01-10</p>

<h4 id="builder-17">Builder</h4>

<ul>
  <li>Fix files not being deleted if user-namespaces are enabled <a href="https://github.com/moby/moby/pull/35822">moby/moby#35822</a></li>
  <li>Add support for expanding environment-variables in <code class="highlighter-rouge">docker commit --change ...</code> <a href="https://github.com/moby/moby/pull/35582">moby/moby#35582</a></li>
</ul>

<h4 id="client-25">Client</h4>

<ul>
  <li>Return errors from client in stack deploy configs <a href="https://github.com/docker/cli/pull/757">docker/cli#757</a></li>
  <li>Fix description of filter flag in prune commands <a href="https://github.com/docker/cli/pull/774">docker/cli#774</a></li>
  <li>Add “pid” to unsupported options list <a href="https://github.com/docker/cli/pull/768">docker/cli#768</a></li>
  <li>Add support for experimental Cli configuration <a href="https://github.com/docker/cli/pull/758">docker/cli#758</a></li>
  <li>Add support for generic resources to bash completion <a href="https://github.com/docker/cli/pull/749">docker/cli#749</a></li>
  <li>Fix error in zsh completion script for docker exec <a href="https://github.com/docker/cli/pull/751">docker/cli#751</a></li>
  <li>Add a debug message when client closes websocket attach connection <a href="https://github.com/moby/moby/pull/35720">moby/moby#35720</a></li>
  <li>Fix bash completion for <code class="highlighter-rouge">"docker swarm"</code> <a href="https://github.com/docker/cli/pull/772">docker/cli#772</a></li>
</ul>

<h4 id="documentation-1">Documentation</h4>
<ul>
  <li>Correct references to <code class="highlighter-rouge">--publish</code> long syntax in docs <a href="https://github.com/docker/cli/pull/746">docker/cli#746</a></li>
  <li>Corrected descriptions for MAC_ADMIN and MAC_OVERRIDE <a href="https://github.com/docker/cli/pull/761">docker/cli#761</a></li>
  <li>Updated developer doc to explain external CLI <a href="https://github.com/moby/moby/pull/35681">moby/moby#35681</a></li>
  <li>Fix <code class="highlighter-rouge">"on-failure"</code> restart policy being documented as “failure” <a href="https://github.com/docker/cli/pull/754">docker/cli#754</a></li>
  <li>Fix anchors to “Storage driver options” <a href="https://github.com/docker/cli/pull/748">docker/cli#748</a></li>
</ul>

<h4 id="experimental-1">Experimental</h4>

<ul>
  <li>Add kubernetes support to <code class="highlighter-rouge">docker stack</code> command <a href="https://github.com/docker/cli/pull/721">docker/cli#721</a></li>
  <li>Don’t append the container id to custom directory checkpoints. <a href="https://github.com/moby/moby/pull/35694">moby/moby#35694</a></li>
</ul>

<h4 id="logging-14">Logging</h4>

<ul>
  <li>Fix daemon crash when using the GELF log driver over TCP when the GELF server goes down <a href="https://github.com/moby/moby/pull/35765">moby/moby#35765</a></li>
  <li>Fix awslogs batch size calculation for large logs <a href="https://github.com/moby/moby/pull/35726">moby/moby#35726</a></li>
</ul>

<h4 id="networking-26">Networking</h4>

<ul>
  <li>Windows: Fix to allow docker service to start on Windows VM <a href="https://github.com/docker/libnetwork/pull/1916">docker/libnetwork#1916</a></li>
  <li>Fix for docker intercepting DNS requests on ICS network <a href="https://github.com/docker/libnetwork/pull/2014">docker/libnetwork#2014</a></li>
  <li>Windows: Added a new network creation driver option <a href="https://github.com/docker/libnetwork/pull/2021">docker/libnetwork#2021</a></li>
</ul>

<h4 id="runtime-39">Runtime</h4>

<ul>
  <li>Validate Mount-specs on container start to prevent missing host-path <a href="https://github.com/moby/moby/pull/35833">moby/moby#35833</a></li>
  <li>Fix overlay2 storage driver inside a user namespace <a href="https://github.com/moby/moby/pull/35794">moby/moby#35794</a></li>
  <li>Zfs: fix busy error on container stop <a href="https://github.com/moby/moby/pull/35674">moby/moby#35674</a></li>
  <li>Fix health checks not using the container’s working directory <a href="https://github.com/moby/moby/pull/35845">moby/moby#35845</a></li>
  <li>Fix VFS graph driver failure to initialize because of failure to setup fs quota <a href="https://github.com/moby/moby/pull/35827">moby/moby#35827</a></li>
  <li>Fix containerd events being processed twice <a href="https://github.com/moby/moby/pull/35896">moby/moby#35896</a></li>
</ul>

<h4 id="swarm-mode-29">Swarm mode</h4>

<ul>
  <li>Fix published ports not being updated if a service has the same number of host-mode published ports with Published Port 0 <a href="https://github.com/docker/swarmkit/pull/2376">docker/swarmkit#2376</a></li>
  <li>Make the task termination order deterministic <a href="https://github.com/docker/swarmkit/pull/2265">docker/swarmkit#2265</a></li>
</ul>

<h2 id="17110-ce">17.11.0-ce</h2>
<p>2017-11-20</p>

<blockquote class="important">
  <p><strong>Important</strong>: Docker CE 17.11 is the first Docker release based on
<a href="https://github.com/containerd/containerd/releases/tag/v1.0.0-beta.2">containerd 1.0 beta</a>.
Docker CE 17.11 and later don’t recognize containers started with
previous Docker versions. If using
<a href="https://matsuand.github.io/docs.docker.jp.onthefly/engine/admin/live-restore/#enable-the-live-restore-option">Live Restore</a>,
you must stop all containers before upgrading to Docker CE 17.11.
If you don’t, any containers started by Docker versions that predate
17.11 aren’t recognized by Docker after the upgrade and keep
running, un-managed, on the system.</p>
</blockquote>

<h4 id="builder-18">Builder</h4>

<ul>
  <li>Test &amp; Fix build with rm/force-rm matrix <a href="https://github.com/moby/moby/pull/35139">moby/moby#35139</a></li>
  <li>Fix build with <code class="highlighter-rouge">--stream</code> with a large context <a href="https://github.com/moby/moby/pull/35404">moby/moby#35404</a></li>
</ul>

<h4 id="client-26">Client</h4>

<ul>
  <li>Hide help flag from help output <a href="https://github.com/docker/cli/pull/645">docker/cli#645</a></li>
  <li>Support parsing of named pipes for compose volumes <a href="https://github.com/docker/cli/pull/560">docker/cli#560</a></li>
  <li>[Compose] Cast values to expected type after interpolating values <a href="https://github.com/docker/cli/pull/601">docker/cli#601</a></li>
  <li>Add output for “secrets” and “configs” on <code class="highlighter-rouge">docker stack deploy</code> <a href="https://github.com/docker/cli/pull/593">docker/cli#593</a></li>
  <li>Fix flag description for <code class="highlighter-rouge">--host-add</code> <a href="https://github.com/docker/cli/pull/648">docker/cli#648</a></li>
  <li>Do not truncate ID on docker service ps --quiet <a href="https://github.com/docker/cli/pull/579">docker/cli#579</a></li>
</ul>

<h4 id="deprecation-4">Deprecation</h4>

<ul>
  <li>Update bash completion and deprecation for synchronous service updates <a href="https://github.com/docker/cli/pull/610">docker/cli#610</a></li>
</ul>

<h4 id="logging-15">Logging</h4>

<ul>
  <li>copy to log driver’s bufsize, fixes #34887 <a href="https://github.com/moby/moby/pull/34888">moby/moby#34888</a></li>
  <li>Add TCP support for GELF log driver <a href="https://github.com/moby/moby/pull/34758">moby/moby#34758</a></li>
  <li>Add credentials endpoint option for awslogs driver <a href="https://github.com/moby/moby/pull/35055">moby/moby#35055</a></li>
</ul>

<h4 id="networking-27">Networking</h4>

<ul>
  <li>Fix network name masking network ID on delete <a href="https://github.com/moby/moby/pull/34509">moby/moby#34509</a></li>
  <li>Fix returned error code for network creation from 500 to 409 <a href="https://github.com/moby/moby/pull/35030">moby/moby#35030</a></li>
  <li>Fix tasks fail with error “Unable to complete atomic operation, key modified” <a href="https://github.com/docker/libnetwork/pull/2004">docker/libnetwork#2004</a></li>
</ul>

<h4 id="runtime-40">Runtime</h4>

<ul>
  <li>Switch to Containerd 1.0 client <a href="https://github.com/moby/moby/pull/34895">moby/moby#34895</a></li>
  <li>Increase container default shutdown timeout on Windows <a href="https://github.com/moby/moby/pull/35184">moby/moby#35184</a></li>
  <li>LCOW: API: Add <code class="highlighter-rouge">platform</code> to /images/create and /build <a href="https://github.com/moby/moby/pull/34642">moby/moby#34642</a></li>
  <li>Stop filtering Windows manifest lists by version <a href="https://github.com/moby/moby/pull/35117">moby/moby#35117</a></li>
  <li>Use windows console mode constants from Azure/go-ansiterm <a href="https://github.com/moby/moby/pull/35056">moby/moby#35056</a></li>
  <li>Windows Daemon should respect DOCKER_TMPDIR <a href="https://github.com/moby/moby/pull/35077">moby/moby#35077</a></li>
  <li>Windows: Fix startup logging <a href="https://github.com/moby/moby/pull/35253">moby/moby#35253</a></li>
  <li>Add support for Windows version filtering on pull <a href="https://github.com/moby/moby/pull/35090">moby/moby#35090</a></li>
  <li>Fixes LCOW after containerd 1.0 introduced regressions <a href="https://github.com/moby/moby/pull/35320">moby/moby#35320</a></li>
  <li>ContainerWait on remove: don’t stuck on rm fail <a href="https://github.com/moby/moby/pull/34999">moby/moby#34999</a></li>
  <li>oci: obey CL_UNPRIVILEGED for user namespaced daemon <a href="https://github.com/moby/moby/pull/35205">moby/moby#35205</a></li>
  <li>Don’t abort when setting may_detach_mounts <a href="https://github.com/moby/moby/pull/35172">moby/moby#35172</a></li>
  <li>Fix panic on get container pid when live restore containers <a href="https://github.com/moby/moby/pull/35157">moby/moby#35157</a></li>
  <li>Mask <code class="highlighter-rouge">/proc/scsi</code> path for containers to prevent removal of devices (CVE-2017-16539) <a href="https://github.com/moby/moby/pull/35399">moby/moby#35399</a></li>
  <li>Update to github.com/vbatts/tar-split@v0.10.2 (CVE-2017-14992) <a href="https://github.com/moby/moby/pull/35424">moby/moby#35424</a></li>
</ul>

<h4 id="swarm-mode-30">Swarm Mode</h4>

<ul>
  <li>Modifying integration test due to new ipam options in swarmkit <a href="https://github.com/moby/moby/pull/35103">moby/moby#35103</a></li>
  <li>Fix deadlock on getting swarm info <a href="https://github.com/moby/moby/pull/35388">moby/moby#35388</a></li>
  <li>Expand the scope of the <code class="highlighter-rouge">Err</code> field in <code class="highlighter-rouge">TaskStatus</code> to also cover non-terminal errors that block the task from progressing <a href="https://github.com/docker/swarmkit/pull/2287">docker/swarmkit#2287</a></li>
</ul>

<h4 id="packaging-11">Packaging</h4>

<ul>
  <li>Build packages for Debian 10 (Buster) <a href="https://github.com/docker/docker-ce-packaging/pull/50">docker/docker-ce-packaging#50</a></li>
  <li>Build packages for Ubuntu 17.10 (Artful) <a href="https://github.com/docker/docker-ce-packaging/pull/55">docker/docker-ce-packaging#55</a></li>
</ul>

<h2 id="17100-ce">17.10.0-ce</h2>
<p>2017-10-17</p>

<blockquote class="important">
  <p><strong>Important</strong>: Starting with this release, <code class="highlighter-rouge">docker service create</code>, <code class="highlighter-rouge">docker service update</code>,
<code class="highlighter-rouge">docker service scale</code> and <code class="highlighter-rouge">docker service rollback</code> use non-detached mode as default,
use <code class="highlighter-rouge">--detach</code> to keep the old behaviour.</p>
</blockquote>

<h4 id="builder-19">Builder</h4>

<ul>
  <li>Reset uid/gid to 0 in uploaded build context to share build cache with other clients <a href="https://github.com/docker/cli/pull/513">docker/cli#513</a></li>
  <li>Add support for <code class="highlighter-rouge">ADD</code> urls without any sub path <a href="https://github.com/moby/moby/pull/34217">moby/moby#34217</a></li>
</ul>

<h4 id="client-27">Client</h4>

<ul>
  <li>Move output of <code class="highlighter-rouge">docker stack rm</code> to stdout <a href="https://github.com/docker/cli/pull/491">docker/cli#491</a></li>
  <li>Use natural sort for secrets and configs in cli <a href="https://github.com/docker/cli/pull/307">docker/cli#307</a></li>
  <li>Use non-detached mode as default for <code class="highlighter-rouge">docker service</code> commands <a href="https://github.com/docker/cli/pull/525">docker/cli#525</a></li>
  <li>Set APIVersion on the client, even when Ping fails <a href="https://github.com/docker/cli/pull/546">docker/cli#546</a></li>
  <li>Fix loader error with different build syntax in <code class="highlighter-rouge">docker stack deploy</code> <a href="https://github.com/docker/cli/pull/544">docker/cli#544</a></li>
  <li>Change the default output format for <code class="highlighter-rouge">docker container stats</code> to show <code class="highlighter-rouge">CONTAINER ID</code> and <code class="highlighter-rouge">NAME</code> <a href="https://github.com/docker/cli/pull/565">docker/cli#565</a></li>
  <li>Add <code class="highlighter-rouge">--no-trunc</code> flag to <code class="highlighter-rouge">docker container stats</code> <a href="https://github.com/docker/cli/pull/565">docker/cli#565</a></li>
  <li>Add experimental <code class="highlighter-rouge">docker trust</code>: <code class="highlighter-rouge">view</code>, <code class="highlighter-rouge">revoke</code>, <code class="highlighter-rouge">sign</code> subcommands <a href="https://github.com/docker/cli/pull/472">docker/cli#472</a></li>
  <li>Various doc and shell completion fixes <a href="https://github.com/docker/cli/pull/610">docker/cli#610</a> <a href="https://github.com/docker/cli/pull/611">docker/cli#611</a> <a href="https://github.com/docker/cli/pull/618">docker/cli#618</a> <a href="https://github.com/docker/cli/pull/580">docker/cli#580</a> <a href="https://github.com/docker/cli/pull/598">docker/cli#598</a> <a href="https://github.com/docker/cli/pull/603">docker/cli#603</a></li>
</ul>

<h4 id="networking-28">Networking</h4>

<ul>
  <li>Enabling ILB/ELB on windows using per-node, per-network LB endpoint <a href="https://github.com/moby/moby/pull/34674">moby/moby#34674</a></li>
  <li>Overlay fix for transient IP reuse <a href="https://github.com/docker/libnetwork/pull/1935">docker/libnetwork#1935</a></li>
  <li>Serializing bitseq alloc <a href="https://github.com/docker/libnetwork/pull/1788">docker/libnetwork#1788</a></li>
  <li>Disable hostname lookup on chain exists check <a href="https://github.com/docker/libnetwork/pull/1974">docker/libnetwork#1974</a></li>
</ul>

<h4 id="runtime-41">Runtime</h4>

<ul>
  <li>LCOW: Add UVM debuggability by grabbing logs before tear-down <a href="https://github.com/moby/moby/pull/34846">moby/moby#34846</a></li>
  <li>LCOW: Prepare work for bind mounts <a href="https://github.com/moby/moby/pull/34258">moby/moby#34258</a></li>
  <li>LCOW: Support for docker cp, ADD/COPY on build <a href="https://github.com/moby/moby/pull/34252">moby/moby#34252</a></li>
  <li>LCOW: VHDX boot to readonly <a href="https://github.com/moby/moby/pull/34754">moby/moby#34754</a></li>
  <li>Volume: evaluate symlinks before relabeling mount source <a href="https://github.com/moby/moby/pull/34792">moby/moby#34792</a></li>
  <li>Fixing ‘docker cp’ to allow new target file name in a host symlinked directory <a href="https://github.com/moby/moby/pull/31993">moby/moby#31993</a></li>
  <li>Add support for Windows version filtering on pull <a href="https://github.com/moby/moby/pull/35090">moby/moby#35090</a></li>
</ul>

<h4 id="swarm-mode-31">Swarm mode</h4>

<ul>
  <li>Produce an error if <code class="highlighter-rouge">docker swarm init --force-new-cluster</code> is executed on worker nodes <a href="https://github.com/moby/moby/pull/34881">moby/moby#34881</a></li>
  <li>Add support for <code class="highlighter-rouge">.Node.Hostname</code> templating in swarm services <a href="https://github.com/moby/moby/pull/34686">moby/moby#34686</a></li>
  <li>Increase gRPC request timeout to 20 seconds for sending snapshots <a href="https://github.com/docker/swarmkit/pull/2391">docker/swarmkit#2391</a></li>
  <li>Do not filter nodes if logdriver is set to <code class="highlighter-rouge">none</code> <a href="https://github.com/docker/swarmkit/pull/2396">docker/swarmkit#2396</a></li>
  <li>Adding ipam options to ipam driver requests <a href="https://github.com/docker/swarmkit/pull/2324">docker/swarmkit#2324</a></li>
</ul>

<h2 id="17070-ce">17.07.0-ce</h2>
<p>2017-08-29</p>

<h4 id="api--client">API &amp; Client</h4>

<ul>
  <li>Add support for proxy configuration in config.json <a href="https://github.com/docker/cli/pull/93">docker/cli#93</a></li>
  <li>Enable pprof/debug endpoints by default <a href="https://github.com/moby/moby/pull/32453">moby/moby#32453</a></li>
  <li>Passwords can now be passed using <code class="highlighter-rouge">STDIN</code> using the new  <code class="highlighter-rouge">--password-stdin</code> flag on <code class="highlighter-rouge">docker login</code> <a href="https://github.com/docker/cli/pull/271">docker/cli#271</a></li>
  <li>Add <code class="highlighter-rouge">--detach</code> to docker scale <a href="https://github.com/docker/cli/pull/243">docker/cli#243</a></li>
  <li>Prevent <code class="highlighter-rouge">docker logs --no-stream</code> from hanging due to non-existing containers <a href="https://github.com/moby/moby/pull/34004">moby/moby#34004</a></li>
  <li>Fix <code class="highlighter-rouge">docker stack ps</code> printing error to <code class="highlighter-rouge">stdout</code> instead of <code class="highlighter-rouge">stderr</code> <a href="https://github.com/docker/cli/pull/298">docker/cli#298</a></li>
  <li>Fix progress bar being stuck on <code class="highlighter-rouge">docker service create</code> if an error occurs during deploy <a href="https://github.com/docker/cli/pull/259">docker/cli#259</a></li>
  <li>Improve presentation of progress bars in interactive mode <a href="https://github.com/docker/cli/pull/260">docker/cli#260</a> <a href="https://github.com/docker/cli/pull/237">docker/cli#237</a></li>
  <li>Print a warning if <code class="highlighter-rouge">docker login --password</code> is used, and recommend <code class="highlighter-rouge">--password-stdin</code> <a href="https://github.com/docker/cli/pull/270">docker/cli#270</a></li>
  <li>Make API version negotiation more robust <a href="https://github.com/moby/moby/pull/33827">moby/moby#33827</a></li>
  <li>Hide <code class="highlighter-rouge">--detach</code> when connected to daemons older than Docker 17.05 <a href="https://github.com/docker/cli/pull/219">docker/cli#219</a></li>
  <li>Add <code class="highlighter-rouge">scope</code> filter in <code class="highlighter-rouge">GET /networks/(id or name)</code> <a href="https://github.com/moby/moby/pull/33630">moby/moby#33630</a></li>
</ul>

<h4 id="builder-20">Builder</h4>

<ul>
  <li>Implement long running interactive session and sending build context incrementally <a href="https://github.com/moby/moby/pull/32677">moby/moby#32677</a> <a href="https://github.com/docker/cli/pull/231">docker/cli#231</a> <a href="https://github.com/moby/moby/pull/33859">moby/moby#33859</a></li>
  <li>Warn on empty continuation lines <a href="https://github.com/moby/moby/pull/33719">moby/moby#33719</a></li>
  <li>Fix <code class="highlighter-rouge">.dockerignore</code> entries with a leading <code class="highlighter-rouge">/</code> not matching anything <a href="https://github.com/moby/moby/pull/32088">moby/moby#32088</a></li>
</ul>

<h4 id="logging-16">Logging</h4>

<ul>
  <li>Fix wrong filemode for rotate log files <a href="https://github.com/moby/moby/pull/33926">moby/moby#33926</a></li>
  <li>Fix stderr logging for journald and syslog <a href="https://github.com/moby/moby/pull/33832">moby/moby#33832</a></li>
</ul>

<h4 id="runtime-42">Runtime</h4>

<ul>
  <li>Allow stopping of paused container <a href="https://github.com/moby/moby/pull/34027">moby/moby#34027</a></li>
  <li>Add quota support for the overlay2 storage driver <a href="https://github.com/moby/moby/pull/32977">moby/moby#32977</a></li>
  <li>Remove container locks on <code class="highlighter-rouge">docker ps</code> <a href="https://github.com/moby/moby/pull/31273">moby/moby#31273</a></li>
  <li>Store container names in memdb <a href="https://github.com/moby/moby/pull/33886">moby/moby#33886</a></li>
  <li>Fix race condition between <code class="highlighter-rouge">docker exec</code> and <code class="highlighter-rouge">docker pause</code> <a href="https://github.com/moby/moby/pull/32881">moby/moby#32881</a></li>
  <li>Devicemapper: Rework logging and add <code class="highlighter-rouge">--storage-opt dm.libdm_log_level</code> <a href="https://github.com/moby/moby/pull/33845">moby/moby#33845</a></li>
  <li>Devicemapper: Prevent “device in use” errors if deferred removal is enabled, but not deferred deletion <a href="https://github.com/moby/moby/pull/33877">moby/moby#33877</a></li>
  <li>Devicemapper: Use KeepAlive to prevent tasks being garbage-collected while still in use <a href="https://github.com/moby/moby/pull/33376">moby/moby#33376</a></li>
  <li>Report intermediate prune results if prune is cancelled <a href="https://github.com/moby/moby/pull/33979">moby/moby#33979</a></li>
  <li>Fix run <code class="highlighter-rouge">docker rename &lt;container-id&gt; new_name</code> concurrently resulting in the having multiple names <a href="https://github.com/moby/moby/pull/33940">moby/moby#33940</a></li>
  <li>Fix file-descriptor leak and error handling <a href="https://github.com/moby/moby/pull/33713">moby/moby#33713</a></li>
  <li>Fix SIGSEGV when running containers <a href="https://github.com/docker/cli/pull/303">docker/cli#303</a></li>
  <li>Prevent a goroutine leak when healthcheck gets stopped <a href="https://github.com/moby/moby/pull/33781">moby/moby#33781</a></li>
  <li>Image: Improve store locking <a href="https://github.com/moby/moby/pull/33755">moby/moby#33755</a></li>
  <li>Fix Btrfs quota groups not being removed when container is destroyed <a href="https://github.com/moby/moby/pull/29427">moby/moby#29427</a></li>
  <li>Libcontainerd: fix defunct containerd processes not being properly reaped <a href="https://github.com/moby/moby/pull/33419">moby/moby#33419</a></li>
  <li>Preparations for Linux Containers on Windows
    <ul>
      <li>LCOW: Dedicated scratch space for service VM utilities <a href="https://github.com/moby/moby/pull/33809">moby/moby#33809</a></li>
      <li>LCOW: Support most operations excluding remote filesystem <a href="https://github.com/moby/moby/pull/33241">moby/moby#33241</a> <a href="https://github.com/moby/moby/pull/33826">moby/moby#33826</a></li>
      <li>LCOW: Change directory from lcow to “Linux Containers” <a href="https://github.com/moby/moby/pull/33835">moby/moby#33835</a></li>
      <li>LCOW: pass command arguments without extra quoting <a href="https://github.com/moby/moby/pull/33815">moby/moby#33815</a></li>
      <li>LCOW: Updates necessary due to platform schema change <a href="https://github.com/moby/moby/pull/33785">moby/moby#33785</a></li>
    </ul>
  </li>
</ul>

<h4 id="swarm-mode-32">Swarm mode</h4>

<ul>
  <li>Initial support for plugable secret backends <a href="https://github.com/moby/moby/pull/34157">moby/moby#34157</a> <a href="https://github.com/moby/moby/pull/34123">moby/moby#34123</a></li>
  <li>Sort swarm stacks and nodes using natural sorting <a href="https://github.com/docker/cli/pull/315">docker/cli#315</a></li>
  <li>Make engine support cluster config event <a href="https://github.com/moby/moby/pull/34032">moby/moby#34032</a></li>
  <li>Only pass a join address when in the process of joining a cluster <a href="https://github.com/moby/moby/pull/33361">moby/moby#33361</a></li>
  <li>Fix error during service creation if a network with the same name exists both as “local” and “swarm” scoped network <a href="https://github.com/docker/cli/pull/184">docker/cli#184</a></li>
  <li>(experimental) Add support for plugins on swarm <a href="https://github.com/moby/moby/pull/33575">moby/moby#33575</a></li>
</ul>

<h2 id="17050-ce">17.05.0-ce</h2>
<p>2017-05-04</p>

<h4 id="builder-21">Builder</h4>

<ul>
  <li>Add multi-stage build support <a href="https://github.com/docker/docker/pull/31257">#31257</a> <a href="https://github.com/docker/docker/pull/32063">#32063</a></li>
  <li>Allow using build-time args (<code class="highlighter-rouge">ARG</code>) in <code class="highlighter-rouge">FROM</code> <a href="https://github.com/docker/docker/pull/31352">#31352</a></li>
  <li>Add an option for specifying build target <a href="https://github.com/docker/docker/pull/32496">#32496</a></li>
  <li>Accept <code class="highlighter-rouge">-f -</code> to read Dockerfile from <code class="highlighter-rouge">stdin</code>, but use local context for building <a href="https://github.com/docker/docker/pull/31236">#31236</a></li>
  <li>The values of default build time arguments (e.g <code class="highlighter-rouge">HTTP_PROXY</code>) are no longer displayed in docker image history unless a corresponding <code class="highlighter-rouge">ARG</code> instruction is written in the Dockerfile. <a href="https://github.com/docker/docker/pull/31584">#31584</a></li>
  <li>Fix setting command if a custom shell is used in a parent image <a href="https://github.com/docker/docker/pull/32236">#32236</a></li>
  <li>Fix <code class="highlighter-rouge">docker build --label</code> when the label includes single quotes and a space <a href="https://github.com/docker/docker/pull/31750">#31750</a></li>
</ul>

<h4 id="client-28">Client</h4>

<ul>
  <li>Add <code class="highlighter-rouge">--mount</code> flag to <code class="highlighter-rouge">docker run</code> and <code class="highlighter-rouge">docker create</code> <a href="https://github.com/docker/docker/pull/32251">#32251</a></li>
  <li>Add <code class="highlighter-rouge">--type=secret</code> to <code class="highlighter-rouge">docker inspect</code> <a href="https://github.com/docker/docker/pull/32124">#32124</a></li>
  <li>Add <code class="highlighter-rouge">--format</code> option to <code class="highlighter-rouge">docker secret ls</code> <a href="https://github.com/docker/docker/pull/31552">#31552</a></li>
  <li>Add <code class="highlighter-rouge">--filter</code> option to <code class="highlighter-rouge">docker secret ls</code> <a href="https://github.com/docker/docker/pull/30810">#30810</a></li>
  <li>Add <code class="highlighter-rouge">--filter scope=&lt;swarm|local&gt;</code> to <code class="highlighter-rouge">docker network ls</code> <a href="https://github.com/docker/docker/pull/31529">#31529</a></li>
  <li>Add <code class="highlighter-rouge">--cpus</code> support to <code class="highlighter-rouge">docker update</code> <a href="https://github.com/docker/docker/pull/31148">#31148</a></li>
  <li>Add label filter to <code class="highlighter-rouge">docker system prune</code> and other <code class="highlighter-rouge">prune</code> commands <a href="https://github.com/docker/docker/pull/30740">#30740</a></li>
  <li><code class="highlighter-rouge">docker stack rm</code> now accepts multiple stacks as input <a href="https://github.com/docker/docker/pull/32110">#32110</a></li>
  <li>Improve <code class="highlighter-rouge">docker version --format</code> option when the client has downgraded the API version <a href="https://github.com/docker/docker/pull/31022">#31022</a></li>
  <li>Prompt when using an encrypted client certificate to connect to a docker daemon <a href="https://github.com/docker/docker/pull/31364">#31364</a></li>
  <li>Display created tags on successful <code class="highlighter-rouge">docker build</code> <a href="https://github.com/docker/docker/pull/32077">#32077</a></li>
  <li>Cleanup compose convert error messages <a href="https://github.com/moby/moby/pull/32087">#32087</a></li>
</ul>

<h4 id="contrib-2">Contrib</h4>

<ul>
  <li>Add support for building docker debs for Ubuntu 17.04 Zesty on amd64 <a href="https://github.com/docker/docker/pull/32435">#32435</a></li>
</ul>

<h4 id="daemon-1">Daemon</h4>

<ul>
  <li>Fix <code class="highlighter-rouge">--api-cors-header</code> being ignored if <code class="highlighter-rouge">--api-enable-cors</code> is not set <a href="https://github.com/docker/docker/pull/32174">#32174</a></li>
  <li>Cleanup docker tmp dir on start <a href="https://github.com/docker/docker/pull/31741">#31741</a></li>
  <li>Deprecate <code class="highlighter-rouge">--graph</code> flag in favor or <code class="highlighter-rouge">--data-root</code> <a href="https://github.com/docker/docker/pull/28696">#28696</a></li>
</ul>

<h4 id="logging-17">Logging</h4>

<ul>
  <li>Add support for logging driver plugins <a href="https://github.com/docker/docker/pull/28403">#28403</a></li>
  <li>Add support for showing logs of individual tasks to <code class="highlighter-rouge">docker service logs</code>, and add <code class="highlighter-rouge">/task/{id}/logs</code> REST endpoint <a href="https://github.com/docker/docker/pull/32015">#32015</a></li>
  <li>Add <code class="highlighter-rouge">--log-opt env-regex</code> option to match environment variables using a regular expression <a href="https://github.com/docker/docker/pull/27565">#27565</a></li>
</ul>

<h4 id="networking-29">Networking</h4>

<ul>
  <li>Allow user to replace, and customize the ingress network <a href="https://github.com/docker/docker/pull/31714">#31714</a></li>
  <li>Fix UDP traffic in containers not working after the container is restarted <a href="https://github.com/docker/docker/pull/32505">#32505</a></li>
  <li>Fix files being written to <code class="highlighter-rouge">/var/lib/docker</code> if a different data-root is set <a href="https://github.com/docker/docker/pull/32505">#32505</a></li>
</ul>

<h4 id="runtime-43">Runtime</h4>

<ul>
  <li>Ensure health probe is stopped when a container exits <a href="https://github.com/docker/docker/pull/32274">#32274</a></li>
</ul>

<h4 id="swarm-mode-33">Swarm Mode</h4>

<ul>
  <li>Add update/rollback order for services (<code class="highlighter-rouge">--update-order</code> / <code class="highlighter-rouge">--rollback-order</code>) <a href="https://github.com/docker/docker/pull/30261">#30261</a></li>
  <li>Add support for synchronous <code class="highlighter-rouge">service create</code> and <code class="highlighter-rouge">service update</code> <a href="https://github.com/docker/docker/pull/31144">#31144</a></li>
  <li>Add support for “grace periods” on healthchecks through the <code class="highlighter-rouge">HEALTHCHECK --start-period</code> and <code class="highlighter-rouge">--health-start-period</code> flag to
<code class="highlighter-rouge">docker service create</code>, <code class="highlighter-rouge">docker service update</code>, <code class="highlighter-rouge">docker create</code>, and <code class="highlighter-rouge">docker run</code> to support containers with an initial startup
time <a href="https://github.com/docker/docker/pull/28938">#28938</a></li>
  <li><code class="highlighter-rouge">docker service create</code> now omits fields that are not specified by the user, when possible. This will allow defaults to be applied inside the manager <a href="https://github.com/docker/docker/pull/32284">#32284</a></li>
  <li><code class="highlighter-rouge">docker service inspect</code> now shows default values for fields that are not specified by the user <a href="https://github.com/docker/docker/pull/32284">#32284</a></li>
  <li>Move <code class="highlighter-rouge">docker service logs</code> out of experimental <a href="https://github.com/docker/docker/pull/32462">#32462</a></li>
  <li>Add support for Credential Spec and SELinux to services to the API <a href="https://github.com/docker/docker/pull/32339">#32339</a></li>
  <li>Add <code class="highlighter-rouge">--entrypoint</code> flag to <code class="highlighter-rouge">docker service create</code> and <code class="highlighter-rouge">docker service update</code> <a href="https://github.com/docker/docker/pull/29228">#29228</a></li>
  <li>Add <code class="highlighter-rouge">--network-add</code> and <code class="highlighter-rouge">--network-rm</code> to <code class="highlighter-rouge">docker service update</code> <a href="https://github.com/docker/docker/pull/32062">#32062</a></li>
  <li>Add <code class="highlighter-rouge">--credential-spec</code> flag to <code class="highlighter-rouge">docker service create</code> and <code class="highlighter-rouge">docker service update</code> <a href="https://github.com/docker/docker/pull/32339">#32339</a></li>
  <li>Add <code class="highlighter-rouge">--filter mode=&lt;global|replicated&gt;</code> to <code class="highlighter-rouge">docker service ls</code> <a href="https://github.com/docker/docker/pull/31538">#31538</a></li>
  <li>Resolve network IDs on the client side, instead of in the daemon when creating services <a href="https://github.com/docker/docker/pull/32062">#32062</a></li>
  <li>Add <code class="highlighter-rouge">--format</code> option to <code class="highlighter-rouge">docker node ls</code> <a href="https://github.com/docker/docker/pull/30424">#30424</a></li>
  <li>Add <code class="highlighter-rouge">--prune</code> option to <code class="highlighter-rouge">docker stack deploy</code> to remove services that are no longer defined in the docker-compose file <a href="https://github.com/docker/docker/pull/31302">#31302</a></li>
  <li>Add <code class="highlighter-rouge">PORTS</code> column for <code class="highlighter-rouge">docker service ls</code> when using <code class="highlighter-rouge">ingress</code> mode <a href="https://github.com/docker/docker/pull/30813">#30813</a></li>
  <li>Fix unnescessary re-deploying of tasks when environment-variables are used <a href="https://github.com/docker/docker/pull/32364">#32364</a></li>
  <li>Fix <code class="highlighter-rouge">docker stack deploy</code> not supporting <code class="highlighter-rouge">endpoint_mode</code> when deploying from a docker compose file <a href="https://github.com/docker/docker/pull/32333">#32333</a></li>
  <li>Proceed with startup if cluster component cannot be created to allow recovering from a broken swarm setup <a href="https://github.com/docker/docker/pull/31631">#31631</a></li>
</ul>

<h4 id="security-3">Security</h4>

<ul>
  <li>Allow setting SELinux type or MCS labels when using <code class="highlighter-rouge">--ipc=container:</code> or <code class="highlighter-rouge">--ipc=host</code> <a href="https://github.com/docker/docker/pull/30652">#30652</a></li>
</ul>

<h4 id="deprecation-5">Deprecation</h4>

<ul>
  <li>Deprecate <code class="highlighter-rouge">--api-enable-cors</code> daemon flag. This flag was marked deprecated in Docker 1.6.0 but not listed in deprecated features <a href="https://github.com/docker/docker/pull/32352">#32352</a></li>
  <li>Remove Ubuntu 12.04 (Precise Pangolin) as supported platform. Ubuntu 12.04 is EOL, and no longer receives updates <a href="https://github.com/docker/docker/pull/32520">#32520</a></li>
</ul>

<h2 id="17040-ce">17.04.0-ce</h2>
<p>2017-04-05</p>

<h4 id="builder-22">Builder</h4>

<ul>
  <li>Disable container logging for build containers <a href="https://github.com/docker/docker/pull/29552">#29552</a></li>
  <li>Fix use of <code class="highlighter-rouge">**/</code> in <code class="highlighter-rouge">.dockerignore</code> <a href="https://github.com/docker/docker/pull/29043">#29043</a></li>
</ul>

<h4 id="client-29">Client</h4>

<ul>
  <li>Sort <code class="highlighter-rouge">docker stack ls</code> by name <a href="https://github.com/docker/docker/pull/31085">#31085</a></li>
  <li>Flags for specifying bind mount consistency <a href="https://github.com/docker/docker/pull/31047">#31047</a></li>
  <li>Output of docker CLI --help is now wrapped to the terminal width <a href="https://github.com/docker/docker/pull/28751">#28751</a></li>
  <li>Suppress image digest in docker ps <a href="https://github.com/docker/docker/pull/30848">#30848</a></li>
  <li>Hide command options that are related to Windows <a href="https://github.com/docker/docker/pull/30788">#30788</a></li>
  <li>Fix <code class="highlighter-rouge">docker plugin install</code> prompt to accept “enter” for the “N” default <a href="https://github.com/docker/docker/pull/30769">#30769</a></li>
  <li>Add <code class="highlighter-rouge">truncate</code> function for Go templates <a href="https://github.com/docker/docker/pull/30484">#30484</a></li>
  <li>Support expanded syntax of ports in <code class="highlighter-rouge">stack deploy</code> <a href="https://github.com/docker/docker/pull/30476">#30476</a></li>
  <li>Support expanded syntax of mounts in <code class="highlighter-rouge">stack deploy</code> <a href="https://github.com/docker/docker/pull/30597">#30597</a> <a href="https://github.com/docker/docker/pull/31795">#31795</a></li>
  <li>Add <code class="highlighter-rouge">--add-host</code> for docker build <a href="https://github.com/docker/docker/pull/30383">#30383</a></li>
  <li>Add <code class="highlighter-rouge">.CreatedAt</code> placeholder for <code class="highlighter-rouge">docker network ls --format</code> <a href="https://github.com/docker/docker/pull/29900">#29900</a></li>
  <li>Update order of <code class="highlighter-rouge">--secret-rm</code> and <code class="highlighter-rouge">--secret-add</code> <a href="https://github.com/docker/docker/pull/29802">#29802</a></li>
  <li>Add <code class="highlighter-rouge">--filter enabled=true</code> for <code class="highlighter-rouge">docker plugin ls</code> <a href="https://github.com/docker/docker/pull/28627">#28627</a></li>
  <li>Add <code class="highlighter-rouge">--format</code> to <code class="highlighter-rouge">docker service ls</code> <a href="https://github.com/docker/docker/pull/28199">#28199</a></li>
  <li>Add <code class="highlighter-rouge">publish</code> and <code class="highlighter-rouge">expose</code> filter for <code class="highlighter-rouge">docker ps --filter</code> <a href="https://github.com/docker/docker/pull/27557">#27557</a></li>
  <li>Support multiple service IDs on <code class="highlighter-rouge">docker service ps</code> <a href="https://github.com/docker/docker/pull/25234">#25234</a></li>
  <li>Allow swarm join with <code class="highlighter-rouge">--availability=drain</code> <a href="https://github.com/docker/docker/pull/24993">#24993</a></li>
  <li>Docker inspect now shows “docker-default” when AppArmor is enabled and no other profile was defined <a href="https://github.com/docker/docker/pull/27083">#27083</a></li>
</ul>

<h4 id="logging-18">Logging</h4>

<ul>
  <li>Implement optional ring buffer for container logs <a href="https://github.com/docker/docker/pull/28762">#28762</a></li>
  <li>Add <code class="highlighter-rouge">--log-opt awslogs-create-group=&lt;true|false&gt;</code> for awslogs (CloudWatch) to support creation of log groups as needed <a href="https://github.com/docker/docker/pull/29504">#29504</a></li>
  <li>Fix segfault when using the gcplogs logging driver with a “static” binary <a href="https://github.com/docker/docker/pull/29478">#29478</a></li>
</ul>

<h4 id="networking-30">Networking</h4>

<ul>
  <li>Check parameter <code class="highlighter-rouge">--ip</code>, <code class="highlighter-rouge">--ip6</code> and <code class="highlighter-rouge">--link-local-ip</code> in <code class="highlighter-rouge">docker network connect</code> <a href="https://github.com/docker/docker/pull/30807">#30807</a></li>
  <li>Added support for <code class="highlighter-rouge">dns-search</code> <a href="https://github.com/docker/docker/pull/30117">#30117</a></li>
  <li>Added --verbose option for docker network inspect to show task details from all swarm nodes <a href="https://github.com/docker/docker/pull/31710">#31710</a></li>
  <li>Clear stale datapath encryption states when joining the cluster <a href="https://github.com/docker/libnetwork/pull/1354">docker/libnetwork#1354</a></li>
  <li>Ensure iptables initialization only happens once <a href="https://github.com/docker/libnetwork/pull/1676">docker/libnetwork#1676</a></li>
  <li>Fix bad order of iptables filter rules <a href="https://github.com/docker/libnetwork/pull/961">docker/libnetwork#961</a></li>
  <li>Add anonymous container alias to service record on attachable network <a href="https://github.com/docker/libnetwork/pull/1651">docker/libnetwork#1651</a></li>
  <li>Support for <code class="highlighter-rouge">com.docker.network.container_interface_prefix</code> driver label <a href="https://github.com/docker/libnetwork/pull/1667">docker/libnetwork#1667</a></li>
  <li>Improve network list performance by omitting network details that are not used <a href="https://github.com/docker/docker/pull/30673">#30673</a></li>
</ul>

<h4 id="runtime-44">Runtime</h4>

<ul>
  <li>Handle paused container when restoring without live-restore set <a href="https://github.com/docker/docker/pull/31704">#31704</a></li>
  <li>Do not allow sub second in healthcheck options in Dockerfile <a href="https://github.com/docker/docker/pull/31177">#31177</a></li>
  <li>Support name and id prefix in <code class="highlighter-rouge">secret update</code> <a href="https://github.com/docker/docker/pull/30856">#30856</a></li>
  <li>Use binary frame for websocket attach endpoint <a href="https://github.com/docker/docker/pull/30460">#30460</a></li>
  <li>Fix linux mount calls not applying propagation type changes <a href="https://github.com/docker/docker/pull/30416">#30416</a></li>
  <li>Fix ExecIds leak on failed <code class="highlighter-rouge">exec -i</code> <a href="https://github.com/docker/docker/pull/30340">#30340</a></li>
  <li>Prune named but untagged images if <code class="highlighter-rouge">danglingOnly=true</code> <a href="https://github.com/docker/docker/pull/30330">#30330</a></li>
  <li>Add daemon flag to set <code class="highlighter-rouge">no_new_priv</code> as default for unprivileged containers <a href="https://github.com/docker/docker/pull/29984">#29984</a></li>
  <li>Add daemon option <code class="highlighter-rouge">--default-shm-size</code> <a href="https://github.com/docker/docker/pull/29692">#29692</a></li>
  <li>Support registry mirror config reload <a href="https://github.com/docker/docker/pull/29650">#29650</a></li>
  <li>Ignore the daemon log config when building images <a href="https://github.com/docker/docker/pull/29552">#29552</a></li>
  <li>Move secret name or ID prefix resolving from client to daemon <a href="https://github.com/docker/docker/pull/29218">#29218</a></li>
  <li>Allow adding rules to <code class="highlighter-rouge">cgroup devices.allow</code> on container create/run <a href="https://github.com/docker/docker/pull/22563">#22563</a></li>
  <li>Fix <code class="highlighter-rouge">cpu.cfs_quota_us</code> being reset when running <code class="highlighter-rouge">systemd daemon-reload</code> <a href="https://github.com/docker/docker/pull/31736">#31736</a></li>
</ul>

<h4 id="swarm-mode-34">Swarm Mode</h4>

<ul>
  <li>Topology-aware scheduling <a href="https://github.com/docker/docker/pull/30725">#30725</a></li>
  <li>Automatic service rollback on failure <a href="https://github.com/docker/docker/pull/31108">#31108</a></li>
  <li>Worker and manager on the same node are now connected through a UNIX socket <a href="https://github.com/docker/swarmkit/pull/1828">docker/swarmkit#1828</a>, <a href="https://github.com/docker/swarmkit/pull/1850">docker/swarmkit#1850</a>, <a href="https://github.com/docker/swarmkit/pull/1851">docker/swarmkit#1851</a></li>
  <li>Improve raft transport package <a href="https://github.com/docker/swarmkit/pull/1748">docker/swarmkit#1748</a></li>
  <li>No automatic manager shutdown on demotion/removal <a href="https://github.com/docker/swarmkit/pull/1829">docker/swarmkit#1829</a></li>
  <li>Use TransferLeadership to make leader demotion safer <a href="https://github.com/docker/swarmkit/pull/1939">docker/swarmkit#1939</a></li>
  <li>Decrease default monitoring period <a href="https://github.com/docker/swarmkit/pull/1967">docker/swarmkit#1967</a></li>
  <li>Add Service logs formatting <a href="https://github.com/docker/docker/pull/31672">#31672</a></li>
  <li>Fix service logs API to be able to specify stream <a href="https://github.com/docker/docker/pull/31313">#31313</a></li>
  <li>Add <code class="highlighter-rouge">--stop-signal</code> for <code class="highlighter-rouge">service create</code> and <code class="highlighter-rouge">service update</code> <a href="https://github.com/docker/docker/pull/30754">#30754</a></li>
  <li>Add <code class="highlighter-rouge">--read-only</code> for <code class="highlighter-rouge">service create</code> and <code class="highlighter-rouge">service update</code> <a href="https://github.com/docker/docker/pull/30162">#30162</a></li>
  <li>Renew the context after communicating with the registry <a href="https://github.com/docker/docker/pull/31586">#31586</a></li>
  <li>(experimental) Add <code class="highlighter-rouge">--tail</code> and <code class="highlighter-rouge">--since</code> options to <code class="highlighter-rouge">docker service logs</code> <a href="https://github.com/docker/docker/pull/31500">#31500</a></li>
  <li>(experimental) Add <code class="highlighter-rouge">--no-task-ids</code> and <code class="highlighter-rouge">--no-trunc</code> options to <code class="highlighter-rouge">docker service logs</code> <a href="https://github.com/docker/docker/pull/31672">#31672</a></li>
</ul>

<h4 id="windows-3">Windows</h4>

<ul>
  <li>Block pulling Windows images on non-Windows daemons <a href="https://github.com/docker/docker/pull/29001">#29001</a></li>
</ul>


							<!-- tags -->
							
							
							
							<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=docker">docker</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=docker engine">docker engine</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=ee">ee</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=ce">ce</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=whats new">whats new</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=release notes">release notes</a></span>
							
							<!-- link corrections -->
              <script language="JavaScript">
							var x = document.links.length;
							var baseHref = document.getElementsByTagName('base')[0].href
							for (i = 0; i < x; i++) {
							  var munged = false;
							  var thisHREF = document.links[i].href;
							  var originalURL = "/engine/release-notes/";
							  if (thisHREF.indexOf(baseHref + "#") > -1) {
							    // hash fix
							    //console.log('BEFORE: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							    thisHREF = originalURL + thisHREF.replace(baseHref, "");
							    //console.log('AFTER: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							  }
							  if ((thisHREF.indexOf(window.location.hostname) > -1 || thisHREF.indexOf('http') == -1) && document.links[i].className.indexOf("nomunge") < 0) {
							    munged = true;
							    thisHREF = thisHREF.replace(".md", "/").replace("/index/", "/");
							    document.links[i].setAttribute('href', thisHREF);
							  }
							}
							</script>
							
						  <div id="ratings-div" style="color:#b9c2cc; text-align: center; margin-top: 150px; visibility: hidden">
								<div id="pd_rating_holder_8453675"></div>
								<script type="text/javascript">
									PDRTJS_settings_8453675 = {
										"id": "8453675",
										"unique_id": "engine/release-notes.md",
										"title": "Docker Engine release notes",
										"permalink": "https://github.com/docker/docker.github.io/blob/master/engine/release-notes.md"
									};
									(function(d, c, j) {
										if (!document.getElementById(j)) {
											var pd = d.createElement(c),
												s;
											pd.id = j;
											pd.src = ('https:' == document.location.protocol) ? 'https://polldaddy.com/js/rating/rating.js' : 'http://i0.poll.fm/js/rating/rating.js';
											s = document.getElementsByTagName(c)[0];
											s.parentNode.insertBefore(pd, s);
										}
									}(document, 'script', 'pd-rating-js'));
								</script>
							</div>
							
						</section>
					</main>
					<nav class="col-nav">
						<div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
						<div id="navbar" class="nav-sidebar">
    <ul class="nav" id="jsTOCLeftNav">
    </ul>
</div>

						</div>
					</nav>
					<div class="col-toc">
							<div class="sidebar hidden-xs hidden-sm">
							<div class="toc-nav">
								<div class="feedback-links">
									<ul>
										
										<li style="visibility: hidden"><a href="https://github.com/matsuand/docs.docker.jp/edit/v18.09.local/engine/release-notes.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> このページの編集</a></li>
										<li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/issues/new?body=File: [engine/release-notes.md](https://matsuand.github.io/docs.docker.jp.onthefly/engine/release-notes/)"
															class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 文書変更のリクエスト</a></li>
										<li><a href="https://success.docker.com/support"><i class="fa fa-question" aria-hidden="true"></i> サポート依頼</a></li>
										<!-- toggle mode -->
										<li>
											<div class="toggle-mode">
												<div class="icon">
													<i class="fa fa-sun-o" aria-hidden="true"></i>
												</div>
												<div class="toggle-switch">
													<label class="switch">
														<input type="checkbox" id="switch-style">
														<div class="slider round"></div>
												</label>
												</div>
												<div class="icon">
													<i class="fa fa-moon-o" aria-hidden="true"></i>
												</div>
											</div>
										</li>
									</ul>
								</div>
								   
									<div id="side-toc-title">本ページ内</div>
									
<ul id="my_toc" class="inline_toc">
  <li><a href="#18095" class="nomunge">18.09.5</a>
    <ul>
      <li><a href="#18094" class="nomunge">18.09.4</a></li>
      <li><a href="#18093" class="nomunge">18.09.3</a></li>
      <li><a href="#18092" class="nomunge">18.09.2</a></li>
      <li><a href="#18091" class="nomunge">18.09.1</a></li>
      <li><a href="#18090" class="nomunge">18.09.0</a></li>
      <li><a href="#older-docker-engine-ee-release-notes" class="nomunge">Older Docker Engine EE Release notes</a></li>
      <li><a href="#18031-ee-8" class="nomunge">18.03.1-ee-8</a></li>
      <li><a href="#18031-ee-7" class="nomunge">18.03.1-ee-7</a></li>
      <li><a href="#18031-ee-7-1" class="nomunge">18.03.1-ee-7</a></li>
      <li><a href="#18031-ee-6" class="nomunge">18.03.1-ee-6</a></li>
      <li><a href="#18031-ee-5" class="nomunge">18.03.1-ee-5</a></li>
      <li><a href="#18031-ee-4" class="nomunge">18.03.1-ee-4</a></li>
      <li><a href="#18031-ee-3" class="nomunge">18.03.1-ee-3</a></li>
      <li><a href="#18031-ee-2" class="nomunge">18.03.1-ee-2</a></li>
      <li><a href="#18031-ee-1" class="nomunge">18.03.1-ee-1</a></li>
      <li><a href="#17062-ee-21" class="nomunge">17.06.2-ee-21</a></li>
      <li><a href="#17062-ee-20" class="nomunge">17.06.2-ee-20</a></li>
      <li><a href="#17062-ee-19" class="nomunge">17.06.2-ee-19</a></li>
      <li><a href="#17062-ee-18" class="nomunge">17.06.2-ee-18</a></li>
      <li><a href="#17062-ee-17" class="nomunge">17.06.2-ee-17</a></li>
      <li><a href="#17062-ee-16" class="nomunge">17.06.2-ee-16</a></li>
      <li><a href="#17062-ee-15" class="nomunge">17.06.2-ee-15</a></li>
      <li><a href="#17062-ee-13" class="nomunge">17.06.2-ee-13</a></li>
      <li><a href="#17062-ee-12" class="nomunge">17.06.2-ee-12</a></li>
      <li><a href="#17062-ee-11" class="nomunge">17.06.2-ee-11</a></li>
      <li><a href="#17062-ee-10" class="nomunge">17.06.2-ee-10</a></li>
      <li><a href="#17062-ee-9" class="nomunge">17.06.2-ee-9</a></li>
      <li><a href="#17062-ee-8" class="nomunge">17.06.2-ee-8</a></li>
      <li><a href="#17062-ee-7" class="nomunge">17.06.2-ee-7</a></li>
      <li><a href="#17062-ee-6" class="nomunge">17.06.2-ee-6</a></li>
      <li><a href="#17062-ee-5" class="nomunge">17.06.2-ee-5</a></li>
      <li><a href="#17062-ee-4" class="nomunge">17.06.2-ee-4</a></li>
      <li><a href="#17062-ee-3" class="nomunge">17.06.2-ee-3</a></li>
      <li><a href="#17061-ee-2" class="nomunge">17.06.1-ee-2</a></li>
      <li><a href="#17061-ee-1" class="nomunge">17.06.1-ee-1</a></li>
      <li><a href="#docker-ee-17032-ee-8" class="nomunge">Docker EE 17.03.2-ee-8</a></li>
      <li><a href="#docker-ee-17032-ee-7" class="nomunge">Docker EE 17.03.2-ee-7</a></li>
      <li><a href="#older-docker-engine-ce-release-notes" class="nomunge">Older Docker Engine CE Release notes</a></li>
      <li><a href="#18063-ce" class="nomunge">18.06.3-ce</a></li>
      <li><a href="#18062" class="nomunge">18.06.2</a></li>
      <li><a href="#18061-ce" class="nomunge">18.06.1-ce</a></li>
      <li><a href="#18060-ce" class="nomunge">18.06.0-ce</a></li>
      <li><a href="#18031-ce" class="nomunge">18.03.1-ce</a></li>
      <li><a href="#18030-ce" class="nomunge">18.03.0-ce</a></li>
      <li><a href="#17121-ce" class="nomunge">17.12.1-ce</a></li>
      <li><a href="#17120-ce" class="nomunge">17.12.0-ce</a></li>
      <li><a href="#17091-ce" class="nomunge">17.09.1-ce</a></li>
      <li><a href="#17090-ce" class="nomunge">17.09.0-ce</a></li>
      <li><a href="#17062-ce" class="nomunge">17.06.2-ce</a></li>
      <li><a href="#17061-ce" class="nomunge">17.06.1-ce</a></li>
      <li><a href="#17060-ce" class="nomunge">17.06.0-ce</a></li>
      <li><a href="#17032-ce" class="nomunge">17.03.2-ce</a></li>
      <li><a href="#17033-ce" class="nomunge">17.03.3-ce</a></li>
      <li><a href="#17032-ce-1" class="nomunge">17.03.2-ce</a></li>
      <li><a href="#17031-ce" class="nomunge">17.03.1-ce</a></li>
      <li><a href="#17030-ce" class="nomunge">17.03.0-ce</a></li>
      <li><a href="#edge-releases" class="nomunge">Edge releases</a></li>
      <li><a href="#18050-ce" class="nomunge">18.05.0-ce</a></li>
      <li><a href="#18040-ce" class="nomunge">18.04.0-ce</a></li>
      <li><a href="#18020-ce" class="nomunge">18.02.0-ce</a></li>
      <li><a href="#18010-ce" class="nomunge">18.01.0-ce</a></li>
      <li><a href="#17110-ce" class="nomunge">17.11.0-ce</a></li>
      <li><a href="#17100-ce" class="nomunge">17.10.0-ce</a></li>
      <li><a href="#17070-ce" class="nomunge">17.07.0-ce</a></li>
      <li><a href="#17050-ce" class="nomunge">17.05.0-ce</a></li>
      <li><a href="#17040-ce" class="nomunge">17.04.0-ce</a></li>
    </ul>
  </li>
</ul>


								</div>
								
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	
	<footer class="footer">
		  
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/what-docker">What is Docker</a></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container</a></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners/partner-program">Partners</a></li>
                        <li class="break"><a href="https://www.docker.com/industry-government">For Government</a></li>
                        <li><a href="https://www.docker.com/company">About Docker</a></li>
                        <li><a href="https://www.docker.com/company/management">Management</a></li>
                        <li><a href="https://www.docker.com/company/news-and-press">Press &amp; News</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/products/overview">Product</a></li>
                        <li><a href="https://www.docker.com/pricing">Pricing</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community Edition</a></li>
                        <li class="break"><a href="https://www.docker.com/enterprise">Enterprise Edition </a></li>
                        <li><a href="https://www.docker.com/products/docker-datacenter">Docker Datacenter</a></li>
                        <li><a href="https://hub.docker.com/">Docker Hub</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/">Documentation</a></li>
                        <li><a href="https://www.docker.com/docker">Learn</a></li>
                        <li><a href="https://blog.docker.com" target="_blank">Blog</a></li>
                        <li><a href="https://engineering.docker.com" target="_blank">Engineering Blog</a></li>
                        <li><a href="https://training.docker.com/" target="_blank">Training</a></li>
                        <li><a href="https://success.docker.com/support">Support</a></li>
                        <li><a href="https://success.docker.com/kbase">Knowledge Base</a></li>
                        <li><a href="https://www.docker.com/products/resources">Resources</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/technologies/overview">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/events">Events</a></li>
                        <li><a href="https://forums.docker.com/" target="_blank">Forums</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                        <li><a href="https://www.docker.com/docker-community/scholarships">Scholarships</a></li>
                        <li><a href="https://blog.docker.com/curated/">Community News</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/docker-security">Security</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2019 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-google-plus"><a href="https://plus.google.com/u/0/communities/108146856671494713993">Google</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker/docker">Github</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-reddit"><a href="http://www.reddit.com/r/docker">Reddit</a></li>
                    <li class="fa fa-slideshare"><a href="http://www.slideshare.net/docker">Slideshare</a></li>
                </ul>
            </div>
        </div>
    </div>

	</footer>
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/github.css">
	
	<!-- <script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/anchorlinks.js"></script> -->
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/menu.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/jquery.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
	<!-- Always include the archive.js, but it doesn't do much unless we are an archive -->
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v18.09';
	// In archives, we need to know the page root and we get it from JEKYLL_ENV in the jekyll build command
	var jekyllEnv = 'development';
	// If unset (in non-archive branches), defaults to "development". In that case, reset it to empty
	if (jekyllEnv == 'development') {
		jekyllEnv = '';
	}
	var pageURL = jekyllEnv + '/engine/release-notes/';
	</script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/archive.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/stickyfill.min.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/metadata.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/glossary.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/collections_tocs.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/docs.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/toc.js"></script>
	<script language="javascript">
	jQuery(document).ready(function(){
				hookupTOCEvents();
			});
	</script>
</body>

</html>
