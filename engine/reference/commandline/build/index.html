<!-- Page generated 2020-09-27 13:22:06 +0900 -->
<!-- Logic for 'edit this button'


    

    

    

    

    

    

    

    

-->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <style type="text/css">
      @charset "UTF-8";
      [ng\:cloak],
      [ng-cloak],
      [data-ng-cloak],
      [x-ng-cloak],
      .ng-cloak,
      .x-ng-cloak,
      .ng-hide:not(.ng-hide-animate) {
          display: none !important;
      }

      ng\:form {
          display: block;
      }
  </style>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WL2QLG5');</script>

  
  <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <meta name="msapplication-TileImage" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico">
  <link rel="apple-touch-icon" type="image/x-icon" href="/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
  <meta property="og:image" content="/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
  <!-- metadata -->
  <meta property="og:type" content="website"/>
  <meta property="og:updated_time" itemprop="dateUpdated" content="2020-09-27T13:22:06+09:00"/>
  <meta property="og:image" itemprop="image primaryImageOfPage" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:domain" content="docs.docker.com"/>
  <meta name="twitter:site" content="@docker_docs"/>
  <meta name="twitter:url" content="https://twitter.com/docker_docs"/>
  <meta name="twitter:title" itemprop="title name" content="docker build"/>
  <meta name="twitter:description" property="og:description" itemprop="description" content="説明 Dockerfile からイメージをビルドします。 利用方法 docker build [オプション] PATH | URL | - 追加説明 docker build コマンドは Dockerfile と「ビルドコンテキスト」から Docker イメージをビルドします。 ビルドコンテキストとは、指定された PATH や URL に存在している一連のファイルのことです。 ビルド処理においては、コンテキスト内のどのファイルでも参照できます。 たとえばビルドにおいて COPY 命令を使っている場合に、コンテキスト内のファイルを参照することができます。 URL..." />
  <meta name="twitter:image:src" content="/docs.docker.jp.onthefly/images/docs@2x.png"/>
  <meta name="twitter:image:alt" content="Docker ドキュメント"/>
  <meta property="article:published_time" itemprop="datePublished" content="2020-09-27T13:22:06+09:00"/>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="docker, docker open source, docker platform, distributed applications, microservices, containers, docker containers, docker software, docker virtualization">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/font-awesome.min.css">
  <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/bootstrap.min.css">
  <link id="pygments" rel="stylesheet" href="/docs.docker.jp.onthefly/css/pygments/perldoc.css">
  <link id="pagestyle" rel="stylesheet" href="/docs.docker.jp.onthefly/css/style.css">

  <!-- Go get "Open Sans" font from Google -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
  <!-- SEO stuff -->
  <title>docker build | Docker ドキュメント</title>
  <meta property="og:title" content="docker build" />
  <meta property="og:locale" content="ja_JP" />
  <meta name="description" content="" />
  <meta property="og:description" content="" />
  <link rel="canonical" href="/docs.docker.jp.onthefly/engine/reference/commandline/build/" />
  <meta property="og:url" content="https://matsuand.github.io/docs.docker.jp.onthefly/engine/reference/commandline/build/" />
  <meta property="og:site_name" content="Docker ドキュメント" />
  <script type="application/ld+json">{"@context":"http://schema.org","@type":"WebPage","headline":"docker build","description":"","url":"https://matsuand.github.io/docs.docker.jp.onthefly/engine/reference/commandline/build/"}</script>
  <!-- END SEO STUFF -->
  
</head>


    <body ng-app="Docker" ng-controller="DockerController" class="colums">
    <header>
        <nav class="nav-secondary navbar navbar-fixed-top">
    <!-- <div class="fan"></div> -->
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="/docs.docker.jp.onthefly/">
                <img class="logo" src="/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs">
            </a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="logo-mobile">
    <a href="/docs.docker.jp.onthefly/">
        <img src="/docs.docker.jp.onthefly/images/docker-icon.svg" alt="Docker Docs" title="Docker Docs">
    </a>
</div>
<div class="search-form" id="search-div">
    <form class="search-form form-inline ng-pristine ng-valid" id="searchForm" action="/docs.docker.jp.onthefly/search/">
        <input class="search-field form-control ds-input" id="st-search-input" value="" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteContainer">
            <div id="autocompleteResults"></div>
        </div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container hidden-sm hidden-xs">
    <div id="tabs">
        <ul class="tabs jsTOCHorizontal">

        </ul>
    </div>
    <div class="ctrl-right">
        <a href="javascript:void(0)" id="menu-toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
    </div>
</div>

        </div>
    </div>
</nav>

    </header>
    <div class="wrapper right-open">
        <div class="container-fluid">
            <div class="row">
                <div class="col-body">
                    <main class="col-content content">
                        <section class="section">
                            
                            
                            <h1>docker build</h1> 
                            
                            
                            <!--
This page is automatically generated from Docker's source code. If you want to
suggest a change to the text that appears here, open a ticket or pull request
in the source repository on GitHub:

https://github.com/docker/cli
-->
<!-- Make sure atom is using hard tabs -->

<h2 id="description">説明</h2>

<p>Dockerfile からイメージをビルドします。</p>

<h2 id="usage">利用方法</h2>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">docker build [オプション] PATH | URL | -
</span></code></pre></div></div>

<h2 id="extended-description">追加説明</h2>

<p><code class="highlighter-rouge">docker build</code> コマンドは Dockerfile と「ビルドコンテキスト」から Docker イメージをビルドします。
ビルドコンテキストとは、指定された <code class="highlighter-rouge">PATH</code> や <code class="highlighter-rouge">URL</code> に存在している一連のファイルのことです。
ビルド処理においては、コンテキスト内のどのファイルでも参照できます。
たとえばビルドにおいて <a href="/engine/reference/builder/#copy"><strong>COPY</strong></a> 命令を使っている場合に、コンテキスト内のファイルを参照することができます。</p>

<p><code class="highlighter-rouge">URL</code> パラメーターは 3 種類のリソースを参照します。
Git リポジトリ、パッケージングされた tarball コンテキスト、プレーンなテキストファイル、の 3 つです。</p>

<h3 id="git-repositories">Git リポジトリ</h3>

<p><code class="highlighter-rouge">URL</code> パラメーターが Git リポジトリの場所を示している場合、そのリポジトリがビルドコンテキストとして扱われます。
システムはリポジトリとサブモジュールを再帰的にフェッチします。
コミット履歴は保持されません。
リポジトリは初めに、ローカルホスト内の一時的なディレクトリにプルされます。
これが正常処理されると、ディレクトリ内容がコンテキストとして Docker デーモンに送信されます。
ローカルにコピーが存在しているなら、プライベートリポジトリにもアクセス可能になります。
その際にはローカルにあるユーザー認証情報、VPN 情報などが用いられます。</p>

<blockquote>
  <p><strong>メモ</strong></p>

  <p><code class="highlighter-rouge">URL</code> パラメーターが部分的なものであった場合、システムは <code class="highlighter-rouge">git clone --recursive</code> コマンドを実行して、そのリポジトリやサブモジュールを再帰的にクローンします。</p>
</blockquote>

<p>Git URL では、コンテキスト設定にあたって URL の部分指定が可能です。
部分指定にはコロン（<code class="highlighter-rouge">:</code>）を使って区切ります。
コロンより前の 1 つめの項目として Git がチェックアウトを行う URL を指定します。
これはブランチ、タグ、リモートリファレンスのいずれでも可能です。
2 つめの項目には、そのリポジトリ内のサブディレクトリを指定します。
このサブディレクトリがビルドコンテキストとして用いられることになります。</p>

<p>たとえば <code class="highlighter-rouge">container</code> ブランチ内の <code class="highlighter-rouge">docker</code> というディレクトリを利用するには、以下のように実行します。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker build https://github.com/docker/rootfs.git#container:docker
</code></pre></div></div>

<p>以下に示す表は、ビルドコンテキストとして有効なサフィックス指定の例です。</p>

<table>
  <thead>
    <tr>
      <th>ビルド時のサフィックス指定例</th>
      <th>利用されるコミット</th>
      <th>利用されるビルドコンテキスト</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">myrepo.git</code></td>
      <td><code class="highlighter-rouge">refs/heads/master</code></td>
      <td><code class="highlighter-rouge">/</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">myrepo.git#mytag</code></td>
      <td><code class="highlighter-rouge">refs/tags/mytag</code></td>
      <td><code class="highlighter-rouge">/</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">myrepo.git#mybranch</code></td>
      <td><code class="highlighter-rouge">refs/heads/mybranch</code></td>
      <td><code class="highlighter-rouge">/</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">myrepo.git#pull/42/head</code></td>
      <td><code class="highlighter-rouge">refs/pull/42/head</code></td>
      <td><code class="highlighter-rouge">/</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">myrepo.git#:myfolder</code></td>
      <td><code class="highlighter-rouge">refs/heads/master</code></td>
      <td><code class="highlighter-rouge">/myfolder</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">myrepo.git#master:myfolder</code></td>
      <td><code class="highlighter-rouge">refs/heads/master</code></td>
      <td><code class="highlighter-rouge">/myfolder</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">myrepo.git#mytag:myfolder</code></td>
      <td><code class="highlighter-rouge">refs/tags/mytag</code></td>
      <td><code class="highlighter-rouge">/myfolder</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">myrepo.git#mybranch:myfolder</code></td>
      <td><code class="highlighter-rouge">refs/heads/mybranch</code></td>
      <td><code class="highlighter-rouge">/myfolder</code></td>
    </tr>
  </tbody>
</table>

<h3 id="tarball-contexts">Tarball コンテキスト</h3>

<p>URL にリモートの tarball を指定した場合、URL がそのままデーモンに送信されます。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker build http://server/context.tar.gz
</code></pre></div></div>

<p>ダウンロード処理は、Docker デーモンが稼動しているホスト上で実行されます。
このホストは、build コマンドが実行されたホストと同じである必要はありません。
Docker デーモンは <code class="highlighter-rouge">context.tar.gz</code> を取得して、これをビルドコンテキストとして利用します。
tarball コンテキストは UNIX <code class="highlighter-rouge">tar</code> フォーマット標準に適合した tar アーカイブである必要があります。
これを ‘xz’、’bzip2’、’gzip’ により圧縮したフォーマットも受け付けます。
‘identity’（圧縮なし）のフォーマットも利用できます。</p>

<h3 id="text-files">テキストファイル</h3>

<p>コンテキストを指定するのではなく、1 つの Dockerfile を指定することができます。
つまりそのファイル内容を、<code class="highlighter-rouge">STDIN</code> を介してパイプ入力します。
<code class="highlighter-rouge">Dockerfile</code> を <code class="highlighter-rouge">STDIN</code> からパイプ入力するには、以下のようにします。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker build - &lt; Dockerfile
</code></pre></div></div>

<p>Windows における Powershell 上では以下のようにします。</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">Get-Content </span>Dockerfile | docker build -
</code></pre></div></div>

<p><code class="highlighter-rouge">STDIN</code> を利用するか、<code class="highlighter-rouge">URL</code> によりプレーンテキストファイルを指定した場合、<code class="highlighter-rouge">Dockerfile</code> というファイルにその内容を書き入れます。
この場合 <code class="highlighter-rouge">-f</code> や <code class="highlighter-rouge">--file</code> オプションは無視されます。
この状況では、コンテキストは存在しないものとなります。</p>

<p><code class="highlighter-rouge">docker build</code> コマンドが <code class="highlighter-rouge">Dockerfile</code> を探しにいく場所は、デフォルトではビルドコンテキストのルートディレクトリです。
<code class="highlighter-rouge">-f</code> や <code class="highlighter-rouge">--file</code> オプションを使うと、別のファイルを利用するように指定できます。
これは同一のファイル群を使って、ビルドを何度か行う場合に便利です。
パスはビルドコンテキスト内のファイルを表わしていなければなりません。
相対パスが指定された場合は、コンテキストのルートからの相対パスと解釈されます。</p>

<p>ほとんどの場合、Dockerfile は空のディレクトリに置くのがベストです。
Dockerfile のビルドに必要となるファイルのみを、後からそのディレクトリに追加します。
ビルド性能を向上させるため、不要なファイルやディレクトリを指定する <code class="highlighter-rouge">.dockerignore</code> を、そのディレクトリに加えることもあります。
そのファイルの生成に関しては <a href="/engine/reference/builder/#dockerignore-file">.dockerignore ファイル</a> を参照してください。</p>

<p>Docker クライアントがデーモンとの接続を失った場合、ビルドはキャンセルされます。
これはたとえば Docker クライアント上において <code class="highlighter-rouge">CTRL-c</code> により処理中断した場合や、Docker クライアントが何か別の理由により異常終了した場合に発生します。
ビルドがキャンセルされる直前の動作中に、プル処理を初期化していた場合、そのプル処理も同じくキャンセルされます。</p>

<p>本コマンドの利用例については、以下に示す <a href="#examples">利用例の節</a> を参照してください。</p>

<h2 id="options">オプション</h2>

<table>
<thead>
  <tr>
    <td>名前／省略形</td>
    <td>デフォルト</td>
    <td>説明</td>
  </tr>
</thead>
<tbody>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--add-host</code></td>
    <td></td>
    <td>ホスト－IP マッピングのカスタム設定を追加します。(ホスト名:ip)</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--build-arg</code></td>
    <td></td>
    <td>ビルド時の変数を設定します。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--cache-from</code></td>
    <td></td>
    <td>キャッシュから取得すべきイメージ。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--cgroup-parent</code></td>
    <td></td>
    <td>任意に指定するコンテナーの親 cgroup。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--compress</code></td>
    <td></td>
    <td>ビルドコンテキストを gzip を使って圧縮します。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--cpu-period</code></td>
    <td></td>
    <td>CPU の CFS（Completely Fair Scheduler）間隔を制限します。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--cpu-quota</code></td>
    <td></td>
    <td>CPU の CFS（Completely Fair Scheduler）クォータを制限します。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--cpu-shares , -c</code></td>
    <td></td>
    <td>CPU 配分。（相対的な重みづけ）</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--cpuset-cpus</code></td>
    <td></td>
    <td>利用を許容する CPU 数。（0-3、0,1）</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--cpuset-mems</code></td>
    <td></td>
    <td>利用を許容するメモリ数。（0-3、0,1）</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--disable-content-trust</code></td>
    <td><code class="highlighter-rouge">true</code></td>
    <td>イメージの検証を省略します。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--file , -f</code></td>
    <td></td>
    <td>Dockerfile 名。（デフォルトは ‘PATH/Dockerfile’）</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--force-rm</code></td>
    <td></td>
    <td>中間コンテナーを常に削除します。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--iidfile</code></td>
    <td></td>
    <td>イメージ ID をファイルに出力します。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--isolation</code></td>
    <td></td>
    <td>コンテナーの分離技術（isolation technology）方式。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--label</code></td>
    <td></td>
    <td>イメージに対してメタデータを設定します。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--memory , -m</code></td>
    <td></td>
    <td>メモリ上限。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--memory-swap</code></td>
    <td></td>
    <td>メモリとスワップの総量を制限します。’-1’ 設定時はスワップ無制限。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--network</code></td>
    <td></td>
    <td><a href="/engine/api/v1.25/" target="_blank" class="_"><span class="badge badge-info" data-toggle="tooltip" ttitle="Open the  API リファレンス (新規ウィンドウを開きます)">API 1.25 以上</span></a><br />ビルド時の RUN 命令に対してネットワークモードを設定します。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--no-cache</code></td>
    <td></td>
    <td>イメージビルド時にキャッシュを利用しません。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--output , -o</code></td>
    <td></td>
    <td><a href="/engine/api/v1.40/" target="_blank" class="_"><span class="badge badge-info" data-toggle="tooltip" ttitle="Open the  API リファレンス (新規ウィンドウを開きます)">API 1.40 以上</span></a><br />出力先。（フォーマット: type=local,dest=path）</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--platform</code></td>
    <td></td>
    <td><a href="/engine/api/v1.38/" target="_blank" class="_"><span class="badge badge-info" data-toggle="tooltip" ttitle="Open the  API リファレンス (新規ウィンドウを開きます)">API 1.38 以上</span></a><br />サーバーがマルチプラットフォームに対応している場合に、プラットフォームを指定します。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--progress</code></td>
    <td><code class="highlighter-rouge">auto</code></td>
    <td>処理経過の出力タイプを設定します（auto、plain、tty）。コンテナー出力には plain が用いられます。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--pull</code></td>
    <td></td>
    <td>常に最新イメージのプルを試みます。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--quiet , -q</code></td>
    <td></td>
    <td>ビルド出力を省略し、処理成功時にはイメージ ID を表示します。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--rm</code></td>
    <td><code class="highlighter-rouge">true</code></td>
    <td>ビルド成功後に中間コンテナーを削除します。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--secret</code></td>
    <td></td>
    <td><a href="/engine/api/v1.39/" target="_blank" class="_"><span class="badge badge-info" data-toggle="tooltip" ttitle="Open the  API リファレンス (新規ウィンドウを開きます)">API 1.39 以上</span></a><br />ビルド時に公開する Secret ファイル（BuildKit 有効時のみ)。 id=mysecret,src=/local/secret</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--security-opt</code></td>
    <td></td>
    <td>セキュリティオプション。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--shm-size</code></td>
    <td></td>
    <td>/dev/shm のサイズ。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--squash</code></td>
    <td></td>
    <td><a href="/engine/reference/commandline/dockerd/#daemon-configuration-file" target="_blank" class="_"><span class="badge badge-warning" data-toggle="tooltip" title="デーモンの試験的オプションを確認してください（新規ウィンドウを開きます）。">試験的 (デーモン)</span></a><a href="/engine/api/v1.25/" target="_blank" class="_"><span class="badge badge-info" data-toggle="tooltip" ttitle="Open the  API リファレンス (新規ウィンドウを開きます)">API 1.25 以上</span></a><br />ビルドしたレイヤーを単一の新レイヤーに押し込みます（squash します）。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--ssh</code></td>
    <td></td>
    <td><a href="/engine/api/v1.39/" target="_blank" class="_"><span class="badge badge-info" data-toggle="tooltip" ttitle="Open the  API リファレンス (新規ウィンドウを開きます)">API 1.39 以上</span></a><br />ビルド時に公開する SSH エージェントソケットまたは SSH 鍵（BuildKit 有効時のみ）。（フォーマット: default|&lt;id&gt;[=&lt;socket&gt;|&lt;key&gt;[,&lt;key&gt;]]）</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--stream</code></td>
    <td></td>
    <td><a href="/engine/reference/commandline/dockerd/#daemon-configuration-file" target="_blank" class="_"><span class="badge badge-warning" data-toggle="tooltip" title="デーモンの試験的オプションを確認してください（新規ウィンドウを開きます）。">試験的 (デーモン)</span></a><a href="/engine/api/v1.31/" target="_blank" class="_"><span class="badge badge-info" data-toggle="tooltip" ttitle="Open the  API リファレンス (新規ウィンドウを開きます)">API 1.31 以上</span></a><br />ビルドコンテキストをやり取りするためにサーバーにアタッチするストリーム。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--tag , -t</code></td>
    <td></td>
    <td>書式 ‘name:tag’ により名前および任意のタグを指定します。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--target</code></td>
    <td></td>
    <td>ビルド対象とするビルドステージを指定します。</td>
  </tr>

  
  
  
  
  
  
  
  
  <tr>
    <td><code class="highlighter-rouge">--ulimit</code></td>
    <td></td>
    <td>ulimit オプション。</td>
  </tr>
 <!-- end for option -->
</tbody>
</table>
<p><!-- end if options --></p>

<h2 id="examples">利用例</h2>

<h3 id="build-with-path">PATH を使ったビルド</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker build <span class="nb">.</span>

Uploading context 10240 bytes
Step 1/3 : FROM busybox
Pulling repository busybox
 <span class="nt">---</span><span class="o">&gt;</span> e9aa60c60128MB/2.284 MB <span class="o">(</span>100%<span class="o">)</span> endpoint: https://cdn-registry-1.docker.io/v1/
Step 2/3 : RUN <span class="nb">ls</span> <span class="nt">-lh</span> /
 <span class="nt">---</span><span class="o">&gt;</span> Running <span class="k">in </span>9c9e81692ae9
total 24
drwxr-xr-x    2 root     root        4.0K Mar 12  2013 bin
drwxr-xr-x    5 root     root        4.0K Oct 19 00:19 dev
drwxr-xr-x    2 root     root        4.0K Oct 19 00:19 etc
drwxr-xr-x    2 root     root        4.0K Nov 15 23:34 lib
lrwxrwxrwx    1 root     root           3 Mar 12  2013 lib64 -&gt; lib
dr-xr-xr-x  116 root     root           0 Nov 15 23:34 proc
lrwxrwxrwx    1 root     root           3 Mar 12  2013 sbin -&gt; bin
dr-xr-xr-x   13 root     root           0 Nov 15 23:34 sys
drwxr-xr-x    2 root     root        4.0K Mar 12  2013 tmp
drwxr-xr-x    2 root     root        4.0K Nov 15 23:34 usr
 <span class="nt">---</span><span class="o">&gt;</span> b35f4035db3f
Step 3/3 : CMD <span class="nb">echo </span>Hello world
 <span class="nt">---</span><span class="o">&gt;</span> Running <span class="k">in </span>02071fceb21b
 <span class="nt">---</span><span class="o">&gt;</span> f52f38b7823e
Successfully built f52f38b7823e
Removing intermediate container 9c9e81692ae9
Removing intermediate container 02071fceb21b
</code></pre></div></div>

<p>上の例では <code class="highlighter-rouge">PATH</code> に <code class="highlighter-rouge">.</code> を指定しています。
そこでローカルディレクトリ内のファイルが <code class="highlighter-rouge">tar</code> によってまとめられて Docker デーモンに送られます。
<code class="highlighter-rouge">PAHT</code> は、Docker デーモン上でビルドが行われる際の「コンテキスト」として、対象とするファイルを探し出す場所を意味します。
デーモンというものは、リモートマシン上でも起動可能であることを思い出してください。
クライアント側（<code class="highlighter-rouge">docker build</code> を実行するマシン）において Dockerfile に何かが起こったとしても、それを検知することはできません。
つまり <code class="highlighter-rouge">PATH</code> 上のファイルは <strong>すべて</strong> 送信されます。
ただし Dockerfile 内の <a href="/engine/reference/builder/#add"><strong>ADD</strong></a> が扱うファイルは別です。</p>

<p>コンテキストがローカルマシンから Docker デーモンに送信される様子は、<code class="highlighter-rouge">docker</code> クライアントにおいて「Sending build context」（ビルドコンテキストを送信中）というメッセージからわかります。</p>

<p>ビルド処理を終えたときに中間コンテナーを残しておきたい場合は <code class="highlighter-rouge">--rm=false</code> を用います。
これを用いてもビルドキャッシュには影響しません。</p>

<h3 id="build-with-url">URL を使ったビルド</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker build github.com/creack/docker-firefox
</code></pre></div></div>

<p>上では GitHub リポジトリをクローンして、クラウドリポジトリをコンテキストとします。
リポジトリのルートにある Dockerfile が、処理における Dockerfile として用いられます。
スキーム指定 <code class="highlighter-rouge">git://</code> や <code class="highlighter-rouge">git@</code> を使って、どのような Git リポジトリでも指定することができます。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker build <span class="nt">-f</span> ctx/Dockerfile http://server/ctx.tar.gz

Downloading context: http://server/ctx.tar.gz <span class="o">[===================&gt;]</span>    240 B/240 B
Step 1/3 : FROM busybox
 <span class="nt">---</span><span class="o">&gt;</span> 8c2e06607696
Step 2/3 : ADD ctx/container.cfg /
 <span class="nt">---</span><span class="o">&gt;</span> e7829950cee3
Removing intermediate container b35224abf821
Step 3/3 : CMD /bin/ls
 <span class="nt">---</span><span class="o">&gt;</span> Running <span class="k">in </span>fbc63d321d73
 <span class="nt">---</span><span class="o">&gt;</span> 3286931702ad
Removing intermediate container fbc63d321d73
Successfully built 377c409b35e4
</code></pre></div></div>

<p>上では URL <code class="highlighter-rouge">http://server/ctx.tar.gz</code> を Docker デーモンに送っています。
こうすると、指定された tarball をダウンロードし、伸張（解凍）が行われます。
パラメーター <code class="highlighter-rouge">-f ctx/Dockerfile</code> は、イメージをビルドする際に利用する <code class="highlighter-rouge">Dockerfile</code> を <code class="highlighter-rouge">ctx.tar.gz</code> 内部のパスとして指定しています。
その <code class="highlighter-rouge">Dockerfile</code> 内に <code class="highlighter-rouge">ADD</code> コマンドがあって、それがローカルパスを参照しているものであれば、それはすべて <code class="highlighter-rouge">ctx.tar.gz</code> 内ファイルのルートからの相対パスでなければなりません。
上の例において tarball は <code class="highlighter-rouge">ctx/</code> というディレクトリを含むものとしています。
したがって <code class="highlighter-rouge">ADD ctx/container.cfg /</code> という命令であれば、期待どおりに動作します。</p>

<h3 id="build-with--">- を使ったビルド</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker build - &lt; Dockerfile
</code></pre></div></div>

<p>上の例ではコンテキストを利用せず、Dockerfile を <code class="highlighter-rouge">STDIN</code> から読み込みます。
コンテキストがないわけですから、ローカルディレクトリ内から Docker デーモンに送信されるものは何もないということです。
コンテキストがないため、Dockerfile 内の <code class="highlighter-rouge">ADD</code> は、リモート URL を参照しているものだけが正しく動作します。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker build - &lt; context.tar.gz
</code></pre></div></div>

<p>上の例は、圧縮されたコンテキストを <code class="highlighter-rouge">STDIN</code> から読み込んでイメージをビルドします。
サポートされるフォーマットは bzip2、gzip、xz です。</p>

<h3 id="use-a-dockerignore-file">.dockerignore ファイルの利用</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker build <span class="nb">.</span>

Uploading context 18.829 MB
Uploading context
Step 1/2 : FROM busybox
 <span class="nt">---</span><span class="o">&gt;</span> 769b9341d937
Step 2/2 : CMD <span class="nb">echo </span>Hello world
 <span class="nt">---</span><span class="o">&gt;</span> Using cache
 <span class="nt">---</span><span class="o">&gt;</span> 99cc1ad10469
Successfully built 99cc1ad10469
<span class="nv">$ </span><span class="nb">echo</span> <span class="s2">".git"</span> <span class="o">&gt;</span> .dockerignore
<span class="nv">$ </span>docker build <span class="nb">.</span>
Uploading context  6.76 MB
Uploading context
Step 1/2 : FROM busybox
 <span class="nt">---</span><span class="o">&gt;</span> 769b9341d937
Step 2/2 : CMD <span class="nb">echo </span>Hello world
 <span class="nt">---</span><span class="o">&gt;</span> Using cache
 <span class="nt">---</span><span class="o">&gt;</span> 99cc1ad10469
Successfully built 99cc1ad10469
</code></pre></div></div>

<p>This example shows the use of the <code class="highlighter-rouge">.dockerignore</code> file to exclude the <code class="highlighter-rouge">.git</code>
directory from the context. Its effect can be seen in the changed size of the
uploaded context. The builder reference contains detailed information on
<a href="/engine/reference/builder/#dockerignore-file">creating a .dockerignore file</a>.</p>

<p>When using the <a href="/engine/reference/builder/#buildkit">BuildKit backend</a>, <code class="highlighter-rouge">docker build</code> searches
for a <code class="highlighter-rouge">.dockerignore</code> file relative to the Dockerfile name. For example, running
<code class="highlighter-rouge">docker build -f myapp.Dockerfile .</code> will first look for an ignore file named
<code class="highlighter-rouge">myapp.Dockerfile.dockerignore</code>. If such a file is not found, the <code class="highlighter-rouge">.dockerignore</code>
file is used if present. Using a Dockerfile based <code class="highlighter-rouge">.dockerignore</code> is useful if a
project contains multiple Dockerfiles that expect to ignore different sets of
files.</p>

<h3 id="tag-an-image--t">Tag an image (-t)</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker build <span class="nt">-t</span> vieux/apache:2.0 <span class="nb">.</span>
</code></pre></div></div>

<p>This will build like the previous example, but it will then tag the resulting
image. The repository name will be <code class="highlighter-rouge">vieux/apache</code> and the tag will be <code class="highlighter-rouge">2.0</code>.
<a href="/engine/reference/commandline/tag/">Read more about valid tags</a>.</p>

<p>You can apply multiple tags to an image. For example, you can apply the <code class="highlighter-rouge">latest</code>
tag to a newly built image and add another tag that references a specific
version.
For example, to tag an image both as <code class="highlighter-rouge">whenry/fedora-jboss:latest</code> and
<code class="highlighter-rouge">whenry/fedora-jboss:v2.1</code>, use the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker build <span class="nt">-t</span> whenry/fedora-jboss:latest <span class="nt">-t</span> whenry/fedora-jboss:v2.1 <span class="nb">.</span>
</code></pre></div></div>

<h3 id="specify-a-dockerfile--f">Specify a Dockerfile (-f)</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker build <span class="nt">-f</span> Dockerfile.debug <span class="nb">.</span>
</code></pre></div></div>

<p>This will use a file called <code class="highlighter-rouge">Dockerfile.debug</code> for the build instructions
instead of <code class="highlighter-rouge">Dockerfile</code>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl example.com/remote/Dockerfile | docker build <span class="nt">-f</span> - <span class="nb">.</span>
</code></pre></div></div>

<p>The above command will use the current directory as the build context and read
a Dockerfile from stdin.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker build <span class="nt">-f</span> dockerfiles/Dockerfile.debug <span class="nt">-t</span> myapp_debug <span class="nb">.</span>
<span class="nv">$ </span>docker build <span class="nt">-f</span> dockerfiles/Dockerfile.prod  <span class="nt">-t</span> myapp_prod <span class="nb">.</span>
</code></pre></div></div>

<p>The above commands will build the current build context (as specified by the
<code class="highlighter-rouge">.</code>) twice, once using a debug version of a <code class="highlighter-rouge">Dockerfile</code> and once using a
production version.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd</span> /home/me/myapp/some/dir/really/deep
<span class="nv">$ </span>docker build <span class="nt">-f</span> /home/me/myapp/dockerfiles/debug /home/me/myapp
<span class="nv">$ </span>docker build <span class="nt">-f</span> ../../../../dockerfiles/debug /home/me/myapp
</code></pre></div></div>

<p>These two <code class="highlighter-rouge">docker build</code> commands do the exact same thing. They both use the
contents of the <code class="highlighter-rouge">debug</code> file instead of looking for a <code class="highlighter-rouge">Dockerfile</code> and will use
<code class="highlighter-rouge">/home/me/myapp</code> as the root of the build context. Note that <code class="highlighter-rouge">debug</code> is in the
directory structure of the build context, regardless of how you refer to it on
the command line.</p>

<blockquote>
  <p><strong>Note:</strong>
<code class="highlighter-rouge">docker build</code> will return a <code class="highlighter-rouge">no such file or directory</code> error if the
file or directory does not exist in the uploaded context. This may
happen if there is no context, or if you specify a file that is
elsewhere on the Host system. The context is limited to the current
directory (and its children) for security reasons, and to ensure
repeatable builds on remote Docker hosts. This is also the reason why
<code class="highlighter-rouge">ADD ../file</code> will not work.</p>
</blockquote>

<h3 id="use-a-custom-parent-cgroup---cgroup-parent">Use a custom parent cgroup (--cgroup-parent)</h3>

<p>When <code class="highlighter-rouge">docker build</code> is run with the <code class="highlighter-rouge">--cgroup-parent</code> option the containers
used in the build will be run with the <a href="../run.md#specify-custom-cgroups">corresponding <code class="highlighter-rouge">docker run</code>
flag</a>.</p>

<h3 id="set-ulimits-in-container---ulimit">コンテナーの ulimit 設定 (--ulimit)</h3>

<p>Using the <code class="highlighter-rouge">--ulimit</code> option with <code class="highlighter-rouge">docker build</code> will cause each build step’s
container to be started using those <a href="run.md#set-ulimits-in-container---ulimit"><code class="highlighter-rouge">--ulimit</code>
flag values</a>.</p>

<h3 id="set-build-time-variables---build-arg">Set build-time variables (--build-arg)</h3>

<p>You can use <code class="highlighter-rouge">ENV</code> instructions in a Dockerfile to define variable
values. These values persist in the built image. However, often
persistence is not what you want. Users want to specify variables differently
depending on which host they build an image on.</p>

<p>A good example is <code class="highlighter-rouge">http_proxy</code> or source versions for pulling intermediate
files. The <code class="highlighter-rouge">ARG</code> instruction lets Dockerfile authors define values that users
can set at build-time using the  <code class="highlighter-rouge">--build-arg</code> flag:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker build <span class="nt">--build-arg</span> <span class="nv">HTTP_PROXY</span><span class="o">=</span>http://10.20.30.2:1234 <span class="nt">--build-arg</span> <span class="nv">FTP_PROXY</span><span class="o">=</span>http://40.50.60.5:4567 <span class="nb">.</span>
</code></pre></div></div>

<p>This flag allows you to pass the build-time variables that are
accessed like regular environment variables in the <code class="highlighter-rouge">RUN</code> instruction of the
Dockerfile. Also, these values don’t persist in the intermediate or final images
like <code class="highlighter-rouge">ENV</code> values do.   You must add <code class="highlighter-rouge">--build-arg</code> for each build argument.</p>

<p>Using this flag will not alter the output you see when the <code class="highlighter-rouge">ARG</code> lines from the
Dockerfile are echoed during the build process.</p>

<p>For detailed information on using <code class="highlighter-rouge">ARG</code> and <code class="highlighter-rouge">ENV</code> instructions, see the
<a href="/engine/reference/builder/">Dockerfile reference</a>.</p>

<p>You may also use the <code class="highlighter-rouge">--build-arg</code> flag without a value, in which case the value
from the local environment will be propagated into the Docker container being
built:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">export </span><span class="nv">HTTP_PROXY</span><span class="o">=</span>http://10.20.30.2:1234
<span class="nv">$ </span>docker build <span class="nt">--build-arg</span> HTTP_PROXY <span class="nb">.</span>
</code></pre></div></div>

<p>This is similar to how <code class="highlighter-rouge">docker run -e</code> works. Refer to the <a href="https://docs.docker.com/engine/reference/commandline/run/#set-environment-variables--e---env---env-file"><code class="highlighter-rouge">docker run</code> documentation</a>
for more information.</p>

<h3 id="optional-security-options---security-opt">Optional security options (--security-opt)</h3>

<p>This flag is only supported on a daemon running on Windows, and only supports
the <code class="highlighter-rouge">credentialspec</code> option. The <code class="highlighter-rouge">credentialspec</code> must be in the format
<code class="highlighter-rouge">file://spec.txt</code> or <code class="highlighter-rouge">registry://keyname</code>.</p>

<h3 id="specify-isolation-technology-for-container---isolation">Specify isolation technology for container (--isolation)</h3>

<p>This option is useful in situations where you are running Docker containers on
Windows. The <code class="highlighter-rouge">--isolation=&lt;value&gt;</code> option sets a container’s isolation
technology. On Linux, the only supported is the <code class="highlighter-rouge">default</code> option which uses
Linux namespaces. On Microsoft Windows, you can specify these values:</p>

<table>
  <thead>
    <tr>
      <th>Value</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">default</code></td>
      <td>Use the value specified by the Docker daemon’s <code class="highlighter-rouge">--exec-opt</code> . If the <code class="highlighter-rouge">daemon</code> does not specify an isolation technology, Microsoft Windows uses <code class="highlighter-rouge">process</code> as its default value.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">process</code></td>
      <td>Namespace isolation only.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">hyperv</code></td>
      <td>Hyper-V hypervisor partition-based isolation.</td>
    </tr>
  </tbody>
</table>

<p>Specifying the <code class="highlighter-rouge">--isolation</code> flag without a value is the same as setting <code class="highlighter-rouge">--isolation="default"</code>.</p>

<h3 id="add-entries-to-container-hosts-file---add-host">Add entries to container hosts file (--add-host)</h3>

<p>You can add other hosts into a container’s <code class="highlighter-rouge">/etc/hosts</code> file by using one or
more <code class="highlighter-rouge">--add-host</code> flags. This example adds a static address for a host named
<code class="highlighter-rouge">docker</code>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ docker build --add-host=docker:10.180.0.1 .
</code></pre></div></div>

<h3 id="specifying-target-build-stage---target">Specifying target build stage (--target)</h3>

<p>When building a Dockerfile with multiple build stages, <code class="highlighter-rouge">--target</code> can be used to
specify an intermediate build stage by name as a final stage for the resulting
image. Commands after the target stage will be skipped.</p>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">FROM</span><span class="s"> debian AS build-env</span>
...

<span class="k">FROM</span><span class="s"> alpine AS production-env</span>
...
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker build <span class="nt">-t</span> mybuildimage <span class="nt">--target</span> build-env <span class="nb">.</span>
</code></pre></div></div>

<h3 id="custom-build-outputs">Custom build outputs</h3>

<p>By default, a local container image is created from the build result. The
<code class="highlighter-rouge">--output</code> (or <code class="highlighter-rouge">-o</code>) flag allows you to override this behavior, and a specify a
custom exporter. For example, custom exporters allow you to export the build
artifacts as files on the local filesystem instead of a Docker image, which can
be useful for generating local binaries, code generation etc.</p>

<p>The value for <code class="highlighter-rouge">--output</code> is a CSV-formatted string defining the exporter type
and options. Currently, <code class="highlighter-rouge">local</code> and <code class="highlighter-rouge">tar</code> exporters are supported. The <code class="highlighter-rouge">local</code>
exporter writes the resulting build files to a directory on the client side. The
<code class="highlighter-rouge">tar</code> exporter is similar but writes the files as a single tarball (<code class="highlighter-rouge">.tar</code>).</p>

<p>If no type is specified, the value defaults to the output directory of the local
exporter. Use a hyphen (<code class="highlighter-rouge">-</code>) to write the output tarball to standard output
(<code class="highlighter-rouge">STDOUT</code>).</p>

<p>The following example builds an image using the current directory (<code class="highlighter-rouge">.</code>) as build
context, and exports the files to a directory named <code class="highlighter-rouge">out</code> in the current directory.
If the directory does not exist, Docker creates the directory automatically:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker build <span class="nt">-o</span> out <span class="nb">.</span>
</code></pre></div></div>

<p>The example above uses the short-hand syntax, omitting the <code class="highlighter-rouge">type</code> options, and
thus uses the default (<code class="highlighter-rouge">local</code>) exporter. The example below shows the equivalent
using the long-hand CSV syntax, specifying both <code class="highlighter-rouge">type</code> and <code class="highlighter-rouge">dest</code> (destination
path):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker build <span class="nt">--output</span> <span class="nb">type</span><span class="o">=</span><span class="nb">local</span>,dest<span class="o">=</span>out <span class="nb">.</span>
</code></pre></div></div>

<p>Use the <code class="highlighter-rouge">tar</code> type to export the files as a <code class="highlighter-rouge">.tar</code> archive:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker build <span class="nt">--output</span> <span class="nb">type</span><span class="o">=</span><span class="nb">tar</span>,dest<span class="o">=</span>out.tar <span class="nb">.</span>
</code></pre></div></div>

<p>The example below shows the equivalent when using the short-hand syntax. In this
case, <code class="highlighter-rouge">-</code> is specified as destination, which automatically selects the <code class="highlighter-rouge">tar</code> type,
and writes the output tarball to standard output, which is then redirected to
the <code class="highlighter-rouge">out.tar</code> file:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build <span class="nt">-o</span> - <span class="nb">.</span> <span class="o">&gt;</span> out.tar
</code></pre></div></div>

<p>The <code class="highlighter-rouge">--output</code> option exports all files from the target stage. A common pattern
for exporting only specific files is to do multi-stage builds and to copy the
desired files to a new scratch stage with <a href="/engine/reference/builder/#copy"><code class="highlighter-rouge">COPY --from</code></a>.</p>

<p>The example <code class="highlighter-rouge">Dockerfile</code> below uses a separate stage to collect the
build-artifacts for exporting:</p>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">FROM</span><span class="s"> golang AS build-stage</span>
<span class="k">RUN </span>go get <span class="nt">-u</span> github.com/LK4D4/vndr

<span class="k">FROM</span><span class="s"> scratch AS export-stage</span>
<span class="k">COPY</span><span class="s"> --from=build-stage /go/bin/vndr /</span>
</code></pre></div></div>

<p>When building the Dockerfile with the <code class="highlighter-rouge">-o</code> option, only the files from the final
stage are exported to the <code class="highlighter-rouge">out</code> directory, in this case, the <code class="highlighter-rouge">vndr</code> binary:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker build <span class="nt">-o</span> out <span class="nb">.</span>

<span class="o">[</span>+] Building 2.3s <span class="o">(</span>7/7<span class="o">)</span> FINISHED
 <span class="o">=&gt;</span> <span class="o">[</span>internal] load build definition from Dockerfile                                                                          0.1s
 <span class="o">=&gt;</span> <span class="o">=&gt;</span> transferring dockerfile: 176B                                                                                          0.0s
 <span class="o">=&gt;</span> <span class="o">[</span>internal] load .dockerignore                                                                                             0.0s
 <span class="o">=&gt;</span> <span class="o">=&gt;</span> transferring context: 2B                                                                                               0.0s
 <span class="o">=&gt;</span> <span class="o">[</span>internal] load metadata <span class="k">for </span>docker.io/library/golang:latest                                                              1.6s
 <span class="o">=&gt;</span> <span class="o">[</span>build-stage 1/2] FROM docker.io/library/golang@sha256:2df96417dca0561bf1027742dcc5b446a18957cd28eba6aa79269f23f1846d3f   0.0s
 <span class="o">=&gt;</span> <span class="o">=&gt;</span> resolve docker.io/library/golang@sha256:2df96417dca0561bf1027742dcc5b446a18957cd28eba6aa79269f23f1846d3f               0.0s
 <span class="o">=&gt;</span> CACHED <span class="o">[</span>build-stage 2/2] RUN go get <span class="nt">-u</span> github.com/LK4D4/vndr                                                              0.0s
 <span class="o">=&gt;</span> <span class="o">[</span>export-stage 1/1] COPY <span class="nt">--from</span><span class="o">=</span>build-stage /go/bin/vndr /                                                                 0.2s
 <span class="o">=&gt;</span> exporting to client                                                                                                       0.4s
 <span class="o">=&gt;</span> <span class="o">=&gt;</span> copying files 10.30MB                                                                                                  0.3s

<span class="nv">$ </span><span class="nb">ls</span> ./out
vndr
</code></pre></div></div>

<blockquote>
  <p><strong>Note</strong></p>

  <p>This feature requires the BuildKit backend. You can either
<a href="/engine/reference/builder/#buildkit">enable BuildKit</a> or use the <a href="https://github.com/docker/buildx">buildx</a>
plugin which provides more output type options.</p>
</blockquote>

<h3 id="specifying-external-cache-sources">Specifying external cache sources</h3>

<p>In addition to local build cache, the builder can reuse the cache generated from
previous builds with the <code class="highlighter-rouge">--cache-from</code> flag pointing to an image in the registry.</p>

<p>To use an image as a cache source, cache metadata needs to be written into the
image on creation. This can be done by setting <code class="highlighter-rouge">--build-arg BUILDKIT_INLINE_CACHE=1</code>
when building the image. After that, the built image can be used as a cache source
for subsequent builds.</p>

<p>Upon importing the cache, the builder will only pull the JSON metadata from the
registry and determine possible cache hits based on that information. If there
is a cache hit, the matched layers are pulled into the local environment.</p>

<p>In addition to images, the cache can also be pulled from special cache manifests
generated by <a href="https://github.com/docker/buildx"><code class="highlighter-rouge">buildx</code></a> or the BuildKit CLI
(<code class="highlighter-rouge">buildctl</code>). These manifests (when built with the <code class="highlighter-rouge">type=registry</code> and <code class="highlighter-rouge">mode=max</code>
options) allow pulling layer data for intermediate stages in multi-stage builds.</p>

<p>The following example builds an image with inline-cache metadata and pushes it
to a registry, then uses the image as a cache source on another machine:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker build <span class="nt">-t</span> myname/myapp <span class="nt">--build-arg</span> <span class="nv">BUILDKIT_INLINE_CACHE</span><span class="o">=</span>1 <span class="nb">.</span>
<span class="nv">$ </span>docker push myname/myapp
</code></pre></div></div>

<p>After pushing the image, the image is used as cache source on another machine.
BuildKit automatically pulls the image from the registry if needed.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># on another machine</span>
<span class="nv">$ </span>docker build <span class="nt">--cache-from</span> myname/myapp <span class="nb">.</span>
</code></pre></div></div>

<blockquote>
  <p><strong>Note</strong></p>

  <p>This feature requires the BuildKit backend. You can either
<a href="/engine/reference/builder/#buildkit">enable BuildKit</a> or use the <a href="https://github.com/docker/buildx">buildx</a>
plugin. The previous builder has limited support for reusing cache from
pre-pulled images.</p>
</blockquote>

<h3 id="squash-an-images-layers---squash-experimental">Squash an image’s layers (--squash) （試験的機能）</h3>

<h4 id="overview">概要</h4>

<p>Once the image is built, squash the new layers into a new image with a single
new layer. Squashing does not destroy any existing image, rather it creates a new
image with the content of the squashed layers. This effectively makes it look
like all <code class="highlighter-rouge">Dockerfile</code> commands were created with a single layer. The build
cache is preserved with this method.</p>

<p><code class="highlighter-rouge">--squash</code> オプションは試験的機能であるため、安定したものとしては捉えないでください。</p>

<p>Squashing layers can be beneficial if your Dockerfile produces multiple layers
modifying the same files, for example, files that are created in one step, and
removed in another step. For other use-cases, squashing images may actually have
a negative impact on performance; when pulling an image consisting of multiple
layers, layers can be pulled in parallel, and allows sharing layers between
images (saving space).</p>

<p>For most use cases, multi-stage builds are a better alternative, as they give more
fine-grained control over your build, and can take advantage of future
optimizations in the builder. Refer to the <a href="https://docs.docker.com/develop/develop-images/multistage-build/">use multi-stage builds</a>
section in the userguide for more information.</p>

<h4 id="known-limitations">既知の制約</h4>

<p><code class="highlighter-rouge">--squash</code> オプションでは多くの制約があります。</p>

<ul>
  <li>When squashing layers, the resulting image cannot take advantage of layer
sharing with other images, and may use significantly more space. Sharing the
base image is still supported.</li>
  <li>When using this option you may see significantly more space used due to
storing two copies of the image, one for the build cache with all the cache
layers in tact, and one for the squashed version.</li>
  <li>While squashing layers may produce smaller images, it may have a negative
impact on performance, as a single layer takes longer to extract, and
downloading a single layer cannot be parallelized.</li>
  <li>When attempting to squash an image that does not make changes to the
filesystem (for example, the Dockerfile only contains <code class="highlighter-rouge">ENV</code> instructions),
the squash step will fail (see <a href="https://github.com/moby/moby/issues/33823">issue #33823</a>).</li>
</ul>

<h4 id="prerequisites">前提条件</h4>

<p>The example on this page is using experimental mode in Docker 1.13.</p>

<p>Experimental mode can be enabled by using the <code class="highlighter-rouge">--experimental</code> flag when starting the Docker daemon or setting <code class="highlighter-rouge">experimental: true</code> in the <code class="highlighter-rouge">daemon.json</code> configuration file.</p>

<p>By default, experimental mode is disabled. To see the current configuration, use the <code class="highlighter-rouge">docker version</code> command.</p>

<pre><code class="language-none">Server:
 Version:      1.13.1
 API version:  1.26 (minimum version 1.12)
 Go version:   go1.7.5
 Git commit:   092cba3
 Built:        Wed Feb  8 06:35:24 2017
 OS/Arch:      linux/amd64
 Experimental: false

 [...]
</code></pre>

<p>To enable experimental mode, users need to restart the docker daemon with the experimental flag enabled.</p>

<h4 id="enable-docker-experimental">Enable Docker experimental</h4>

<p>Experimental features are now included in the standard Docker binaries as of version 1.13.0. For enabling experimental features, you need to start the Docker daemon with <code class="highlighter-rouge">--experimental</code> flag. You can also enable the daemon flag via /etc/docker/daemon.json. e.g.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"experimental"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Then make sure the experimental flag is enabled:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker version <span class="nt">-f</span> <span class="s1">'{{.Server.Experimental}}'</span>
<span class="nb">true</span>
</code></pre></div></div>

<h4 id="build-an-image-with---squash-argument">Build an image with <code class="highlighter-rouge">--squash</code> argument</h4>

<p>The following is an example of docker build with <code class="highlighter-rouge">--squash</code> argument</p>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">FROM</span><span class="s"> busybox</span>
<span class="k">RUN </span><span class="nb">echo </span>hello <span class="o">&gt;</span> /hello
<span class="k">RUN </span><span class="nb">echo </span>world <span class="o">&gt;&gt;</span> /hello
<span class="k">RUN </span>touch remove_me /remove_me
<span class="k">ENV</span><span class="s"> HELLO world</span>
<span class="k">RUN </span>rm /remove_me
</code></pre></div></div>

<p>An image named <code class="highlighter-rouge">test</code> is built with <code class="highlighter-rouge">--squash</code> argument.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker build <span class="nt">--squash</span> <span class="nt">-t</span> <span class="nb">test</span> <span class="nb">.</span>

<span class="o">[</span>...]
</code></pre></div></div>

<p>If everything is right, the history will look like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker <span class="nb">history test

</span>IMAGE               CREATED             CREATED BY                                      SIZE                COMMENT
4e10cb5b4cac        3 seconds ago                                                       12 B                merge sha256:88a7b0112a41826885df0e7072698006ee8f621c6ab99fca7fe9151d7b599702 to sha256:47bcc53f74dc94b1920f0b34f6036096526296767650f223433fe65c35f149eb
&lt;missing&gt;           5 minutes ago       /bin/sh <span class="nt">-c</span> rm /remove_me                        0 B
&lt;missing&gt;           5 minutes ago       /bin/sh <span class="nt">-c</span> <span class="c">#(nop) ENV HELLO=world               0 B</span>
&lt;missing&gt;           5 minutes ago       /bin/sh <span class="nt">-c</span> touch remove_me /remove_me           0 B
&lt;missing&gt;           5 minutes ago       /bin/sh <span class="nt">-c</span> <span class="nb">echo </span>world <span class="o">&gt;&gt;</span> /hello                 0 B
&lt;missing&gt;           6 minutes ago       /bin/sh <span class="nt">-c</span> <span class="nb">echo </span>hello <span class="o">&gt;</span> /hello                  0 B
&lt;missing&gt;           7 weeks ago         /bin/sh <span class="nt">-c</span> <span class="c">#(nop) CMD ["sh"]                    0 B</span>
&lt;missing&gt;           7 weeks ago         /bin/sh <span class="nt">-c</span> <span class="c">#(nop) ADD file:47ca6e777c36a4cfff   1.113 MB</span>
</code></pre></div></div>

<p>We could find that all layer’s name is <code class="highlighter-rouge">&lt;missing&gt;</code>, and there is a new layer with COMMENT <code class="highlighter-rouge">merge</code>.</p>

<p>Test the image, check for <code class="highlighter-rouge">/remove_me</code> being gone, make sure <code class="highlighter-rouge">hello\nworld</code> is in <code class="highlighter-rouge">/hello</code>, make sure the <code class="highlighter-rouge">HELLO</code> envvar’s value is <code class="highlighter-rouge">world</code>.</p>

<h2 id="parent-command">上位コマンド</h2>

<table>
  <thead>
    <tr>
      <th>コマンド</th>
      <th>説明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="/docs.docker.jp.onthefly/engine/reference/commandline/docker/">docker</a></td>
      <td>Docker CLI の基本コマンド</td>
    </tr>
  </tbody>
</table>


                            <!-- tags -->
                            
                            
                            
                            <div id="ratings-div"
                                style="color:#b9c2cc; text-align: center; margin-top: 150px;">
                                <div id="pd_rating_holder_8453675"></div>
                                <script type="text/javascript">
                                    PDRTJS_settings_8453675 = {
                                        "id": "8453675",
                                        "unique_id": "engine/reference/commandline/build.md",
                                        "title": "docker build",
                                        "permalink": "https://github.com/docker/docker.github.io/blob/master/engine/reference/commandline/build.md"
                                    };
                                    (function (d, c, j) {
                                        if (!document.getElementById(j)) {
                                            var pd = d.createElement(c),
                                                s;
                                            pd.id = j;
                                            pd.src = ('https:' == document.location.protocol) ? 'https://polldaddy.com/js/rating/rating.js' : 'http://i0.poll.fm/js/rating/rating.js';
                                            s = document.getElementsByTagName(c)[0];
                                            s.parentNode.insertBefore(pd, s);
                                        }
                                    }(document, 'script', 'pd-rating-js'));
                                </script>
                            </div>
                            
                        </section>
                    </main>
                    <nav class="col-nav">
                        <div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
                            <div id="navbar" class="nav-sidebar">
    <ul class="nav jsTOCHorizontal hidden-md hidden-lg">
    </ul>
    <div class="divider hidden-md hidden-lg"></div>
    <ul class="nav" id="jsTOCLeftNav">
    </ul>
</div>

                        </div>
                    </nav>
                    <div class="col-toc">
                        <div class="sidebar hidden-xs hidden-sm">
                            <div class="toc-nav">
                                <div class="feedback-links">
                                    <ul>
                                        
                                        <li><a href="https://github.com/matsuand/docs.docker.jp/edit/v19.03.local/engine/reference/commandline/build.md"><i
                                                    class="fa fa-pencil-square-o" aria-hidden="true"></i> このページの編集</a></li>
                                        <li><a href="https://github.com/matsuand/docs.docker.jp/issues/new?body=ファイル: [engine/reference/commandline/build.md](https://matsuand.github.io/docs.docker.jp.onthefly/engine/reference/commandline/build/)"
                                                class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 文書変更のリクエスト</a></li>
                                        <!-- toggle mode -->
                                        <li>
                                            <div class="toggle-mode">
                                                <div class="icon">
                                                    <i class="fa fa-sun-o" aria-hidden="true"></i>
                                                </div>
                                                <div class="toggle-switch">
                                                    <label class="switch">
                                                        <input type="checkbox" id="switch-style">
                                                        <div class="slider round"></div>
                                                    </label>
                                                </div>
                                                <div class="icon">
                                                    <i class="fa fa-moon-o" aria-hidden="true"></i>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                
                                
                                
                                
                                <div id="side-toc-title">本ページ内:</div>
                                
<ul id="my_toc" class="inline_toc">
  <li><a href="#description" class="nomunge">説明</a></li>
  <li><a href="#usage" class="nomunge">利用方法</a></li>
  <li><a href="#extended-description" class="nomunge">追加説明</a>
    <ul>
      <li><a href="#git-repositories" class="nomunge">Git リポジトリ</a></li>
      <li><a href="#tarball-contexts" class="nomunge">Tarball コンテキスト</a></li>
      <li><a href="#text-files" class="nomunge">テキストファイル</a></li>
    </ul>
  </li>
  <li><a href="#options" class="nomunge">オプション</a></li>
  <li><a href="#examples" class="nomunge">利用例</a>
    <ul>
      <li><a href="#build-with-path" class="nomunge">PATH を使ったビルド</a></li>
      <li><a href="#build-with-url" class="nomunge">URL を使ったビルド</a></li>
      <li><a href="#build-with--" class="nomunge">- を使ったビルド</a></li>
      <li><a href="#use-a-dockerignore-file" class="nomunge">.dockerignore ファイルの利用</a></li>
      <li><a href="#tag-an-image--t" class="nomunge">Tag an image (-t)</a></li>
      <li><a href="#specify-a-dockerfile--f" class="nomunge">Specify a Dockerfile (-f)</a></li>
      <li><a href="#use-a-custom-parent-cgroup---cgroup-parent" class="nomunge">Use a custom parent cgroup (--cgroup-parent)</a></li>
      <li><a href="#set-ulimits-in-container---ulimit" class="nomunge">コンテナーの ulimit 設定 (--ulimit)</a></li>
      <li><a href="#set-build-time-variables---build-arg" class="nomunge">Set build-time variables (--build-arg)</a></li>
      <li><a href="#optional-security-options---security-opt" class="nomunge">Optional security options (--security-opt)</a></li>
      <li><a href="#specify-isolation-technology-for-container---isolation" class="nomunge">Specify isolation technology for container (--isolation)</a></li>
      <li><a href="#add-entries-to-container-hosts-file---add-host" class="nomunge">Add entries to container hosts file (--add-host)</a></li>
      <li><a href="#specifying-target-build-stage---target" class="nomunge">Specifying target build stage (--target)</a></li>
      <li><a href="#custom-build-outputs" class="nomunge">Custom build outputs</a></li>
      <li><a href="#specifying-external-cache-sources" class="nomunge">Specifying external cache sources</a></li>
      <li><a href="#squash-an-images-layers---squash-experimental" class="nomunge">Squash an image’s layers (--squash) （試験的機能）</a></li>
    </ul>
  </li>
  <li><a href="#parent-command" class="nomunge">上位コマンド</a></li>
</ul>


                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    
    <footer class="footer">
          
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/why-docker">なぜ Docker なのか？</a></b></li>
                        <li><a href="https://www.docker.com/what-container">コンテナーって何？</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/overview">製品</a></b></li>
                        <li><a href="https://www.docker.com/products/docker-desktop">Docker Desktop</a></li>
                        <li><a href="https://www.docker.com/products/docker-hub">Docker Hub</a></li>
                        <li><b><a href="https://www.docker.com/products/docker-desktop">機能</a></b></li>
                        <li><a href="https://www.docker.com/products/container-runtime">コンテナーランタイム</a></li>
                        <li><a href="https://www.docker.com/products/developer-tools">開発ツール</a></li>
                        <li><a href="https://www.docker.com/products/kubernetes">Kubernetes</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/products/docker-desktop">開発者</a></b></li>
                        <li><a href="https://www.docker.com/use-cases">利用例</a></li>
                        <li><a href="https://www.docker.com/play-with-docker">Docker で遊ぶ</a></li>
                        <li><a href="https://www.docker.com/docker-community">コミュニティ</a></li>
                        <li><a href="https://www.docker.com/open-source">オープンソース</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker キャプテン</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><b><a href="https://www.docker.com/company" target="_blank">会社</a></b></li>
                        <li><a href="https://www.docker.com/company">概要</a></li>
                        <li><a href="https://www.docker.com/blog/" target="_blank">ブログ</a></li>
                        <li><a href="https://www.docker.com/customers">顧客</a></li>
                        <li><a href="https://www.docker.com/partners">パートナー</a></li>
                        <li><a href="https://www.docker.com/company/newsroom">ニュースルーム</a></li>
                        <li><a href="https://www.docker.com/careers">採用情報</a></li>
                        <li><a href="https://www.docker.com/company/contact">連絡先</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">ステータス</a></li>
                        <li><a href="https://www.docker.com/docker-security">セキュリティ</a></li>
                        <li><a href="https://www.docker.com/legal">法的情報</a></li>
                        <li><a href="https://www.docker.com/company/contact">連絡</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2013-2020 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-slideshare"><a href="https://www.slideshare.net/docker">Slideshare</a></li>
                    <li class="fa fa-reddit"><a href="https://www.reddit.com/r/docker">Reddit</a></li>
                </ul>
            </div>
        </div>
    </div>

    </footer>
    <link rel="stylesheet" href="/docs.docker.jp.onthefly/css/github.css">
    
    <script>var pageURL = "/engine/reference/commandline/build/";</script>
    <script defer src="/docs.docker.jp.onthefly/js/anchorlinks.js"></script>
    <script defer src="/docs.docker.jp.onthefly/js/menu.js"></script>
    <script src="/docs.docker.jp.onthefly/js/jquery.js"></script>
    <script src="/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
    <script src="/docs.docker.jp.onthefly/js/stickyfill.min.js"></script>
    <script defer src="/docs.docker.jp.onthefly/js/metadata.js"></script>
    <script src="/docs.docker.jp.onthefly/js/glossary.js"></script>
    <script defer src="/docs.docker.jp.onthefly/js/docs.js"></script>
    <script defer src="/docs.docker.jp.onthefly/js/toc.js"></script>
    <script defer src="/docs.docker.jp.onthefly/js/search.js"></script>
</body>


</html>
