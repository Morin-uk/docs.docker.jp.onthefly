<!-- Page generated 2019-08-28 16:50:42 +0900 -->
<!-- relative link basehrefs -->

	
	
	
		
			
		
	
		
			
		
	
		
			
			


<!-- Logic for 'edit this button' -->


	

	

	

	

	

	

	

	

	


<!-- End of logic for 'edit this button' -->


<!DOCTYPE html>
<html lang="ja">

<head>
	<base href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<style type="text/css">
		@charset "UTF-8";
		[ng\:cloak],
		[ng-cloak],
		[data-ng-cloak],
		[x-ng-cloak],
		.ng-cloak,
		.x-ng-cloak,
		.ng-hide:not(.ng-hide-animate) {
			display: none !important;
		}

		ng\:form {
			display: block;
		}
	</style>
	<script type="text/javascript">
	  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
	  analytics.load("IWj9D0UpZHZdZUZX9jl98PcpBFWBnBMy");
	  analytics.page();
	  }}();
	</script>
	
	<!-- favicon -->
	<link rel="icon" type="image/x-icon" href="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta name="msapplication-TileImage" content="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico">
	<link rel="apple-touch-icon" type="image/x-icon" href="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico" sizes="129x128">
	<meta property="og:image" content="https://matsuand.github.io/docs.docker.jp.onthefly/favicons/docs@2x.ico"/>
	<!-- metadata -->
	<meta property="og:type" content="website"/>
	<meta property="og:updated_time" itemprop="dateUpdated" content="2019-08-28T16:50:42+09:00"/>
	<meta property="og:image" itemprop="image primaryImageOfPage" content="https://matsuand.github.io/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:card" content="summary"/>
	<meta name="twitter:domain" content="docs.docker.jp"/>
	<meta name="twitter:site" content="@docker_docs"/>
	<meta name="twitter:url" content="https://twitter.com/docker_docs"/>
	<meta name="twitter:title" itemprop="title name" content="Compose ファイル バージョン 1 リファレンス"/>
	<meta name="twitter:description" property="og:description" itemprop="description" content="リファレンスとガイドライン ここに示す内容は Compose ファイルフォーマット、バージョン 1 です。 これは最も古いバージョンです。 Compose と Docker の互換マトリックス Compose ファイルフォーマットには 1、2、2.x、3.x という複数のバージョンがあります。 その様子は以下の一覧表に見ることができます。 各バージョンにて何が増えたのか、どのようにアップグレードしたのか、といった詳細については バージョンとアップグレードについてを参照してください。 以下の一覧表は、Compose ファイルのどのバージョンが Docker リリースをサポートしているかを示すものです。 Compose ファイルフォーマット Docker Engine リリース 3.7 18.06.0 以上..." />
	<meta name="twitter:image:src" content="https://matsuand.github.io/docs.docker.jp.onthefly/images/docs@2x.png"/>
	<meta name="twitter:image:alt" content="Docker ドキュメント"/>
	<meta property="article:published_time" itemprop="datePublished" content="2019-08-28T16:50:42+09:00"/>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="keywords" content="fig, composition, compose version 1, docker">
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/bootstrap.min.css">
	<link id="pygments" rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/pygments/perldoc.css">
	<link id="pagestyle" rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/style.css">

	<!-- Go get "Open Sans" font from Google -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
	<!-- SEO stuff -->
	<title>Compose ファイル バージョン 1 リファレンス | Docker ドキュメント</title>
<meta property="og:title" content="Compose ファイル バージョン 1 リファレンス" />
<meta property="og:locale" content="ja_JP" />
<meta name="description" content="Compose ファイルリファレンス" />
<meta property="og:description" content="Compose ファイルリファレンス" />
<link rel="canonical" href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1/" />
<meta property="og:url" content="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1/" />
<meta property="og:site_name" content="Docker ドキュメント" />
<script type="application/ld+json">
{"@context":"http://schema.org","@type":"WebPage","headline":"Compose ファイル バージョン 1 リファレンス","description":"Compose ファイルリファレンス","url":"https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1/"}</script>
	<!-- END SEO STUFF -->
	
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v19.03';
	</script>
</head>
<body ng-app="Docker" ng-controller="DockerController" class="colums">
	<header>
		 <nav class="nav-secondary navbar navbar-fixed-top">
    <!-- <div class="fan"></div> -->
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="https://matsuand.github.io/docs.docker.jp.onthefly/"><img class="logo" src="https://matsuand.github.io/docs.docker.jp.onthefly/images/docker-docs-logo.svg" alt="Docker Docs" title="Docker Docs"></a>
        </div>
        <div class="navbar-collapse" aria-expanded="false" style="height: 1px;">
            <div class="search-form" id="search-div" style="visibility: hidden">
    <form class="search-form form-inline ng-pristine ng-valid" id="searchForm" action="https://matsuand.github.io/docs.docker.jp.onthefly/search/">
        <input class="search-field form-control ds-input" id="st-search-input" value="" name="q" placeholder="文書内検索" type="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top;">
        <div id="autocompleteContainer">
            <div id="autocompleteResults"></div>
        </div>
        <!-- <button type="submit" class="search-submit btn btn-default">検索</button> -->
    </form>
</div>
<div class="sidebar-toggle">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </button>
</div>
<div class="nav-container">
    <div id="tabs">
        <ul class="tabs" id="jsTOCHorizontal">

        </ul>
    </div>
    <div class="ctrl-right hidden-xs hidden-sm">
        <a href="javascript:void(0)" id="menu-toggle"><i class="fa fa-indent" aria-hidden="true"></i></a>
        <div class="btn-group" style="visibility: hidden">
  <button type="button" class="btn btn-default dropdown-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Docker v19.03 (current)         <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
    <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/edge/">Docker edge</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.09/">Docker v18.09</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v18.03/">Docker v18.03</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.12/">Docker v17.12</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.09/">Docker v17.09</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.06/">Docker v17.06</a></li><li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/v17.03/">Docker v17.03</a></li>
  </ul>
</div>

    </div>
</div>

        </div>
    </div>
</nav>

	</header>

	<div class="wrapper right-open">
		<div class="container-fluid">
			<div class="row">
				<div class="col-body">
					<main class="col-content content">
						<section class="section">
							
								
							<h1>Compose ファイル バージョン 1 リファレンス</h1>  <span class="reading-time" title="Estimated reading time">
  <span class="reading-time-label">読む時間の目安: </span>
  
  
    7 分
  
</span>

							
							
							
<h2 id="reference-and-guidelines">リファレンスとガイドライン</h2>

<p>ここに示す内容は Compose ファイルフォーマット、バージョン 1 です。
これは最も古いバージョンです。</p>

<h2 id="compose-and-docker-compatibility-matrix">Compose と Docker の互換マトリックス</h2>

<p>Compose ファイルフォーマットには 1、2、2.x、3.x という複数のバージョンがあります。
その様子は以下の一覧表に見ることができます。
各バージョンにて何が増えたのか、どのようにアップグレードしたのか、といった詳細については <strong><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-versioning/">バージョンとアップグレードについて</a></strong>を参照してください。</p>

<p>以下の一覧表は、Compose ファイルのどのバージョンが Docker リリースをサポートしているかを示すものです。</p>

<table>
  <thead>
    <tr>
      <th><strong>Compose ファイルフォーマット</strong></th>
      <th><strong>Docker Engine リリース</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>3.7</td>
      <td>18.06.0 以上</td>
    </tr>
    <tr>
      <td>3.6</td>
      <td>18.02.0 以上</td>
    </tr>
    <tr>
      <td>3.5</td>
      <td>17.12.0 以上</td>
    </tr>
    <tr>
      <td>3.4</td>
      <td>17.09.0 以上</td>
    </tr>
    <tr>
      <td>3.3</td>
      <td>17.06.0 以上</td>
    </tr>
    <tr>
      <td>3.2</td>
      <td>17.04.0 以上</td>
    </tr>
    <tr>
      <td>3.1</td>
      <td>1.13.1 以上</td>
    </tr>
    <tr>
      <td>3.0</td>
      <td>1.13.0 以上</td>
    </tr>
    <tr>
      <td>2.4</td>
      <td>17.12.0 以上</td>
    </tr>
    <tr>
      <td>2.3</td>
      <td>17.06.0 以上</td>
    </tr>
    <tr>
      <td>2.2</td>
      <td>1.13.0 以上</td>
    </tr>
    <tr>
      <td>2.1</td>
      <td>1.12.0 以上</td>
    </tr>
    <tr>
      <td>2.0</td>
      <td>1.10.0 以上</td>
    </tr>
    <tr>
      <td>1.0</td>
      <td>1.9.1. 以上</td>
    </tr>
  </tbody>
</table>

<p>この表に示している Compose のファイルフォーマットバージョンに加えて、Compose そのもののリリーススケジュールがあります。
詳しくは <a href="https://github.com/docker/compose/releases/">Compose リリース</a>に示されています。
しかしファイルフォーマットのバージョンは、個々のリリースに合わせてバージョンアップする必要がありません。
たとえば Compose ファイルフォーマット 3.0 が初めて導入されたのは  <a href="https://github.com/docker/compose/releases/tag/1.10.0">Compose リリース 1.10.0</a> ですが、その後のリリースの中で、徐々にバージョンアップを行ってきています。</p>

<h2 id="service-configuration-reference">サービス設定リファレンス</h2>

<p>Compose ファイルバージョン 1 は <a href="http://yaml.org/">YAML</a> 形式のファイルであり、<a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#service-configuration-reference">サービス（services）</a> を定義します。</p>

<p>Compose ファイルのデフォルトパスは <code class="highlighter-rouge">./docker-compose.yml</code> です。</p>

<blockquote>
  <p><strong>ヒント</strong>: このファイルの拡張子は <code class="highlighter-rouge">.yml</code> と <code class="highlighter-rouge">.yaml</code> のどちらでも構いません。
いずれでも動作します。</p>
</blockquote>

<p>サービスの定義とは、そのサービスを起動する各コンテナーに適用される設定を行うことです。
コマンドラインから <code class="highlighter-rouge">docker run</code> のパラメーターを受け渡すことと、非常によく似ています。</p>

<p><code class="highlighter-rouge">docker run</code> に関しても同じことが言えますが、Dockerfile にて指定された <code class="highlighter-rouge">CMD</code>、<code class="highlighter-rouge">EXPOSE</code>、<code class="highlighter-rouge">VOLUME</code>、<code class="highlighter-rouge">ENV</code> のようなオプションはデフォルトでは維持されます。したがって <code class="highlighter-rouge">docker-compose.yml</code> の中で再度設定する必要はありません。</p>

<p>このセクションでは、バージョン 1 のサービス定義においてサポートされている設定オプションをすべて説明しています。</p>

<h3 id="build">build</h3>

<p>この設定オプションはビルド時に適用されます。</p>

<p><code class="highlighter-rouge">build</code> の指定は、ビルドコンテキストへのパスを表わす文字列を指定します。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>build: ./dir
</code></pre></div></div>

<blockquote>
  <p><strong>メモ</strong></p>

  <p><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-versioning/#version-1">ファイルフォーマットバージョン 1</a> における <code class="highlighter-rouge">build</code> は、より新しいバージョンに比べると以下の二点の違いがあります。</p>

  <ul>
    <li>文字列指定 (<code class="highlighter-rouge">build: .</code>) のみがサポートされます。
  オブジェクト指定はバージョン 2 およびそれ以降でサポートされます。</li>
    <li><code class="highlighter-rouge">build</code> と <a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#image"><code class="highlighter-rouge">image</code></a> を同時に利用することはできません。
  これを行うとエラーが発生します。</li>
  </ul>
</blockquote>

<h4 id="dockerfile">dockerfile</h4>

<p>別の Dockerfile を指定します。</p>

<p>Compose は指定された別の Dockerfile を使ってビルドを行います。
このときは、ビルドパスを同時に指定しなければなりません。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  build: .
  dockerfile: Dockerfile-alternate
</code></pre></div></div>

<blockquote>
  <p><strong>メモ</strong></p>

  <p><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-versioning/#version-1">ファイルフォーマットバージョン 1</a> における <code class="highlighter-rouge">dockerfile</code> は、より新しいバージョンに比べると以下の二点の違いがあります。</p>

  <ul>
    <li>
      <p>これは <code class="highlighter-rouge">build</code> と同レベルに指定するものであり、サブオプションではありません。</p>
    </li>
    <li>
      <p><code class="highlighter-rouge">dockerfile</code> と <a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#image"><code class="highlighter-rouge">image</code></a> を同時に利用することはできません。
  これを行うとエラーが発生します。</p>
    </li>
  </ul>
</blockquote>

<h3 id="cap_add-cap_drop">cap_add, cap_drop</h3>

<p>コンテナーケーパビリティーの機能を追加または削除します。
詳細な一覧は <code class="highlighter-rouge">man 7 capabilities</code> を参照してください。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cap_add:
  - ALL

cap_drop:
  - NET_ADMIN
  - SYS_ADMIN
</code></pre></div></div>

<blockquote>
  <p><strong>メモ</strong>: Compose ファイルバージョン 3 においてこのオプションは、<a href="https://matsuand.github.io/docs.docker.jp.onthefly/engine/reference/commandline/stack_deploy.md">スウォームモードでのスタックのデプロイ</a>を行う場合には無視されます。</p>
</blockquote>

<h3 id="command">command</h3>

<p>デフォルトコマンドを上書きします。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>command: bundle exec thin -p 3000
</code></pre></div></div>

<p>このコマンドは <a href="https://matsuand.github.io/docs.docker.jp.onthefly/engine/reference/builder.md#cmd">dockerfile</a> の場合と同じように、リスト形式により指定することもできます。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>command: ["bundle", "exec", "thin", "-p", "3000"]
</code></pre></div></div>

<h3 id="cgroup_parent">cgroup_parent</h3>

<p>コンテナーに対して、オプションで指定する親の cgroup を指定します。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cgroup_parent: m-executor-abcd
</code></pre></div></div>

<h3 id="container_name">container_name</h3>

<p>デフォルトのコンテナー名ではない、独自のコンテナー名を設定します。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>container_name: my-web-container
</code></pre></div></div>

<p>Docker コンテナー名はユニークである必要があります。
そこで独自のコンテナー名を設定したときは、サービスをスケールアップして複数コンテナーとすることはできません。
これを行うとエラーが発生します。</p>

<h3 id="devices">devices</h3>

<p>デバイスのマッピングをリスト形式で設定します。
Docker クライアントの create オプションの <code class="highlighter-rouge">--device</code> と同じ書式にします。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>devices:
  - "/dev/ttyUSB0:/dev/ttyUSB0"
</code></pre></div></div>

<h3 id="dns">dns</h3>

<p>DNS サーバーを設定します。
設定は 1 つだけとするか、リストにすることができます。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dns: 8.8.8.8
dns:
  - 8.8.8.8
  - 9.9.9.9
</code></pre></div></div>

<h3 id="dns_search">dns_search</h3>

<p>DNS 検索ドメインを設定します。
設定は 1 つだけとするか、リストにすることができます。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dns_search: example.com
dns_search:
  - dc1.example.com
  - dc2.example.com
</code></pre></div></div>

<h3 id="entrypoint">entrypoint</h3>

<p>デフォルトのエントリーポイントを上書きします。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>entrypoint: /code/entrypoint.sh
</code></pre></div></div>

<p>エントリーポイントはリスト形式で設定することができます。
その指定方法は <a href="https://matsuand.github.io/docs.docker.jp.onthefly/engine/reference/builder.md#entrypoint">Dockerfile</a> と同様です。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>entrypoint:
    - php
    - -d
    - zend_extension=/usr/local/lib/php/extensions/no-debug-non-zts-20100525/xdebug.so
    - -d
    - memory_limit=-1
    - vendor/bin/phpunit
</code></pre></div></div>

<blockquote>
  <p><strong>メモ</strong>: <code class="highlighter-rouge">entrypoint</code> を設定すると、サービスイメージ内に Dockerfile 命令の <code class="highlighter-rouge">ENTRYPOINT</code> によって設定されているデフォルトのエントリーポイントは上書きされ、<strong>さらに</strong>イメージ内のあらゆるデフォルトコマンドもクリアされます。
これはつまり、Dockerfile に <code class="highlighter-rouge">CMD</code> 命令があったとしたら無視されるということです。</p>
</blockquote>

<h3 id="env_file">env_file</h3>

<p>ファイルを用いて環境変数を追加します。
設定は 1 つだけとするか、リストにすることができます。</p>

<p>Compose ファイルを <code class="highlighter-rouge">docker-compose -f FILE</code> という起動により指定している場合、<code class="highlighter-rouge">env_file</code> におけるパスは、Compose ファイルがあるディレクトリからの相対パスとします。</p>

<p>環境変数が <a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#environment">environment</a> の項に宣言されていれば、ここでの設定を<strong>オーバーライド</strong>します。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>env_file: .env

env_file:
  - ./common.env
  - ./apps/web.env
  - /opt/secrets.env
</code></pre></div></div>

<p>env ファイルの各行は <code class="highlighter-rouge">VAR=VAL</code> の書式とします。
行先頭に <code class="highlighter-rouge">#</code> があると、コメント行となり無視されます。
空行も無視されます。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Set Rails/Rack environment
RACK_ENV=development
</code></pre></div></div>

<blockquote>
  <p><strong>メモ</strong>: サービスに <a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#build">build</a> オプションを指定している場合、env ファイル内に定義された変数は、ビルド時に自動的に参照されません。</p>
</blockquote>

<p><code class="highlighter-rouge">VAL</code> の値は記述されたとおりに用いられ、一切修正はされません。
たとえば値がクォートにより囲まれている（よくシェル変数に対して行う）場合、クォートもそのまま値として Compose に受け渡されます。</p>

<p>ファイルを複数用いる場合の順番には気をつけてください。
特に何度も出現する変数に対して、値がどのように決定されるかです。
ファイルが複数指定された場合、その処理は上から順に行われます。
たとえば <code class="highlighter-rouge">a.env</code> ファイルに変数が指定されていて、<code class="highlighter-rouge">b.env</code> ファイルには同じ変数が異なる値で定義されていたとします。
ここで <code class="highlighter-rouge">b.env</code> ファイルが下に（後に）指定されているとします。
このとき変数の値は <code class="highlighter-rouge">b.env</code> のものが採用されます。
さらに例として <code class="highlighter-rouge">docker-compose.yml</code> に以下のような宣言があったとします。</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">services</span><span class="pi">:</span>
  <span class="na">some-service</span><span class="pi">:</span>
    <span class="na">env_file</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">a.env</span>
      <span class="pi">-</span> <span class="s">b.env</span>
</code></pre></div></div>

<p>ファイルの内容は以下であるとします。</p>

<pre><code class="language-none"># a.env
VAR=1
</code></pre>

<pre><code class="language-none"># b.env
VAR=hello
</code></pre>

<p>この結果 <code class="highlighter-rouge">$VAR</code> は <code class="highlighter-rouge">hello</code> になります。</p>

<h3 id="environment">environment</h3>

<p>環境変数を追加します。
配列形式または辞書形式での指定が可能です。
ブール値 <code class="highlighter-rouge">true</code>, <code class="highlighter-rouge">false</code>, <code class="highlighter-rouge">yes</code>, <code class="highlighter-rouge">no</code> を用いる場合は、クォートで囲むことで YML パーサーによって True や False に変換されてしまうのを防ぐ必要があります。</p>

<p>環境変数だけが記述されている場合は、Compose が起動しているマシン上にて定義されている値が設定されます。
これは機密情報やホスト固有の値を設定する場合に利用できます。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>environment:
  RACK_ENV: development
  SHOW: 'true'
  SESSION_SECRET:

environment:
  - RACK_ENV=development
  - SHOW=true
  - SESSION_SECRET
</code></pre></div></div>

<blockquote>
  <p><strong>メモ</strong>: サービスに <a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#build">build</a> オプションを指定している場合、env ファイル内に定義された変数は、ビルド時に自動的に参照されません。</p>
</blockquote>

<h3 id="expose">expose</h3>

<p>ホストマシンにはポートを公開せずに、ポートを expose します。
これはリンクされたサービスのみアクセスが可能になります。
内部ポートのみが指定できます。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>expose:
 - "3000"
 - "8000"
</code></pre></div></div>

<h3 id="extends">extends</h3>

<p>現ファイルや別のファイルにある他のサービスを拡張します。
必要に応じて設定を上書きすることもできます。</p>

<p>別のサービスを <code class="highlighter-rouge">extends</code> により拡張する際には、合わせて他の設定キーを指定することができます。
<code class="highlighter-rouge">extends</code> に設定する値は辞書形式であり、<code class="highlighter-rouge">service</code> キーが必須です。
また必要に応じて指定する <code class="highlighter-rouge">file</code> キーがあります。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>extends:
  file: common.yml
  service: webapp
</code></pre></div></div>

<p><code class="highlighter-rouge">service</code> は拡張するサービスの名前を指定します。
たとえば <code class="highlighter-rouge">web</code> や <code class="highlighter-rouge">database</code> です。
<code class="highlighter-rouge">file</code> は、サービスを定義する Compose 設定ファイルのパスを指定します。</p>

<p><code class="highlighter-rouge">file</code> の指定を省略した場合、Compose はそのサービス設定を現ファイルの中から探します。
<code class="highlighter-rouge">file</code> に指定する値は絶対パス、相対パスのいずれでも構いません。
相対パスを指定した場合、Compose は現ファイルのあるディレクトリからの相対パスとして扱います。</p>

<p>拡張するサービスそのものが、他のサービスを拡張したものも指定可能です。
拡張の繰り返しはいくらでもできます。
ただし Compose は循環参照をサポートしていないため、そのような状況が発生した場合は <code class="highlighter-rouge">docker-compose</code> がエラーを返します。</p>

<p><code class="highlighter-rouge">extends</code> に関する詳細は <a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/extends.md#extending-services">extends ドキュメント</a> を参照してください。</p>

<h3 id="external_links">external_links</h3>

<p>今の <code class="highlighter-rouge">docker-compose.yml</code> からではない別のところから起動されたコンテナーをリンクします。
あるいは Compose の外から、特に共有サービスや汎用サービスとして提供されるコンテナーをリンクします。
<code class="highlighter-rouge">external_links</code> の文法は、オプション <code class="highlighter-rouge">links</code> と同様です。
つまりコンテナー名とリンクのエイリアス名（<code class="highlighter-rouge">CONTAINER:ALIAS</code>）を同時に指定します。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>external_links:
 - redis_1
 - project_db_1:mysql
 - project_db_1:postgresql
</code></pre></div></div>

<h3 id="extra_hosts">extra_hosts</h3>

<p>ホスト名のマッピングを追加します。
Docker Client の <code class="highlighter-rouge">--add-host</code> パラメーターと同じ値を設定してください。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>extra_hosts:
 - "somehost:162.242.195.82"
 - "otherhost:50.31.209.229"
</code></pre></div></div>

<p>ホスト名と IP アドレスによるこの設定内容は、サービスコンテナー内の <code class="highlighter-rouge">/etc/hosts</code> に追加されます。
たとえば以下のとおりです。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>162.242.195.82  somehost
50.31.209.229   otherhost
</code></pre></div></div>

<h3 id="image">image</h3>

<p>コンテナーを起動させるイメージを設定します。
リポジトリ/タグの形式か、あるいは部分イメージ ID により指定します。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>image: redis
image: ubuntu:14.04
image: tutum/influxdb
image: example-registry.com:4000/postgresql
image: a4bc65fd
</code></pre></div></div>

<p>イメージが存在しなかった場合、<a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#build">build</a> を指定していなければ Compose はイメージを取得しようとします。
取得する際には、指定されたオプションを使ってビルドを行い、指定されたタグ名によりタグづけを行います。</p>

<blockquote>
  <p><strong>メモ</strong>: <a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-versioning/#version-1">ファイルフォーマットバージョン 1</a> において <a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#build"><code class="highlighter-rouge">build</code></a> を <code class="highlighter-rouge">image</code> とともに利用することはできません。
これを行うとエラーになります。</p>
</blockquote>

<h3 id="labels">labels</h3>

<p><a href="https://matsuand.github.io/docs.docker.jp.onthefly/engine/userguide/labels-custom-metadata.md">Docker labels</a> を使ってコンテナーにメタデータを追加します。
配列形式と辞書形式のいずれかにより指定します。</p>

<p>他のソフトウェアが用いるラベルとの競合を避けるため、逆 DNS 記法とすることをお勧めします。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>labels:
  com.example.description: "Accounting webapp"
  com.example.department: "Finance"
  com.example.label-with-empty-value: ""

labels:
  - "com.example.description=Accounting webapp"
  - "com.example.department=Finance"
  - "com.example.label-with-empty-value"
</code></pre></div></div>

<h3 id="links">links</h3>

<p>他サービスのコンテナーをリンクします。
サービス名とリンクのエイリアス名（<code class="highlighter-rouge">SERVICE:ALIAS</code>）を指定するか、直接サービス名を指定します。</p>

<blockquote>
  <p>links は古いオプションです。
かわりに <a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#networks">networks</a> を用いることをお勧めします。</p>
</blockquote>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>web:
  links:
   - db
   - db:database
   - redis
</code></pre></div></div>

<p>リンクされたサービスのコンテナーは、エイリアスと同等のホスト名により到達可能になります。
エイリアスが設定されていない場合はサービス名により到達可能です。</p>

<p>Links は <a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#depends_on">depends_on</a> と同様にサービス間の依存関係を表わします。
したがってサービスの起動順を設定するものになります。</p>

<blockquote>
  <p><strong>メモ</strong>： links と <a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#networks">networks</a> をともに設定する場合、リンクするサービスは、少なくとも 1 つのネットワークが共有され通信ができるようにする必要があります。</p>
</blockquote>

<h3 id="log_driver">log_driver</h3>

<blockquote>
  <p><a href="compose-versioning#version-1">ファイルフォーアットバージョン 1</a> のみ。
バージョン 2 またはそれ以降においては、<a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/index.md#logging">logging</a> を用いてください。</p>
</blockquote>

<p>ログドライバーを設定します。
デフォルトは <code class="highlighter-rouge">json-file</code> です。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>log_driver: syslog
</code></pre></div></div>

<h3 id="log_opt">log_opt</h3>

<blockquote>
  <p><a href="compose-versioning#version-1">ファイルフォーアットバージョン 1</a> のみ。
バージョン 2 またはそれ以降においては、<a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/index.md#logging">logging</a> を用いてください。</p>
</blockquote>

<p>ロギングオプションはキーバリューのペアで設定します。
たとえば <code class="highlighter-rouge">syslog</code> オプションは以下のようになります。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>log_opt:
  syslog-address: "tcp://192.168.0.42:123"
</code></pre></div></div>

<h3 id="net">net</h3>

<blockquote>
  <p><a href="compose-versioning#version-1">ファイルフォーアットバージョン 1</a> のみ。
バージョン 2 またはそれ以降においては、<a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/index.md#networkmode">network_mode</a> と <a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/index.md#networks">networks</a> を用いてください。</p>
</blockquote>

<p>ネットワークモードを設定します。
Docker クライアントの <code class="highlighter-rouge">--net</code> パラメーターと同じ値を設定します。
<code class="highlighter-rouge">container:...</code> という書式を使えば、コンテナー名や ID ではなく、サービス名を指定することができます。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>net: "bridge"
net: "host"
net: "none"
net: "container:[service name or container name/id]"
</code></pre></div></div>

<h3 id="pid">pid</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pid: "host"
</code></pre></div></div>

<p>PID モードをホスト PID モードに設定します。
これはコンテナーとホストオペレーティングシステムとの間で、PID アドレス空間の共有を開始します。
このフラグを使って起動したコンテナーは、ベアメタルマシンの名前空間にあるコンテナーにアクセスし、操作することが可能になります。
逆もまた可能です。</p>

<h3 id="ports">ports</h3>

<p>公開用ポートを設定します。
設定は両側のポートを指定するか（<code class="highlighter-rouge">HOST:CONTAINER</code>）、あるいはコンテナー側のポートのみを指定します（その場合、ホスト側はエフェメラルポートが採用されます）。</p>

<blockquote>
  <p><strong>メモ</strong>: <code class="highlighter-rouge">HOST:CONTAINER</code> の書式によってポートをマッピングした場合に、コンテナー側のポートが 60 番未満であるとエラーになることがあります。
これは YAML パーサーが <code class="highlighter-rouge">xx:yy</code> の書式内にある数値を 60 進数値として解釈するからです。
このことからポートマッピングを指定する際には、常に文字列として設定することをお勧めします。</p>
</blockquote>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ports:
 - "3000"
 - "3000-3005"
 - "8000:8000"
 - "9090-9091:8080-8081"
 - "49100:22"
 - "127.0.0.1:8001:8001"
 - "127.0.0.1:5000-5010:5000-5010"
 - "6060:6060/udp"
</code></pre></div></div>

<h3 id="security_opt">security_opt</h3>

<p>各コンテナーにおけるデフォルトのラベリングスキーム（labeling scheme）を上書きします。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>security_opt:
  - label:user:USER
  - label:role:ROLE
</code></pre></div></div>

<h3 id="stop_signal">stop_signal</h3>

<p>コンテナーに対して別の停止シグナルを設定します。
デフォルトにおいて <code class="highlighter-rouge">stop</code> は SIGTERM を用います。
<code class="highlighter-rouge">stop_signal</code> を使って別のシグナルを設定すると <code class="highlighter-rouge">stop</code> にはそのシグナルが代わりに送信されます。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>stop_signal: SIGUSR1
</code></pre></div></div>

<h3 id="ulimits">ulimits</h3>

<p>コンテナーにおけるデフォルトの ulimits を上書きします。
1 つの limit を整数値として指定するか、ソフト、ハードの limit をマッピングとして指定することができます。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ulimits:
  nproc: 65535
  nofile:
    soft: 20000
    hard: 40000
</code></pre></div></div>

<h3 id="volumes-volume_driver">volumes, volume_driver</h3>

<p>パスまたは名前つきボリュームをマウントします。
任意の設定としてホストマシン上のパスを指定したり（<code class="highlighter-rouge">HOST:CONTAINER</code>）、アクセスモードを指定したり(<code class="highlighter-rouge">HOST:CONTAINER:ro</code>)することができます。
<a href="compose-versioning#version-2">ファイルフォーマットバージョン 2</a> における名前つきボリュームは、<a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v2/#volume-configuration-reference">最上位の <code class="highlighter-rouge">volumes</code> キー</a> において指定しておく必要があります。
<a href="compose-versioning#version-1">バージョン 1</a> を利用している場合、名前つきボリュームが存在しないときは Docker Engine が自動的に生成します。</p>

<p>ホスト上の相対パスをマウントすることができます。
これは、用いられている Compose 設定ファイルのディレクトリからの相対パスとして展開されます。
相対パスは <code class="highlighter-rouge">.</code> または <code class="highlighter-rouge">..</code> で書き始める必要があります。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>volumes:
  # パス指定のみ。Engine にボリュームを生成させます。
  - /var/lib/mysql

  # 絶対パスのマッピングを指定。
  - /opt/data:/var/lib/mysql

  # ホストからのパス指定。Compose ファイルからの相対パス。
  - ./cache:/tmp/cache

  # ユーザーディレクトリからの相対パス。
  - ~/configs:/etc/configs/:ro

  # 名前つきボリューム。
  - datavolume:/var/lib/mysql
</code></pre></div></div>

<p>ホストパスを利用せずに <code class="highlighter-rouge">volume_driver</code> を設定することもできます。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>volume_driver: mydriver
</code></pre></div></div>

<p><a href="compose-versioning#versioning">Compose ファイルバージョン</a> に応じて、以下のことを明記しておきます。</p>

<ul>
  <li>
    <p><a href="compose-versioning#version-1">ファイルフォーマットバージョン 1</a> においては, 名前つきボリュームとコンテナーボリュームは、どちらも特定のドライバーを利用します。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">volume_driver</code> も合わせて指定していた場合、パスの解釈は行われません。
たとえばパスのマッピングを <code class="highlighter-rouge">./foo:/data</code> としたとします。
このとき <code class="highlighter-rouge">./foo</code> の部分はボリュームドライバーにそのまま引き渡され、パスが展開されることはありません。</p>
  </li>
</ul>

<p>詳しくは <a href="https://matsuand.github.io/docs.docker.jp.onthefly/engine/userguide/dockervolumes.md">Docker ボリューム</a> と <a href="https://matsuand.github.io/docs.docker.jp.onthefly/engine/extend/plugins_volume.md">ボリュームプラグイン</a> を参照してください。</p>

<h3 id="volumes_from">volumes_from</h3>

<p>別のサービスやコンテナーのボリュームをすべてマウントします。
任意の設定として、アクセスを読み込み専用（<code class="highlighter-rouge">ro</code>）とするか、読み書き可能（<code class="highlighter-rouge">rw</code>）とするかを指定できます。
アクセスレベルが何も設定されていないときは、読み書き可能として設定されます。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>volumes_from:
 - service_name
 - service_name:ro
</code></pre></div></div>

<h3 id="cpu_shares-cpu_quota-cpuset-domainname-hostname-ipc-mac_address-mem_limit-memswap_limit-mem_swappiness-privileged-read_only-restart-shm_size-stdin_open-tty-user-working_dir">cpu_shares, cpu_quota, cpuset, domainname, hostname, ipc, mac_address, mem_limit, memswap_limit, mem_swappiness, privileged, read_only, restart, shm_size, stdin_open, tty, user, working_dir</h3>

<p>ここに示すオプションはいずれも、値 1 つを設定するものであり、<a href="https://matsuand.github.io/docs.docker.jp.onthefly/engine/reference/run.md">docker run</a> のオプションに対応づいています。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cpu_shares: 73
cpu_quota: 50000
cpuset: 0,1

user: postgresql
working_dir: /code

domainname: foo.com
hostname: foo
ipc: host
mac_address: 02:42:ac:11:65:43

mem_limit: 1000000000
memswap_limit: 2000000000
privileged: true

restart: always

read_only: true
shm_size: 64M
stdin_open: true
tty: true
</code></pre></div></div>

<h2 id="compose-documentation">Compose ドキュメント</h2>

<ul>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/index.md">ユーザーガイド</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/install/">Compose のインストール</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-versioning/">Compose ファイルバージョン and upgrading</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/django/">Django を使ってはじめよう</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/rails/">Rails を使ってはじめよう</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/wordpress/">WordPress を使ってはじめよう</a></li>
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/reference/">コマンドラインリファレンス</a></li>
</ul>

							<!-- tags -->
							
							
							
							<span class="glyphicon glyphicon-tags" style="padding-right: 10px"></span><span style="vertical-align: 2px"><a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=fig">fig</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=composition">composition</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=compose version 1">compose version 1</a>, <a href="https://matsuand.github.io/docs.docker.jp.onthefly/glossary/?term=docker">docker</a></span>
							
							<!-- link corrections -->
              <script language="JavaScript">
							var x = document.links.length;
							var baseHref = document.getElementsByTagName('base')[0].href
							for (i = 0; i < x; i++) {
							  var munged = false;
							  var thisHREF = document.links[i].href;
							  var originalURL = "/compose/compose-file/compose-file-v1/";
							  if (thisHREF.indexOf(baseHref + "#") > -1) {
							    // hash fix
							    //console.log('BEFORE: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							    thisHREF = originalURL + thisHREF.replace(baseHref, "");
							    //console.log('AFTER: base:',baseHref,'thisHREF:',thisHREF,'originalURL:',originalURL);
							  }
							  if ((thisHREF.indexOf(window.location.hostname) > -1 || thisHREF.indexOf('http') == -1) && document.links[i].className.indexOf("nomunge") < 0) {
							    munged = true;
							    thisHREF = thisHREF.replace(".md", "/").replace("/index/", "/");
							    document.links[i].setAttribute('href', thisHREF);
							  }
							}
							</script>
							
						  <div id="ratings-div" style="color:#b9c2cc; text-align: center; margin-top: 150px; visibility: hidden">
								<div id="pd_rating_holder_8453675"></div>
								<script type="text/javascript">
									PDRTJS_settings_8453675 = {
										"id": "8453675",
										"unique_id": "compose/compose-file/compose-file-v1.md",
										"title": "Compose ファイル バージョン 1 リファレンス",
										"permalink": "https://github.com/docker/docker.github.io/blob/master/compose/compose-file/compose-file-v1.md"
									};
									(function(d, c, j) {
										if (!document.getElementById(j)) {
											var pd = d.createElement(c),
												s;
											pd.id = j;
											pd.src = ('https:' == document.location.protocol) ? 'https://polldaddy.com/js/rating/rating.js' : 'http://i0.poll.fm/js/rating/rating.js';
											s = document.getElementsByTagName(c)[0];
											s.parentNode.insertBefore(pd, s);
										}
									}(document, 'script', 'pd-rating-js'));
								</script>
							</div>
							
						</section>
					</main>
					<nav class="col-nav">
						<div id="sidebar-nav" class="sidebar hidden-sm hidden-xs">
						<div id="navbar" class="nav-sidebar">
    <ul class="nav" id="jsTOCLeftNav">
    </ul>
</div>

						</div>
					</nav>
					<div class="col-toc">
							<div class="sidebar hidden-xs hidden-sm">
							<div class="toc-nav">
								<div class="feedback-links">
									<ul>
										
										<li style="visibility: hidden"><a href="https://github.com/matsuand/docs.docker.jp/edit/v19.03.local/compose/compose-file/compose-file-v1.md"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> このページの編集</a></li>
										<li><a href="https://github.com/matsuand/docs.docker.jp.onthefly/issues/new?body=File: [compose/compose-file/compose-file-v1.md](https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1/)"
															class="nomunge"><i class="fa fa-check" aria-hidden="true"></i> 文書変更のリクエスト</a></li>
										<li><a href="https://success.docker.com/support"><i class="fa fa-question" aria-hidden="true"></i> サポート依頼</a></li>
										<!-- toggle mode -->
										<li>
											<div class="toggle-mode">
												<div class="icon">
													<i class="fa fa-sun-o" aria-hidden="true"></i>
												</div>
												<div class="toggle-switch">
													<label class="switch">
														<input type="checkbox" id="switch-style">
														<div class="slider round"></div>
												</label>
												</div>
												<div class="icon">
													<i class="fa fa-moon-o" aria-hidden="true"></i>
												</div>
											</div>
										</li>
									</ul>
								</div>
								   
									<div id="side-toc-title">本ページ内</div>
									
<ul id="my_toc" class="inline_toc">
  <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#reference-and-guidelines" class="nomunge">リファレンスとガイドライン</a>
    <ul>
      <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#compose-and-docker-compatibility-matrix" class="nomunge">Compose と Docker の互換マトリックス</a></li>
      <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#service-configuration-reference" class="nomunge">サービス設定リファレンス</a>
        <ul>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#build" class="nomunge">build</a>
            <ul>
              <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#dockerfile" class="nomunge">dockerfile</a></li>
            </ul>
          </li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#cap_add-cap_drop" class="nomunge">cap_add, cap_drop</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#command" class="nomunge">command</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#cgroup_parent" class="nomunge">cgroup_parent</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#container_name" class="nomunge">container_name</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#devices" class="nomunge">devices</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#dns" class="nomunge">dns</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#dns_search" class="nomunge">dns_search</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#entrypoint" class="nomunge">entrypoint</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#env_file" class="nomunge">env_file</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#environment" class="nomunge">environment</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#expose" class="nomunge">expose</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#extends" class="nomunge">extends</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#external_links" class="nomunge">external_links</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#extra_hosts" class="nomunge">extra_hosts</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#image" class="nomunge">image</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#labels" class="nomunge">labels</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#links" class="nomunge">links</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#log_driver" class="nomunge">log_driver</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#log_opt" class="nomunge">log_opt</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#net" class="nomunge">net</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#pid" class="nomunge">pid</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#ports" class="nomunge">ports</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#security_opt" class="nomunge">security_opt</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#stop_signal" class="nomunge">stop_signal</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#ulimits" class="nomunge">ulimits</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#volumes-volume_driver" class="nomunge">volumes, volume_driver</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#volumes_from" class="nomunge">volumes_from</a></li>
          <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#cpu_shares-cpu_quota-cpuset-domainname-hostname-ipc-mac_address-mem_limit-memswap_limit-mem_swappiness-privileged-read_only-restart-shm_size-stdin_open-tty-user-working_dir" class="nomunge">cpu_shares, cpu_quota, cpuset, domainname, hostname, ipc, mac_address, mem_limit, memswap_limit, mem_swappiness, privileged, read_only, restart, shm_size, stdin_open, tty, user, working_dir</a></li>
        </ul>
      </li>
      <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/compose/compose-file/compose-file-v1.md#compose-documentation" class="nomunge">Compose ドキュメント</a></li>
    </ul>
  </li>
</ul>


								</div>
								
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	
	<footer class="footer">
		  
    <div class="container">
        <div class="top_footer">
            <div class="row">
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/what-docker">What is Docker</a></li>
                        <li><a href="https://www.docker.com/what-container">What is a Container</a></li>
                        <li><a href="https://www.docker.com/use-cases">Use Cases</a></li>
                        <li><a href="https://www.docker.com/customers">Customers</a></li>
                        <li><a href="https://www.docker.com/partners/partner-program">Partners</a></li>
                        <li class="break"><a href="https://www.docker.com/industry-government">For Government</a></li>
                        <li><a href="https://www.docker.com/company">About Docker</a></li>
                        <li><a href="https://www.docker.com/company/management">Management</a></li>
                        <li><a href="https://www.docker.com/company/news-and-press">Press &amp; News</a></li>
                        <li><a href="https://www.docker.com/careers">Careers</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/products/overview">Product</a></li>
                        <li><a href="https://www.docker.com/pricing">Pricing</a></li>
                        <li><a href="https://www.docker.com/docker-community">Community Edition</a></li>
                        <li class="break"><a href="https://www.docker.com/enterprise">Enterprise Edition </a></li>
                        <li><a href="https://www.docker.com/products/docker-datacenter">Docker Datacenter</a></li>
                        <li><a href="https://hub.docker.com/">Docker Hub</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://matsuand.github.io/docs.docker.jp.onthefly/">Documentation</a></li>
                        <li><a href="https://www.docker.com/docker">Learn</a></li>
                        <li><a href="https://blog.docker.com" target="_blank">Blog</a></li>
                        <li><a href="https://engineering.docker.com" target="_blank">Engineering Blog</a></li>
                        <li><a href="https://training.docker.com/" target="_blank">Training</a></li>
                        <li><a href="https://success.docker.com/support">Support</a></li>
                        <li><a href="https://success.docker.com/kbase">Knowledge Base</a></li>
                        <li><a href="https://www.docker.com/products/resources">Resources</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-3 col-md-3">
                    <ul class="footer_links">
                        <li><a href="https://www.docker.com/docker-community">Community</a></li>
                        <li><a href="https://www.docker.com/technologies/overview">Open Source</a></li>
                        <li><a href="https://www.docker.com/community/events">Events</a></li>
                        <li><a href="https://forums.docker.com/" target="_blank">Forums</a></li>
                        <li><a href="https://www.docker.com/community/docker-captains">Docker Captains</a></li>
                        <li><a href="https://www.docker.com/docker-community/scholarships">Scholarships</a></li>
                        <li><a href="https://blog.docker.com/curated/">Community News</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-nav">
                <nav class="footer_sub_nav">
                    <ul class="menu">
                        <li><a href="http://status.docker.com/">Status</a></li>
                        <li><a href="https://www.docker.com/docker-security">Security</a></li>
                        <li><a href="https://www.docker.com/legal">Legal</a></li>
                        <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="bottom_footer">
            <div class="footer-copyright col-xs-12 col-md-8">
                <p class="copyright">
                    Copyright &copy; 2019 Docker Inc. All rights reserved. </p>
            </div>
            <div class="footer_social_nav">
                <ul class="nav-social">
                    <li class="fa fa-twitter"><a href="http://twitter.com/docker">Twitter</a></li>
                    <li class="fa fa-youtube"><a href="http://www.youtube.com/user/dockerrun">Youtube</a></li>
                    <li class="fa fa-github"><a href="https://github.com/docker">GitHub</a></li>
                    <li class="fa fa-linkedin"><a href="https://www.linkedin.com/company/docker">Linkedin</a></li>
                    <li class="fa fa-facebook"><a href="https://www.facebook.com/docker.run">Facebook</a></li>
                    <li class="fa fa-reddit"><a href="http://www.reddit.com/r/docker">Reddit</a></li>
                    <li class="fa fa-slideshare"><a href="http://www.slideshare.net/docker">Slideshare</a></li>
                </ul>
            </div>
        </div>
    </div>

	</footer>
	<link rel="stylesheet" href="https://matsuand.github.io/docs.docker.jp.onthefly/css/github.css">
	
	<!-- <script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/anchorlinks.js"></script> -->
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/menu.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/jquery.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/bootstrap.min.js"></script>
	<!-- Always include the archive.js, but it doesn't do much unless we are an archive -->
	<script language="javascript">
	// Default to assuming this is an archive and hiding some stuff
	// See js/archive.js and js/docs.js for logic relating to this
	var isArchive = true;
	var dockerVersion = 'v19.03';
	// In archives, we need to know the page root and we get it from JEKYLL_ENV in the jekyll build command
	var jekyllEnv = 'development';
	// If unset (in non-archive branches), defaults to "development". In that case, reset it to empty
	if (jekyllEnv == 'development') {
		jekyllEnv = '';
	}
	var pageURL = jekyllEnv + '/compose/compose-file/compose-file-v1/';
	</script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/archive.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/stickyfill.min.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/metadata.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/glossary.js"></script>
	<script src="https://matsuand.github.io/docs.docker.jp.onthefly/js/collections_tocs.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/docs.js"></script>
	<script defer src="https://matsuand.github.io/docs.docker.jp.onthefly/js/toc.js"></script>
	<script language="javascript">
	jQuery(document).ready(function(){
				hookupTOCEvents();
			});
	</script>
</body>

</html>
